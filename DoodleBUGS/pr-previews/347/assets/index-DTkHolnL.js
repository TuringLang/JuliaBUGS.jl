(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Jb(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const rr={},ds=[],Sa=()=>{},M2=()=>!1,uc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),e1=t=>t.startsWith("onUpdate:"),Yr=Object.assign,t1=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},R2=Object.prototype.hasOwnProperty,Ut=(t,e)=>R2.call(t,e),bt=Array.isArray,hs=t=>tu(t)==="[object Map]",fc=t=>tu(t)==="[object Set]",sC=t=>tu(t)==="[object Date]",Tt=t=>typeof t=="function",Tr=t=>typeof t=="string",oa=t=>typeof t=="symbol",Jt=t=>t!==null&&typeof t=="object",mR=t=>(Jt(t)||Tt(t))&&Tt(t.then)&&Tt(t.catch),bR=Object.prototype.toString,tu=t=>bR.call(t),P2=t=>tu(t).slice(8,-1),wR=t=>tu(t)==="[object Object]",r1=t=>Tr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ll=Jb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cc=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},k2=/-(\w)/g,Si=cc(t=>t.replace(k2,(e,r)=>r?r.toUpperCase():"")),N2=/\B([A-Z])/g,Ni=cc(t=>t.replace(N2,"-$1").toLowerCase()),xR=cc(t=>t.charAt(0).toUpperCase()+t.slice(1)),eh=cc(t=>t?`on${xR(t)}`:""),xi=(t,e)=>!Object.is(t,e),mf=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},CR=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},mb=t=>{const e=parseFloat(t);return isNaN(e)?t:e},O2=t=>{const e=Tr(t)?Number(t):NaN;return isNaN(e)?t:e};let lC;const dc=()=>lC||(lC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ci(t){if(bt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],a=Tr(n)?q2(n):Ci(n);if(a)for(const i in a)e[i]=a[i]}return e}else if(Tr(t)||Jt(t))return t}const I2=/;(?![^(]*\))/g,F2=/:([^]+)/,B2=/\/\*[^]*?\*\//g;function q2(t){const e={};return t.replace(B2,"").split(I2).forEach(r=>{if(r){const n=r.split(F2);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Xt(t){let e="";if(Tr(t))e=t;else if(bt(t))for(let r=0;r<t.length;r++){const n=Xt(t[r]);n&&(e+=n+" ")}else if(Jt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const z2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",G2=Jb(z2);function ER(t){return!!t||t===""}function H2(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=hc(t[n],e[n]);return r}function hc(t,e){if(t===e)return!0;let r=sC(t),n=sC(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=oa(t),n=oa(e),r||n)return t===e;if(r=bt(t),n=bt(e),r||n)return r&&n?H2(t,e):!1;if(r=Jt(t),n=Jt(e),r||n){if(!r||!n)return!1;const a=Object.keys(t).length,i=Object.keys(e).length;if(a!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(l&&!u||!l&&u||!hc(t[o],e[o]))return!1}}return String(t)===String(e)}function TR(t,e){return t.findIndex(r=>hc(r,e))}const SR=t=>!!(t&&t.__v_isRef===!0),dr=t=>Tr(t)?t:t==null?"":bt(t)||Jt(t)&&(t.toString===bR||!Tt(t.toString))?SR(t)?dr(t.value):JSON.stringify(t,AR,2):String(t),AR=(t,e)=>SR(e)?AR(t,e.value):hs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,a],i)=>(r[th(n,i)+" =>"]=a,r),{})}:fc(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>th(r))}:oa(e)?th(e):Jt(e)&&!bt(e)&&!wR(e)?String(e):e,th=(t,e="")=>{var r;return oa(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fn;class LR{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=fn,!e&&fn&&(this.index=(fn.scopes||(fn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=fn;try{return fn=this,e()}finally{fn=r}}}on(){++this._on===1&&(this.prevScope=fn,fn=this)}off(){this._on>0&&--this._on===0&&(fn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function _R(t){return new LR(t)}function DR(){return fn}function U2(t,e=!1){fn&&fn.cleanups.push(t)}let or;const rh=new WeakSet;class MR{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,fn&&fn.active&&fn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,rh.has(this)&&(rh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||PR(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,uC(this),kR(this);const e=or,r=aa;or=this,aa=!0;try{return this.fn()}finally{NR(this),or=e,aa=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)i1(e);this.deps=this.depsTail=void 0,uC(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?rh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bb(this)&&this.run()}get dirty(){return bb(this)}}let RR=0,_l,Dl;function PR(t,e=!1){if(t.flags|=8,e){t.next=Dl,Dl=t;return}t.next=_l,_l=t}function n1(){RR++}function a1(){if(--RR>0)return;if(Dl){let e=Dl;for(Dl=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;_l;){let e=_l;for(_l=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function kR(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function NR(t){let e,r=t.depsTail,n=r;for(;n;){const a=n.prevDep;n.version===-1?(n===r&&(r=a),i1(n),W2(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}t.deps=e,t.depsTail=r}function bb(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(OR(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function OR(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fl)||(t.globalVersion=Fl,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!bb(t))))return;t.flags|=2;const e=t.dep,r=or,n=aa;or=t,aa=!0;try{kR(t);const a=t.fn(t._value);(e.version===0||xi(a,t._value))&&(t.flags|=128,t._value=a,e.version++)}catch(a){throw e.version++,a}finally{or=r,aa=n,NR(t),t.flags&=-3}}function i1(t,e=!1){const{dep:r,prevSub:n,nextSub:a}=t;if(n&&(n.nextSub=a,t.prevSub=void 0),a&&(a.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)i1(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function W2(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let aa=!0;const IR=[];function Ka(){IR.push(aa),aa=!1}function ja(){const t=IR.pop();aa=t===void 0?!0:t}function uC(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=or;or=void 0;try{e()}finally{or=r}}}let Fl=0;class V2{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class o1{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!or||!aa||or===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==or)r=this.activeLink=new V2(or,this),or.deps?(r.prevDep=or.depsTail,or.depsTail.nextDep=r,or.depsTail=r):or.deps=or.depsTail=r,FR(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=or.depsTail,r.nextDep=void 0,or.depsTail.nextDep=r,or.depsTail=r,or.deps===r&&(or.deps=n)}return r}trigger(e){this.version++,Fl++,this.notify(e)}notify(e){n1();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{a1()}}}function FR(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)FR(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Bf=new WeakMap,po=Symbol(""),wb=Symbol(""),Bl=Symbol("");function cn(t,e,r){if(aa&&or){let n=Bf.get(t);n||Bf.set(t,n=new Map);let a=n.get(r);a||(n.set(r,a=new o1),a.map=n,a.key=r),a.track()}}function Va(t,e,r,n,a,i){const o=Bf.get(t);if(!o){Fl++;return}const l=u=>{u&&u.trigger()};if(n1(),e==="clear")o.forEach(l);else{const u=bt(t),f=u&&r1(r);if(u&&r==="length"){const c=Number(n);o.forEach((h,p)=>{(p==="length"||p===Bl||!oa(p)&&p>=c)&&l(h)})}else switch((r!==void 0||o.has(void 0))&&l(o.get(r)),f&&l(o.get(Bl)),e){case"add":u?f&&l(o.get("length")):(l(o.get(po)),hs(t)&&l(o.get(wb)));break;case"delete":u||(l(o.get(po)),hs(t)&&l(o.get(wb)));break;case"set":hs(t)&&l(o.get(po));break}}a1()}function $2(t,e){const r=Bf.get(t);return r&&r.get(e)}function Zo(t){const e=Nt(t);return e===t?e:(cn(e,"iterate",Bl),Yn(t)?e:e.map(Jr))}function vc(t){return cn(t=Nt(t),"iterate",Bl),t}const Y2={__proto__:null,[Symbol.iterator](){return nh(this,Symbol.iterator,Jr)},concat(...t){return Zo(this).concat(...t.map(e=>bt(e)?Zo(e):e))},entries(){return nh(this,"entries",t=>(t[1]=Jr(t[1]),t))},every(t,e){return qa(this,"every",t,e,void 0,arguments)},filter(t,e){return qa(this,"filter",t,e,r=>r.map(Jr),arguments)},find(t,e){return qa(this,"find",t,e,Jr,arguments)},findIndex(t,e){return qa(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return qa(this,"findLast",t,e,Jr,arguments)},findLastIndex(t,e){return qa(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return qa(this,"forEach",t,e,void 0,arguments)},includes(...t){return ah(this,"includes",t)},indexOf(...t){return ah(this,"indexOf",t)},join(t){return Zo(this).join(t)},lastIndexOf(...t){return ah(this,"lastIndexOf",t)},map(t,e){return qa(this,"map",t,e,void 0,arguments)},pop(){return fl(this,"pop")},push(...t){return fl(this,"push",t)},reduce(t,...e){return fC(this,"reduce",t,e)},reduceRight(t,...e){return fC(this,"reduceRight",t,e)},shift(){return fl(this,"shift")},some(t,e){return qa(this,"some",t,e,void 0,arguments)},splice(...t){return fl(this,"splice",t)},toReversed(){return Zo(this).toReversed()},toSorted(t){return Zo(this).toSorted(t)},toSpliced(...t){return Zo(this).toSpliced(...t)},unshift(...t){return fl(this,"unshift",t)},values(){return nh(this,"values",Jr)}};function nh(t,e,r){const n=vc(t),a=n[e]();return n!==t&&!Yn(t)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=r(i.value)),i}),a}const X2=Array.prototype;function qa(t,e,r,n,a,i){const o=vc(t),l=o!==t&&!Yn(t),u=o[e];if(u!==X2[e]){const h=u.apply(t,i);return l?Jr(h):h}let f=r;o!==t&&(l?f=function(h,p){return r.call(this,Jr(h),p,t)}:r.length>2&&(f=function(h,p){return r.call(this,h,p,t)}));const c=u.call(o,f,n);return l&&a?a(c):c}function fC(t,e,r,n){const a=vc(t);let i=r;return a!==t&&(Yn(t)?r.length>3&&(i=function(o,l,u){return r.call(this,o,l,u,t)}):i=function(o,l,u){return r.call(this,o,Jr(l),u,t)}),a[e](i,...n)}function ah(t,e,r){const n=Nt(t);cn(n,"iterate",Bl);const a=n[e](...r);return(a===-1||a===!1)&&u1(r[0])?(r[0]=Nt(r[0]),n[e](...r)):a}function fl(t,e,r=[]){Ka(),n1();const n=Nt(t)[e].apply(t,r);return a1(),ja(),n}const K2=Jb("__proto__,__v_isRef,__isVue"),BR=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(oa));function j2(t){oa(t)||(t=String(t));const e=Nt(this);return cn(e,"has",t),e.hasOwnProperty(t)}class qR{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const a=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(a?i?oF:UR:i?HR:GR).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=bt(e);if(!a){let u;if(o&&(u=Y2[r]))return u;if(r==="hasOwnProperty")return j2}const l=Reflect.get(e,r,gr(e)?e:n);return(oa(r)?BR.has(r):K2(r))||(a||cn(e,"get",r),i)?l:gr(l)?o&&r1(r)?l:l.value:Jt(l)?a?WR(l):pc(l):l}}class zR extends qR{constructor(e=!1){super(!1,e)}set(e,r,n,a){let i=e[r];if(!this._isShallow){const u=Ai(i);if(!Yn(n)&&!Ai(n)&&(i=Nt(i),n=Nt(n)),!bt(e)&&gr(i)&&!gr(n))return u?!1:(i.value=n,!0)}const o=bt(e)&&r1(r)?Number(r)<e.length:Ut(e,r),l=Reflect.set(e,r,n,gr(e)?e:a);return e===Nt(a)&&(o?xi(n,i)&&Va(e,"set",r,n):Va(e,"add",r,n)),l}deleteProperty(e,r){const n=Ut(e,r);e[r];const a=Reflect.deleteProperty(e,r);return a&&n&&Va(e,"delete",r,void 0),a}has(e,r){const n=Reflect.has(e,r);return(!oa(r)||!BR.has(r))&&cn(e,"has",r),n}ownKeys(e){return cn(e,"iterate",bt(e)?"length":po),Reflect.ownKeys(e)}}class Z2 extends qR{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Q2=new zR,J2=new Z2,eF=new zR(!0);const xb=t=>t,Qu=t=>Reflect.getPrototypeOf(t);function tF(t,e,r){return function(...n){const a=this.__v_raw,i=Nt(a),o=hs(i),l=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,f=a[t](...n),c=r?xb:e?qf:Jr;return!e&&cn(i,"iterate",u?wb:po),{next(){const{value:h,done:p}=f.next();return p?{value:h,done:p}:{value:l?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function Ju(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function rF(t,e){const r={get(a){const i=this.__v_raw,o=Nt(i),l=Nt(a);t||(xi(a,l)&&cn(o,"get",a),cn(o,"get",l));const{has:u}=Qu(o),f=e?xb:t?qf:Jr;if(u.call(o,a))return f(i.get(a));if(u.call(o,l))return f(i.get(l));i!==o&&i.get(a)},get size(){const a=this.__v_raw;return!t&&cn(Nt(a),"iterate",po),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,o=Nt(i),l=Nt(a);return t||(xi(a,l)&&cn(o,"has",a),cn(o,"has",l)),a===l?i.has(a):i.has(a)||i.has(l)},forEach(a,i){const o=this,l=o.__v_raw,u=Nt(l),f=e?xb:t?qf:Jr;return!t&&cn(u,"iterate",po),l.forEach((c,h)=>a.call(i,f(c),f(h),o))}};return Yr(r,t?{add:Ju("add"),set:Ju("set"),delete:Ju("delete"),clear:Ju("clear")}:{add(a){!e&&!Yn(a)&&!Ai(a)&&(a=Nt(a));const i=Nt(this);return Qu(i).has.call(i,a)||(i.add(a),Va(i,"add",a,a)),this},set(a,i){!e&&!Yn(i)&&!Ai(i)&&(i=Nt(i));const o=Nt(this),{has:l,get:u}=Qu(o);let f=l.call(o,a);f||(a=Nt(a),f=l.call(o,a));const c=u.call(o,a);return o.set(a,i),f?xi(i,c)&&Va(o,"set",a,i):Va(o,"add",a,i),this},delete(a){const i=Nt(this),{has:o,get:l}=Qu(i);let u=o.call(i,a);u||(a=Nt(a),u=o.call(i,a)),l&&l.call(i,a);const f=i.delete(a);return u&&Va(i,"delete",a,void 0),f},clear(){const a=Nt(this),i=a.size!==0,o=a.clear();return i&&Va(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=tF(a,t,e)}),r}function s1(t,e){const r=rF(t,e);return(n,a,i)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(Ut(r,a)&&a in n?r:n,a,i)}const nF={get:s1(!1,!1)},aF={get:s1(!1,!0)},iF={get:s1(!0,!1)};const GR=new WeakMap,HR=new WeakMap,UR=new WeakMap,oF=new WeakMap;function sF(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lF(t){return t.__v_skip||!Object.isExtensible(t)?0:sF(P2(t))}function pc(t){return Ai(t)?t:l1(t,!1,Q2,nF,GR)}function uF(t){return l1(t,!1,eF,aF,HR)}function WR(t){return l1(t,!0,J2,iF,UR)}function l1(t,e,r,n,a){if(!Jt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=lF(t);if(i===0)return t;const o=a.get(t);if(o)return o;const l=new Proxy(t,i===2?n:r);return a.set(t,l),l}function Xa(t){return Ai(t)?Xa(t.__v_raw):!!(t&&t.__v_isReactive)}function Ai(t){return!!(t&&t.__v_isReadonly)}function Yn(t){return!!(t&&t.__v_isShallow)}function u1(t){return t?!!t.__v_raw:!1}function Nt(t){const e=t&&t.__v_raw;return e?Nt(e):t}function f1(t){return!Ut(t,"__v_skip")&&Object.isExtensible(t)&&CR(t,"__v_skip",!0),t}const Jr=t=>Jt(t)?pc(t):t,qf=t=>Jt(t)?WR(t):t;function gr(t){return t?t.__v_isRef===!0:!1}function wt(t){return fF(t,!1)}function fF(t,e){return gr(t)?t:new cF(t,e)}class cF{constructor(e,r){this.dep=new o1,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Nt(e),this._value=r?e:Jr(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Yn(e)||Ai(e);e=n?e:Nt(e),xi(e,r)&&(this._rawValue=e,this._value=n?e:Jr(e),this.dep.trigger())}}function Yt(t){return gr(t)?t.value:t}const dF={get:(t,e,r)=>e==="__v_raw"?t:Yt(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const a=t[e];return gr(a)&&!gr(r)?(a.value=r,!0):Reflect.set(t,e,r,n)}};function VR(t){return Xa(t)?t:new Proxy(t,dF)}function hF(t){const e=bt(t)?new Array(t.length):{};for(const r in t)e[r]=$R(t,r);return e}class vF{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return $2(Nt(this._object),this._key)}}class pF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function gF(t,e,r){return gr(t)?t:Tt(t)?new pF(t):Jt(t)&&arguments.length>1?$R(t,e,r):wt(t)}function $R(t,e,r){const n=t[e];return gr(n)?n:new vF(t,e,r)}class yF{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new o1(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&or!==this)return PR(this,!0),!0}get value(){const e=this.dep.track();return OR(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function mF(t,e,r=!1){let n,a;return Tt(t)?n=t:(n=t.get,a=t.set),new yF(n,a,r)}const ef={},zf=new WeakMap;let io;function bF(t,e=!1,r=io){if(r){let n=zf.get(r);n||zf.set(r,n=[]),n.push(t)}}function wF(t,e,r=rr){const{immediate:n,deep:a,once:i,scheduler:o,augmentJob:l,call:u}=r,f=T=>a?T:Yn(T)||a===!1||a===0?$a(T,1):$a(T);let c,h,p,y,g=!1,E=!1;if(gr(t)?(h=()=>t.value,g=Yn(t)):Xa(t)?(h=()=>f(t),g=!0):bt(t)?(E=!0,g=t.some(T=>Xa(T)||Yn(T)),h=()=>t.map(T=>{if(gr(T))return T.value;if(Xa(T))return f(T);if(Tt(T))return u?u(T,2):T()})):Tt(t)?e?h=u?()=>u(t,2):t:h=()=>{if(p){Ka();try{p()}finally{ja()}}const T=io;io=c;try{return u?u(t,3,[y]):t(y)}finally{io=T}}:h=Sa,e&&a){const T=h,A=a===!0?1/0:a;h=()=>$a(T(),A)}const x=DR(),v=()=>{c.stop(),x&&x.active&&t1(x.effects,c)};if(i&&e){const T=e;e=(...A)=>{T(...A),v()}}let C=E?new Array(t.length).fill(ef):ef;const w=T=>{if(!(!(c.flags&1)||!c.dirty&&!T))if(e){const A=c.run();if(a||g||(E?A.some((_,D)=>xi(_,C[D])):xi(A,C))){p&&p();const _=io;io=c;try{const D=[A,C===ef?void 0:E&&C[0]===ef?[]:C,y];C=A,u?u(e,3,D):e(...D)}finally{io=_}}}else c.run()};return l&&l(w),c=new MR(h),c.scheduler=o?()=>o(w,!1):w,y=T=>bF(T,!1,c),p=c.onStop=()=>{const T=zf.get(c);if(T){if(u)u(T,4);else for(const A of T)A();zf.delete(c)}},e?n?w(!0):C=c.run():o?o(w.bind(null,!0),!0):c.run(),v.pause=c.pause.bind(c),v.resume=c.resume.bind(c),v.stop=v,v}function $a(t,e=1/0,r){if(e<=0||!Jt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,gr(t))$a(t.value,e,r);else if(bt(t))for(let n=0;n<t.length;n++)$a(t[n],e,r);else if(fc(t)||hs(t))t.forEach(n=>{$a(n,e,r)});else if(wR(t)){for(const n in t)$a(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&$a(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ru(t,e,r,n){try{return n?t(...n):t()}catch(a){gc(a,e,r)}}function sa(t,e,r,n){if(Tt(t)){const a=ru(t,e,r,n);return a&&mR(a)&&a.catch(i=>{gc(i,e,r)}),a}if(bt(t)){const a=[];for(let i=0;i<t.length;i++)a.push(sa(t[i],e,r,n));return a}}function gc(t,e,r,n=!0){const a=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||rr;if(e){let l=e.parent;const u=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${r}`;for(;l;){const c=l.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,u,f)===!1)return}l=l.parent}if(i){Ka(),ru(i,null,10,[t,u,f]),ja();return}}xF(t,r,a,n,o)}function xF(t,e,r,n=!0,a=!1){if(a)throw t;console.error(t)}const Sn=[];let xa=-1;const vs=[];let yi=null,ss=0;const YR=Promise.resolve();let Gf=null;function nu(t){const e=Gf||YR;return t?e.then(this?t.bind(this):t):e}function CF(t){let e=xa+1,r=Sn.length;for(;e<r;){const n=e+r>>>1,a=Sn[n],i=ql(a);i<t||i===t&&a.flags&2?e=n+1:r=n}return e}function c1(t){if(!(t.flags&1)){const e=ql(t),r=Sn[Sn.length-1];!r||!(t.flags&2)&&e>=ql(r)?Sn.push(t):Sn.splice(CF(e),0,t),t.flags|=1,XR()}}function XR(){Gf||(Gf=YR.then(jR))}function EF(t){bt(t)?vs.push(...t):yi&&t.id===-1?yi.splice(ss+1,0,t):t.flags&1||(vs.push(t),t.flags|=1),XR()}function cC(t,e,r=xa+1){for(;r<Sn.length;r++){const n=Sn[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Sn.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function KR(t){if(vs.length){const e=[...new Set(vs)].sort((r,n)=>ql(r)-ql(n));if(vs.length=0,yi){yi.push(...e);return}for(yi=e,ss=0;ss<yi.length;ss++){const r=yi[ss];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}yi=null,ss=0}}const ql=t=>t.id==null?t.flags&2?-1:1/0:t.id;function jR(t){try{for(xa=0;xa<Sn.length;xa++){const e=Sn[xa];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ru(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;xa<Sn.length;xa++){const e=Sn[xa];e&&(e.flags&=-2)}xa=-1,Sn.length=0,KR(),Gf=null,(Sn.length||vs.length)&&jR()}}let Vr=null,ZR=null;function Hf(t){const e=Vr;return Vr=t,ZR=t&&t.type.__scopeId||null,e}function ht(t,e=Vr,r){if(!e||t._n)return t;const n=(...a)=>{n._d&&xC(-1);const i=Hf(e);let o;try{o=t(...a)}finally{Hf(i),n._d&&xC(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Wn(t,e){if(Vr===null)return t;const r=xc(Vr),n=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[i,o,l,u=rr]=e[a];i&&(Tt(i)&&(i={mounted:i,updated:i}),i.deep&&$a(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function Qi(t,e,r,n){const a=t.dirs,i=e&&e.dirs;for(let o=0;o<a.length;o++){const l=a[o];i&&(l.oldValue=i[o].value);let u=l.dir[n];u&&(Ka(),sa(u,r,8,[t.el,l,t,e]),ja())}}const TF=Symbol("_vte"),QR=t=>t.__isTeleport,mi=Symbol("_leaveCb"),tf=Symbol("_enterCb");function SF(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return La(()=>{t.isMounted=!0}),oP(()=>{t.isUnmounting=!0}),t}const Hn=[Function,Array],JR={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hn,onEnter:Hn,onAfterEnter:Hn,onEnterCancelled:Hn,onBeforeLeave:Hn,onLeave:Hn,onAfterLeave:Hn,onLeaveCancelled:Hn,onBeforeAppear:Hn,onAppear:Hn,onAfterAppear:Hn,onAppearCancelled:Hn},eP=t=>{const e=t.subTree;return e.component?eP(e.component):e},AF={name:"BaseTransition",props:JR,setup(t,{slots:e}){const r=CB(),n=SF();return()=>{const a=e.default&&nP(e.default(),!0);if(!a||!a.length)return;const i=tP(a),o=Nt(t),{mode:l}=o;if(n.isLeaving)return ih(i);const u=dC(i);if(!u)return ih(i);let f=Cb(u,o,n,r,h=>f=h);u.type!==dn&&zl(u,f);let c=r.subTree&&dC(r.subTree);if(c&&c.type!==dn&&!uo(u,c)&&eP(r).type!==dn){let h=Cb(c,o,n,r);if(zl(c,h),l==="out-in"&&u.type!==dn)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete h.afterLeave,c=void 0},ih(i);l==="in-out"&&u.type!==dn?h.delayLeave=(p,y,g)=>{const E=rP(n,c);E[String(c.key)]=c,p[mi]=()=>{y(),p[mi]=void 0,delete f.delayedLeave,c=void 0},f.delayedLeave=()=>{g(),delete f.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function tP(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==dn){e=r;break}}return e}const LF=AF;function rP(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Cb(t,e,r,n,a){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:u,onEnter:f,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:p,onLeave:y,onAfterLeave:g,onLeaveCancelled:E,onBeforeAppear:x,onAppear:v,onAfterAppear:C,onAppearCancelled:w}=e,T=String(t.key),A=rP(r,t),_=(k,B)=>{k&&sa(k,n,9,B)},D=(k,B)=>{const G=B[1];_(k,B),bt(k)?k.every(F=>F.length<=1)&&G():k.length<=1&&G()},R={mode:o,persisted:l,beforeEnter(k){let B=u;if(!r.isMounted)if(i)B=x||u;else return;k[mi]&&k[mi](!0);const G=A[T];G&&uo(t,G)&&G.el[mi]&&G.el[mi](),_(B,[k])},enter(k){let B=f,G=c,F=h;if(!r.isMounted)if(i)B=v||f,G=C||c,F=w||h;else return;let q=!1;const M=k[tf]=P=>{q||(q=!0,P?_(F,[k]):_(G,[k]),R.delayedLeave&&R.delayedLeave(),k[tf]=void 0)};B?D(B,[k,M]):M()},leave(k,B){const G=String(t.key);if(k[tf]&&k[tf](!0),r.isUnmounting)return B();_(p,[k]);let F=!1;const q=k[mi]=M=>{F||(F=!0,B(),M?_(E,[k]):_(g,[k]),k[mi]=void 0,A[G]===t&&delete A[G])};A[G]=t,y?D(y,[k,q]):q()},clone(k){const B=Cb(k,e,r,n,a);return a&&a(B),B}};return R}function ih(t){if(yc(t))return t=Li(t),t.children=null,t}function dC(t){if(!yc(t))return QR(t.type)&&t.children?tP(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&Tt(r.default))return r.default()}}function zl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,zl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function nP(t,e=!1,r){let n=[],a=0;for(let i=0;i<t.length;i++){let o=t[i];const l=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===Vt?(o.patchFlag&128&&a++,n=n.concat(nP(o.children,e,l))):(e||o.type!==dn)&&n.push(l!=null?Li(o,{key:l}):o)}if(a>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function _r(t,e){return Tt(t)?Yr({name:t.name},e,{setup:t}):t}function aP(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Uf(t,e,r,n,a=!1){if(bt(t)){t.forEach((g,E)=>Uf(g,e&&(bt(e)?e[E]:e),r,n,a));return}if(ps(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Uf(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?xc(n.component):n.el,o=a?null:i,{i:l,r:u}=t,f=e&&e.r,c=l.refs===rr?l.refs={}:l.refs,h=l.setupState,p=Nt(h),y=h===rr?()=>!1:g=>Ut(p,g);if(f!=null&&f!==u&&(Tr(f)?(c[f]=null,y(f)&&(h[f]=null)):gr(f)&&(f.value=null)),Tt(u))ru(u,l,12,[o,c]);else{const g=Tr(u),E=gr(u);if(g||E){const x=()=>{if(t.f){const v=g?y(u)?h[u]:c[u]:u.value;a?bt(v)&&t1(v,i):bt(v)?v.includes(i)||v.push(i):g?(c[u]=[i],y(u)&&(h[u]=c[u])):(u.value=[i],t.k&&(c[t.k]=u.value))}else g?(c[u]=o,y(u)&&(h[u]=o)):E&&(u.value=o,t.k&&(c[t.k]=o))};o?(x.id=-1,In(x,r)):x()}}}dc().requestIdleCallback;dc().cancelIdleCallback;const ps=t=>!!t.type.__asyncLoader,yc=t=>t.type.__isKeepAlive;function _F(t,e){iP(t,"a",e)}function DF(t,e){iP(t,"da",e)}function iP(t,e,r=en){const n=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(mc(e,n,r),r){let a=r.parent;for(;a&&a.parent;)yc(a.parent.vnode)&&MF(n,e,r,a),a=a.parent}}function MF(t,e,r,n){const a=mc(e,t,n,!0);_a(()=>{t1(n[e],a)},r)}function mc(t,e,r=en,n=!1){if(r){const a=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ka();const l=au(r),u=sa(e,r,t,o);return l(),ja(),u});return n?a.unshift(i):a.push(i),i}}const Ja=t=>(e,r=en)=>{(!Ul||t==="sp")&&mc(t,(...n)=>e(...n),r)},RF=Ja("bm"),La=Ja("m"),PF=Ja("bu"),kF=Ja("u"),oP=Ja("bum"),_a=Ja("um"),NF=Ja("sp"),OF=Ja("rtg"),IF=Ja("rtc");function FF(t,e=en){mc("ec",t,e)}const BF=Symbol.for("v-ndc");function Bn(t,e,r,n){let a;const i=r,o=bt(t);if(o||Tr(t)){const l=o&&Xa(t);let u=!1,f=!1;l&&(u=!Yn(t),f=Ai(t),t=vc(t)),a=new Array(t.length);for(let c=0,h=t.length;c<h;c++)a[c]=e(u?f?qf(Jr(t[c])):Jr(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){a=new Array(t);for(let l=0;l<t;l++)a[l]=e(l+1,l,void 0,i)}else if(Jt(t))if(t[Symbol.iterator])a=Array.from(t,(l,u)=>e(l,u,void 0,i));else{const l=Object.keys(t);a=new Array(l.length);for(let u=0,f=l.length;u<f;u++){const c=l[u];a[u]=e(t[c],c,u,i)}}else a=[];return a}function gs(t,e,r={},n,a){if(Vr.ce||Vr.parent&&ps(Vr.parent)&&Vr.parent.ce)return e!=="default"&&(r.name=e),rt(),la(Vt,null,[st("slot",r,n)],64);let i=t[e];i&&i._c&&(i._d=!1),rt();const o=i&&sP(i(r)),l=r.key||o&&o.key,u=la(Vt,{key:(l&&!oa(l)?l:`_${e}`)+""},o||[],o&&t._===1?64:-2);return!a&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function sP(t){return t.some(e=>Hl(e)?!(e.type===dn||e.type===Vt&&!sP(e.children)):!0)?t:null}const Eb=t=>t?LP(t)?xc(t):Eb(t.parent):null,Ml=Yr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Eb(t.parent),$root:t=>Eb(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>uP(t),$forceUpdate:t=>t.f||(t.f=()=>{c1(t.update)}),$nextTick:t=>t.n||(t.n=nu.bind(t.proxy)),$watch:t=>sB.bind(t)}),oh=(t,e)=>t!==rr&&!t.__isScriptSetup&&Ut(t,e),qF={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:i,accessCache:o,type:l,appContext:u}=t;let f;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return n[e];case 2:return a[e];case 4:return r[e];case 3:return i[e]}else{if(oh(n,e))return o[e]=1,n[e];if(a!==rr&&Ut(a,e))return o[e]=2,a[e];if((f=t.propsOptions[0])&&Ut(f,e))return o[e]=3,i[e];if(r!==rr&&Ut(r,e))return o[e]=4,r[e];Tb&&(o[e]=0)}}const c=Ml[e];let h,p;if(c)return e==="$attrs"&&cn(t.attrs,"get",""),c(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(r!==rr&&Ut(r,e))return o[e]=4,r[e];if(p=u.config.globalProperties,Ut(p,e))return p[e]},set({_:t},e,r){const{data:n,setupState:a,ctx:i}=t;return oh(a,e)?(a[e]=r,!0):n!==rr&&Ut(n,e)?(n[e]=r,!0):Ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:a,propsOptions:i}},o){let l;return!!r[o]||t!==rr&&Ut(t,o)||oh(e,o)||(l=i[0])&&Ut(l,o)||Ut(n,o)||Ut(Ml,o)||Ut(a.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Ut(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function hC(t){return bt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Tb=!0;function zF(t){const e=uP(t),r=t.proxy,n=t.ctx;Tb=!1,e.beforeCreate&&vC(e.beforeCreate,t,"bc");const{data:a,computed:i,methods:o,watch:l,provide:u,inject:f,created:c,beforeMount:h,mounted:p,beforeUpdate:y,updated:g,activated:E,deactivated:x,beforeDestroy:v,beforeUnmount:C,destroyed:w,unmounted:T,render:A,renderTracked:_,renderTriggered:D,errorCaptured:R,serverPrefetch:k,expose:B,inheritAttrs:G,components:F,directives:q,filters:M}=e;if(f&&GF(f,n,null),o)for(const I in o){const z=o[I];Tt(z)&&(n[I]=z.bind(r))}if(a){const I=a.call(r,r);Jt(I)&&(t.data=pc(I))}if(Tb=!0,i)for(const I in i){const z=i[I],ae=Tt(z)?z.bind(r,r):Tt(z.get)?z.get.bind(r,r):Sa,re=!Tt(z)&&Tt(z.set)?z.set.bind(r):Sa,K=zt({get:ae,set:re});Object.defineProperty(n,I,{enumerable:!0,configurable:!0,get:()=>K.value,set:W=>K.value=W})}if(l)for(const I in l)lP(l[I],n,r,I);if(u){const I=Tt(u)?u.call(r):u;Reflect.ownKeys(I).forEach(z=>{YF(z,I[z])})}c&&vC(c,t,"c");function N(I,z){bt(z)?z.forEach(ae=>I(ae.bind(r))):z&&I(z.bind(r))}if(N(RF,h),N(La,p),N(PF,y),N(kF,g),N(_F,E),N(DF,x),N(FF,R),N(IF,_),N(OF,D),N(oP,C),N(_a,T),N(NF,k),bt(B))if(B.length){const I=t.exposed||(t.exposed={});B.forEach(z=>{Object.defineProperty(I,z,{get:()=>r[z],set:ae=>r[z]=ae})})}else t.exposed||(t.exposed={});A&&t.render===Sa&&(t.render=A),G!=null&&(t.inheritAttrs=G),F&&(t.components=F),q&&(t.directives=q),k&&aP(t)}function GF(t,e,r=Sa){bt(t)&&(t=Sb(t));for(const n in t){const a=t[n];let i;Jt(a)?"default"in a?i=Rl(a.from||n,a.default,!0):i=Rl(a.from||n):i=Rl(a),gr(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function vC(t,e,r){sa(bt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function lP(t,e,r,n){let a=n.includes(".")?CP(r,n):()=>r[n];if(Tr(t)){const i=e[t];Tt(i)&&wr(a,i)}else if(Tt(t))wr(a,t.bind(r));else if(Jt(t))if(bt(t))t.forEach(i=>lP(i,e,r,n));else{const i=Tt(t.handler)?t.handler.bind(r):e[t.handler];Tt(i)&&wr(a,i,t)}}function uP(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let u;return l?u=l:!a.length&&!r&&!n?u=e:(u={},a.length&&a.forEach(f=>Wf(u,f,o,!0)),Wf(u,e,o)),Jt(e)&&i.set(e,u),u}function Wf(t,e,r,n=!1){const{mixins:a,extends:i}=e;i&&Wf(t,i,r,!0),a&&a.forEach(o=>Wf(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const l=HF[o]||r&&r[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const HF={data:pC,props:gC,emits:gC,methods:wl,computed:wl,beforeCreate:En,created:En,beforeMount:En,mounted:En,beforeUpdate:En,updated:En,beforeDestroy:En,beforeUnmount:En,destroyed:En,unmounted:En,activated:En,deactivated:En,errorCaptured:En,serverPrefetch:En,components:wl,directives:wl,watch:WF,provide:pC,inject:UF};function pC(t,e){return e?t?function(){return Yr(Tt(t)?t.call(this,this):t,Tt(e)?e.call(this,this):e)}:e:t}function UF(t,e){return wl(Sb(t),Sb(e))}function Sb(t){if(bt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function En(t,e){return t?[...new Set([].concat(t,e))]:e}function wl(t,e){return t?Yr(Object.create(null),t,e):e}function gC(t,e){return t?bt(t)&&bt(e)?[...new Set([...t,...e])]:Yr(Object.create(null),hC(t),hC(e??{})):e}function WF(t,e){if(!t)return e;if(!e)return t;const r=Yr(Object.create(null),t);for(const n in e)r[n]=En(t[n],e[n]);return r}function fP(){return{app:null,config:{isNativeTag:M2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let VF=0;function $F(t,e){return function(n,a=null){Tt(n)||(n=Yr({},n)),a!=null&&!Jt(a)&&(a=null);const i=fP(),o=new WeakSet,l=[];let u=!1;const f=i.app={_uid:VF++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:DB,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&Tt(c.install)?(o.add(c),c.install(f,...h)):Tt(c)&&(o.add(c),c(f,...h))),f},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),f},component(c,h){return h?(i.components[c]=h,f):i.components[c]},directive(c,h){return h?(i.directives[c]=h,f):i.directives[c]},mount(c,h,p){if(!u){const y=f._ceVNode||st(n,a);return y.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(y,c,p),u=!0,f._container=c,c.__vue_app__=f,xc(y.component)}},onUnmount(c){l.push(c)},unmount(){u&&(sa(l,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(c,h){return i.provides[c]=h,f},runWithContext(c){const h=go;go=f;try{return c()}finally{go=h}}};return f}}let go=null;function YF(t,e){if(en){let r=en.provides;const n=en.parent&&en.parent.provides;n===r&&(r=en.provides=Object.create(n)),r[t]=e}}function Rl(t,e,r=!1){const n=en||Vr;if(n||go){let a=go?go._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&t in a)return a[t];if(arguments.length>1)return r&&Tt(e)?e.call(n&&n.proxy):e}}function XF(){return!!(en||Vr||go)}const cP={},dP=()=>Object.create(cP),hP=t=>Object.getPrototypeOf(t)===cP;function KF(t,e,r,n=!1){const a={},i=dP();t.propsDefaults=Object.create(null),vP(t,e,a,i);for(const o in t.propsOptions[0])o in a||(a[o]=void 0);r?t.props=n?a:uF(a):t.type.props?t.props=a:t.props=i,t.attrs=i}function jF(t,e,r,n){const{props:a,attrs:i,vnode:{patchFlag:o}}=t,l=Nt(a),[u]=t.propsOptions;let f=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(bc(t.emitsOptions,p))continue;const y=e[p];if(u)if(Ut(i,p))y!==i[p]&&(i[p]=y,f=!0);else{const g=Si(p);a[g]=Ab(u,l,g,y,t,!1)}else y!==i[p]&&(i[p]=y,f=!0)}}}else{vP(t,e,a,i)&&(f=!0);let c;for(const h in l)(!e||!Ut(e,h)&&((c=Ni(h))===h||!Ut(e,c)))&&(u?r&&(r[h]!==void 0||r[c]!==void 0)&&(a[h]=Ab(u,l,h,void 0,t,!0)):delete a[h]);if(i!==l)for(const h in i)(!e||!Ut(e,h))&&(delete i[h],f=!0)}f&&Va(t.attrs,"set","")}function vP(t,e,r,n){const[a,i]=t.propsOptions;let o=!1,l;if(e)for(let u in e){if(Ll(u))continue;const f=e[u];let c;a&&Ut(a,c=Si(u))?!i||!i.includes(c)?r[c]=f:(l||(l={}))[c]=f:bc(t.emitsOptions,u)||(!(u in n)||f!==n[u])&&(n[u]=f,o=!0)}if(i){const u=Nt(r),f=l||rr;for(let c=0;c<i.length;c++){const h=i[c];r[h]=Ab(a,u,h,f[h],t,!Ut(f,h))}}return o}function Ab(t,e,r,n,a,i){const o=t[r];if(o!=null){const l=Ut(o,"default");if(l&&n===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Tt(u)){const{propsDefaults:f}=a;if(r in f)n=f[r];else{const c=au(a);n=f[r]=u.call(null,e),c()}}else n=u;a.ce&&a.ce._setProp(r,n)}o[0]&&(i&&!l?n=!1:o[1]&&(n===""||n===Ni(r))&&(n=!0))}return n}const ZF=new WeakMap;function pP(t,e,r=!1){const n=r?ZF:e.propsCache,a=n.get(t);if(a)return a;const i=t.props,o={},l=[];let u=!1;if(!Tt(t)){const c=h=>{u=!0;const[p,y]=pP(h,e,!0);Yr(o,p),y&&l.push(...y)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!u)return Jt(t)&&n.set(t,ds),ds;if(bt(i))for(let c=0;c<i.length;c++){const h=Si(i[c]);yC(h)&&(o[h]=rr)}else if(i)for(const c in i){const h=Si(c);if(yC(h)){const p=i[c],y=o[h]=bt(p)||Tt(p)?{type:p}:Yr({},p),g=y.type;let E=!1,x=!0;if(bt(g))for(let v=0;v<g.length;++v){const C=g[v],w=Tt(C)&&C.name;if(w==="Boolean"){E=!0;break}else w==="String"&&(x=!1)}else E=Tt(g)&&g.name==="Boolean";y[0]=E,y[1]=x,(E||Ut(y,"default"))&&l.push(h)}}const f=[o,l];return Jt(t)&&n.set(t,f),f}function yC(t){return t[0]!=="$"&&!Ll(t)}const d1=t=>t[0]==="_"||t==="$stable",h1=t=>bt(t)?t.map(Ca):[Ca(t)],QF=(t,e,r)=>{if(e._n)return e;const n=ht((...a)=>h1(e(...a)),r);return n._c=!1,n},gP=(t,e,r)=>{const n=t._ctx;for(const a in t){if(d1(a))continue;const i=t[a];if(Tt(i))e[a]=QF(a,i,n);else if(i!=null){const o=h1(i);e[a]=()=>o}}},yP=(t,e)=>{const r=h1(e);t.slots.default=()=>r},mP=(t,e,r)=>{for(const n in e)(r||!d1(n))&&(t[n]=e[n])},JF=(t,e,r)=>{const n=t.slots=dP();if(t.vnode.shapeFlag&32){const a=e._;a?(mP(n,e,r),r&&CR(n,"_",a,!0)):gP(e,n)}else e&&yP(t,e)},eB=(t,e,r)=>{const{vnode:n,slots:a}=t;let i=!0,o=rr;if(n.shapeFlag&32){const l=e._;l?r&&l===1?i=!1:mP(a,e,r):(i=!e.$stable,gP(e,a)),o=e}else e&&(yP(t,e),o={default:1});if(i)for(const l in a)!d1(l)&&o[l]==null&&delete a[l]},In=vB;function tB(t){return rB(t)}function rB(t,e){const r=dc();r.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:o,createText:l,createComment:u,setText:f,setElementText:c,parentNode:h,nextSibling:p,setScopeId:y=Sa,insertStaticContent:g}=t,E=($,ne,le,Se=null,_e=null,be=null,Te=void 0,ve=null,de=!!ne.dynamicChildren)=>{if($===ne)return;$&&!uo($,ne)&&(Se=ee($),W($,_e,be,!0),$=null),ne.patchFlag===-2&&(de=!1,ne.dynamicChildren=null);const{type:ye,ref:Ce,shapeFlag:ue}=ne;switch(ye){case wc:x($,ne,le,Se);break;case dn:v($,ne,le,Se);break;case lh:$==null&&C(ne,le,Se,Te);break;case Vt:F($,ne,le,Se,_e,be,Te,ve,de);break;default:ue&1?A($,ne,le,Se,_e,be,Te,ve,de):ue&6?q($,ne,le,Se,_e,be,Te,ve,de):(ue&64||ue&128)&&ye.process($,ne,le,Se,_e,be,Te,ve,de,ie)}Ce!=null&&_e&&Uf(Ce,$&&$.ref,be,ne||$,!ne)},x=($,ne,le,Se)=>{if($==null)n(ne.el=l(ne.children),le,Se);else{const _e=ne.el=$.el;ne.children!==$.children&&f(_e,ne.children)}},v=($,ne,le,Se)=>{$==null?n(ne.el=u(ne.children||""),le,Se):ne.el=$.el},C=($,ne,le,Se)=>{[$.el,$.anchor]=g($.children,ne,le,Se,$.el,$.anchor)},w=({el:$,anchor:ne},le,Se)=>{let _e;for(;$&&$!==ne;)_e=p($),n($,le,Se),$=_e;n(ne,le,Se)},T=({el:$,anchor:ne})=>{let le;for(;$&&$!==ne;)le=p($),a($),$=le;a(ne)},A=($,ne,le,Se,_e,be,Te,ve,de)=>{ne.type==="svg"?Te="svg":ne.type==="math"&&(Te="mathml"),$==null?_(ne,le,Se,_e,be,Te,ve,de):k($,ne,_e,be,Te,ve,de)},_=($,ne,le,Se,_e,be,Te,ve)=>{let de,ye;const{props:Ce,shapeFlag:ue,transition:Ae,dirs:Pe}=$;if(de=$.el=o($.type,be,Ce&&Ce.is,Ce),ue&8?c(de,$.children):ue&16&&R($.children,de,null,Se,_e,sh($,be),Te,ve),Pe&&Qi($,null,Se,"created"),D(de,$,$.scopeId,Te,Se),Ce){for(const Ye in Ce)Ye!=="value"&&!Ll(Ye)&&i(de,Ye,null,Ce[Ye],be,Se);"value"in Ce&&i(de,"value",null,Ce.value,be),(ye=Ce.onVnodeBeforeMount)&&ga(ye,Se,$)}Pe&&Qi($,null,Se,"beforeMount");const Fe=nB(_e,Ae);Fe&&Ae.beforeEnter(de),n(de,ne,le),((ye=Ce&&Ce.onVnodeMounted)||Fe||Pe)&&In(()=>{ye&&ga(ye,Se,$),Fe&&Ae.enter(de),Pe&&Qi($,null,Se,"mounted")},_e)},D=($,ne,le,Se,_e)=>{if(le&&y($,le),Se)for(let be=0;be<Se.length;be++)y($,Se[be]);if(_e){let be=_e.subTree;if(ne===be||TP(be.type)&&(be.ssContent===ne||be.ssFallback===ne)){const Te=_e.vnode;D($,Te,Te.scopeId,Te.slotScopeIds,_e.parent)}}},R=($,ne,le,Se,_e,be,Te,ve,de=0)=>{for(let ye=de;ye<$.length;ye++){const Ce=$[ye]=ve?bi($[ye]):Ca($[ye]);E(null,Ce,ne,le,Se,_e,be,Te,ve)}},k=($,ne,le,Se,_e,be,Te)=>{const ve=ne.el=$.el;let{patchFlag:de,dynamicChildren:ye,dirs:Ce}=ne;de|=$.patchFlag&16;const ue=$.props||rr,Ae=ne.props||rr;let Pe;if(le&&Ji(le,!1),(Pe=Ae.onVnodeBeforeUpdate)&&ga(Pe,le,ne,$),Ce&&Qi(ne,$,le,"beforeUpdate"),le&&Ji(le,!0),(ue.innerHTML&&Ae.innerHTML==null||ue.textContent&&Ae.textContent==null)&&c(ve,""),ye?B($.dynamicChildren,ye,ve,le,Se,sh(ne,_e),be):Te||z($,ne,ve,null,le,Se,sh(ne,_e),be,!1),de>0){if(de&16)G(ve,ue,Ae,le,_e);else if(de&2&&ue.class!==Ae.class&&i(ve,"class",null,Ae.class,_e),de&4&&i(ve,"style",ue.style,Ae.style,_e),de&8){const Fe=ne.dynamicProps;for(let Ye=0;Ye<Fe.length;Ye++){const We=Fe[Ye],Qe=ue[We],Xe=Ae[We];(Xe!==Qe||We==="value")&&i(ve,We,Qe,Xe,_e,le)}}de&1&&$.children!==ne.children&&c(ve,ne.children)}else!Te&&ye==null&&G(ve,ue,Ae,le,_e);((Pe=Ae.onVnodeUpdated)||Ce)&&In(()=>{Pe&&ga(Pe,le,ne,$),Ce&&Qi(ne,$,le,"updated")},Se)},B=($,ne,le,Se,_e,be,Te)=>{for(let ve=0;ve<ne.length;ve++){const de=$[ve],ye=ne[ve],Ce=de.el&&(de.type===Vt||!uo(de,ye)||de.shapeFlag&198)?h(de.el):le;E(de,ye,Ce,null,Se,_e,be,Te,!0)}},G=($,ne,le,Se,_e)=>{if(ne!==le){if(ne!==rr)for(const be in ne)!Ll(be)&&!(be in le)&&i($,be,ne[be],null,_e,Se);for(const be in le){if(Ll(be))continue;const Te=le[be],ve=ne[be];Te!==ve&&be!=="value"&&i($,be,ve,Te,_e,Se)}"value"in le&&i($,"value",ne.value,le.value,_e)}},F=($,ne,le,Se,_e,be,Te,ve,de)=>{const ye=ne.el=$?$.el:l(""),Ce=ne.anchor=$?$.anchor:l("");let{patchFlag:ue,dynamicChildren:Ae,slotScopeIds:Pe}=ne;Pe&&(ve=ve?ve.concat(Pe):Pe),$==null?(n(ye,le,Se),n(Ce,le,Se),R(ne.children||[],le,Ce,_e,be,Te,ve,de)):ue>0&&ue&64&&Ae&&$.dynamicChildren?(B($.dynamicChildren,Ae,le,_e,be,Te,ve),(ne.key!=null||_e&&ne===_e.subTree)&&bP($,ne,!0)):z($,ne,le,Ce,_e,be,Te,ve,de)},q=($,ne,le,Se,_e,be,Te,ve,de)=>{ne.slotScopeIds=ve,$==null?ne.shapeFlag&512?_e.ctx.activate(ne,le,Se,Te,de):M(ne,le,Se,_e,be,Te,de):P($,ne,de)},M=($,ne,le,Se,_e,be,Te)=>{const ve=$.component=xB($,Se,_e);if(yc($)&&(ve.ctx.renderer=ie),EB(ve,!1,Te),ve.asyncDep){if(_e&&_e.registerDep(ve,N,Te),!$.el){const de=ve.subTree=st(dn);v(null,de,ne,le)}}else N(ve,$,ne,le,_e,be,Te)},P=($,ne,le)=>{const Se=ne.component=$.component;if(dB($,ne,le))if(Se.asyncDep&&!Se.asyncResolved){I(Se,ne,le);return}else Se.next=ne,Se.update();else ne.el=$.el,Se.vnode=ne},N=($,ne,le,Se,_e,be,Te)=>{const ve=()=>{if($.isMounted){let{next:ue,bu:Ae,u:Pe,parent:Fe,vnode:Ye}=$;{const he=wP($);if(he){ue&&(ue.el=Ye.el,I($,ue,Te)),he.asyncDep.then(()=>{$.isUnmounted||ve()});return}}let We=ue,Qe;Ji($,!1),ue?(ue.el=Ye.el,I($,ue,Te)):ue=Ye,Ae&&mf(Ae),(Qe=ue.props&&ue.props.onVnodeBeforeUpdate)&&ga(Qe,Fe,ue,Ye),Ji($,!0);const Xe=bC($),Ve=$.subTree;$.subTree=Xe,E(Ve,Xe,h(Ve.el),ee(Ve),$,_e,be),ue.el=Xe.el,We===null&&hB($,Xe.el),Pe&&In(Pe,_e),(Qe=ue.props&&ue.props.onVnodeUpdated)&&In(()=>ga(Qe,Fe,ue,Ye),_e)}else{let ue;const{el:Ae,props:Pe}=ne,{bm:Fe,m:Ye,parent:We,root:Qe,type:Xe}=$,Ve=ps(ne);Ji($,!1),Fe&&mf(Fe),!Ve&&(ue=Pe&&Pe.onVnodeBeforeMount)&&ga(ue,We,ne),Ji($,!0);{Qe.ce&&Qe.ce._injectChildStyle(Xe);const he=$.subTree=bC($);E(null,he,le,Se,$,_e,be),ne.el=he.el}if(Ye&&In(Ye,_e),!Ve&&(ue=Pe&&Pe.onVnodeMounted)){const he=ne;In(()=>ga(ue,We,he),_e)}(ne.shapeFlag&256||We&&ps(We.vnode)&&We.vnode.shapeFlag&256)&&$.a&&In($.a,_e),$.isMounted=!0,ne=le=Se=null}};$.scope.on();const de=$.effect=new MR(ve);$.scope.off();const ye=$.update=de.run.bind(de),Ce=$.job=de.runIfDirty.bind(de);Ce.i=$,Ce.id=$.uid,de.scheduler=()=>c1(Ce),Ji($,!0),ye()},I=($,ne,le)=>{ne.component=$;const Se=$.vnode.props;$.vnode=ne,$.next=null,jF($,ne.props,Se,le),eB($,ne.children,le),Ka(),cC($),ja()},z=($,ne,le,Se,_e,be,Te,ve,de=!1)=>{const ye=$&&$.children,Ce=$?$.shapeFlag:0,ue=ne.children,{patchFlag:Ae,shapeFlag:Pe}=ne;if(Ae>0){if(Ae&128){re(ye,ue,le,Se,_e,be,Te,ve,de);return}else if(Ae&256){ae(ye,ue,le,Se,_e,be,Te,ve,de);return}}Pe&8?(Ce&16&&Y(ye,_e,be),ue!==ye&&c(le,ue)):Ce&16?Pe&16?re(ye,ue,le,Se,_e,be,Te,ve,de):Y(ye,_e,be,!0):(Ce&8&&c(le,""),Pe&16&&R(ue,le,Se,_e,be,Te,ve,de))},ae=($,ne,le,Se,_e,be,Te,ve,de)=>{$=$||ds,ne=ne||ds;const ye=$.length,Ce=ne.length,ue=Math.min(ye,Ce);let Ae;for(Ae=0;Ae<ue;Ae++){const Pe=ne[Ae]=de?bi(ne[Ae]):Ca(ne[Ae]);E($[Ae],Pe,le,null,_e,be,Te,ve,de)}ye>Ce?Y($,_e,be,!0,!1,ue):R(ne,le,Se,_e,be,Te,ve,de,ue)},re=($,ne,le,Se,_e,be,Te,ve,de)=>{let ye=0;const Ce=ne.length;let ue=$.length-1,Ae=Ce-1;for(;ye<=ue&&ye<=Ae;){const Pe=$[ye],Fe=ne[ye]=de?bi(ne[ye]):Ca(ne[ye]);if(uo(Pe,Fe))E(Pe,Fe,le,null,_e,be,Te,ve,de);else break;ye++}for(;ye<=ue&&ye<=Ae;){const Pe=$[ue],Fe=ne[Ae]=de?bi(ne[Ae]):Ca(ne[Ae]);if(uo(Pe,Fe))E(Pe,Fe,le,null,_e,be,Te,ve,de);else break;ue--,Ae--}if(ye>ue){if(ye<=Ae){const Pe=Ae+1,Fe=Pe<Ce?ne[Pe].el:Se;for(;ye<=Ae;)E(null,ne[ye]=de?bi(ne[ye]):Ca(ne[ye]),le,Fe,_e,be,Te,ve,de),ye++}}else if(ye>Ae)for(;ye<=ue;)W($[ye],_e,be,!0),ye++;else{const Pe=ye,Fe=ye,Ye=new Map;for(ye=Fe;ye<=Ae;ye++){const me=ne[ye]=de?bi(ne[ye]):Ca(ne[ye]);me.key!=null&&Ye.set(me.key,ye)}let We,Qe=0;const Xe=Ae-Fe+1;let Ve=!1,he=0;const j=new Array(Xe);for(ye=0;ye<Xe;ye++)j[ye]=0;for(ye=Pe;ye<=ue;ye++){const me=$[ye];if(Qe>=Xe){W(me,_e,be,!0);continue}let we;if(me.key!=null)we=Ye.get(me.key);else for(We=Fe;We<=Ae;We++)if(j[We-Fe]===0&&uo(me,ne[We])){we=We;break}we===void 0?W(me,_e,be,!0):(j[we-Fe]=ye+1,we>=he?he=we:Ve=!0,E(me,ne[we],le,null,_e,be,Te,ve,de),Qe++)}const pe=Ve?aB(j):ds;for(We=pe.length-1,ye=Xe-1;ye>=0;ye--){const me=Fe+ye,we=ne[me],xe=me+1<Ce?ne[me+1].el:Se;j[ye]===0?E(null,we,le,xe,_e,be,Te,ve,de):Ve&&(We<0||ye!==pe[We]?K(we,le,xe,2):We--)}}},K=($,ne,le,Se,_e=null)=>{const{el:be,type:Te,transition:ve,children:de,shapeFlag:ye}=$;if(ye&6){K($.component.subTree,ne,le,Se);return}if(ye&128){$.suspense.move(ne,le,Se);return}if(ye&64){Te.move($,ne,le,ie);return}if(Te===Vt){n(be,ne,le);for(let ue=0;ue<de.length;ue++)K(de[ue],ne,le,Se);n($.anchor,ne,le);return}if(Te===lh){w($,ne,le);return}if(Se!==2&&ye&1&&ve)if(Se===0)ve.beforeEnter(be),n(be,ne,le),In(()=>ve.enter(be),_e);else{const{leave:ue,delayLeave:Ae,afterLeave:Pe}=ve,Fe=()=>{$.ctx.isUnmounted?a(be):n(be,ne,le)},Ye=()=>{ue(be,()=>{Fe(),Pe&&Pe()})};Ae?Ae(be,Fe,Ye):Ye()}else n(be,ne,le)},W=($,ne,le,Se=!1,_e=!1)=>{const{type:be,props:Te,ref:ve,children:de,dynamicChildren:ye,shapeFlag:Ce,patchFlag:ue,dirs:Ae,cacheIndex:Pe}=$;if(ue===-2&&(_e=!1),ve!=null&&(Ka(),Uf(ve,null,le,$,!0),ja()),Pe!=null&&(ne.renderCache[Pe]=void 0),Ce&256){ne.ctx.deactivate($);return}const Fe=Ce&1&&Ae,Ye=!ps($);let We;if(Ye&&(We=Te&&Te.onVnodeBeforeUnmount)&&ga(We,ne,$),Ce&6)V($.component,le,Se);else{if(Ce&128){$.suspense.unmount(le,Se);return}Fe&&Qi($,null,ne,"beforeUnmount"),Ce&64?$.type.remove($,ne,le,ie,Se):ye&&!ye.hasOnce&&(be!==Vt||ue>0&&ue&64)?Y(ye,ne,le,!1,!0):(be===Vt&&ue&384||!_e&&Ce&16)&&Y(de,ne,le),Se&&Z($)}(Ye&&(We=Te&&Te.onVnodeUnmounted)||Fe)&&In(()=>{We&&ga(We,ne,$),Fe&&Qi($,null,ne,"unmounted")},le)},Z=$=>{const{type:ne,el:le,anchor:Se,transition:_e}=$;if(ne===Vt){U(le,Se);return}if(ne===lh){T($);return}const be=()=>{a(le),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if($.shapeFlag&1&&_e&&!_e.persisted){const{leave:Te,delayLeave:ve}=_e,de=()=>Te(le,be);ve?ve($.el,be,de):de()}else be()},U=($,ne)=>{let le;for(;$!==ne;)le=p($),a($),$=le;a(ne)},V=($,ne,le)=>{const{bum:Se,scope:_e,job:be,subTree:Te,um:ve,m:de,a:ye,parent:Ce,slots:{__:ue}}=$;mC(de),mC(ye),Se&&mf(Se),Ce&&bt(ue)&&ue.forEach(Ae=>{Ce.renderCache[Ae]=void 0}),_e.stop(),be&&(be.flags|=8,W(Te,$,ne,le)),ve&&In(ve,ne),In(()=>{$.isUnmounted=!0},ne),ne&&ne.pendingBranch&&!ne.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===ne.pendingId&&(ne.deps--,ne.deps===0&&ne.resolve())},Y=($,ne,le,Se=!1,_e=!1,be=0)=>{for(let Te=be;Te<$.length;Te++)W($[Te],ne,le,Se,_e)},ee=$=>{if($.shapeFlag&6)return ee($.component.subTree);if($.shapeFlag&128)return $.suspense.next();const ne=p($.anchor||$.el),le=ne&&ne[TF];return le?p(le):ne};let oe=!1;const te=($,ne,le)=>{$==null?ne._vnode&&W(ne._vnode,null,null,!0):E(ne._vnode||null,$,ne,null,null,null,le),ne._vnode=$,oe||(oe=!0,cC(),KR(),oe=!1)},ie={p:E,um:W,m:K,r:Z,mt:M,mc:R,pc:z,pbc:B,n:ee,o:t};return{render:te,hydrate:void 0,createApp:$F(te)}}function sh({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Ji({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function nB(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function bP(t,e,r=!1){const n=t.children,a=e.children;if(bt(n)&&bt(a))for(let i=0;i<n.length;i++){const o=n[i];let l=a[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[i]=bi(a[i]),l.el=o.el),!r&&l.patchFlag!==-2&&bP(o,l)),l.type===wc&&(l.el=o.el),l.type===dn&&!l.el&&(l.el=o.el)}}function aB(t){const e=t.slice(),r=[0];let n,a,i,o,l;const u=t.length;for(n=0;n<u;n++){const f=t[n];if(f!==0){if(a=r[r.length-1],t[a]<f){e[n]=a,r.push(n);continue}for(i=0,o=r.length-1;i<o;)l=i+o>>1,t[r[l]]<f?i=l+1:o=l;f<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function wP(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:wP(e)}function mC(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const iB=Symbol.for("v-scx"),oB=()=>Rl(iB);function wr(t,e,r){return xP(t,e,r)}function xP(t,e,r=rr){const{immediate:n,deep:a,flush:i,once:o}=r,l=Yr({},r),u=e&&n||!e&&i!=="post";let f;if(Ul){if(i==="sync"){const y=oB();f=y.__watcherHandles||(y.__watcherHandles=[])}else if(!u){const y=()=>{};return y.stop=Sa,y.resume=Sa,y.pause=Sa,y}}const c=en;l.call=(y,g,E)=>sa(y,c,g,E);let h=!1;i==="post"?l.scheduler=y=>{In(y,c&&c.suspense)}:i!=="sync"&&(h=!0,l.scheduler=(y,g)=>{g?y():c1(y)}),l.augmentJob=y=>{e&&(y.flags|=4),h&&(y.flags|=2,c&&(y.id=c.uid,y.i=c))};const p=wF(t,e,l);return Ul&&(f?f.push(p):u&&p()),p}function sB(t,e,r){const n=this.proxy,a=Tr(t)?t.includes(".")?CP(n,t):()=>n[t]:t.bind(n,n);let i;Tt(e)?i=e:(i=e.handler,r=e);const o=au(this),l=xP(a,i.bind(n),r);return o(),l}function CP(t,e){const r=e.split(".");return()=>{let n=t;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}const lB=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Si(e)}Modifiers`]||t[`${Ni(e)}Modifiers`];function uB(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||rr;let a=r;const i=e.startsWith("update:"),o=i&&lB(n,e.slice(7));o&&(o.trim&&(a=r.map(c=>Tr(c)?c.trim():c)),o.number&&(a=r.map(mb)));let l,u=n[l=eh(e)]||n[l=eh(Si(e))];!u&&i&&(u=n[l=eh(Ni(e))]),u&&sa(u,t,6,a);const f=n[l+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,sa(f,t,6,a)}}function EP(t,e,r=!1){const n=e.emitsCache,a=n.get(t);if(a!==void 0)return a;const i=t.emits;let o={},l=!1;if(!Tt(t)){const u=f=>{const c=EP(f,e,!0);c&&(l=!0,Yr(o,c))};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!l?(Jt(t)&&n.set(t,null),null):(bt(i)?i.forEach(u=>o[u]=null):Yr(o,i),Jt(t)&&n.set(t,o),o)}function bc(t,e){return!t||!uc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ut(t,e[0].toLowerCase()+e.slice(1))||Ut(t,Ni(e))||Ut(t,e))}function bC(t){const{type:e,vnode:r,proxy:n,withProxy:a,propsOptions:[i],slots:o,attrs:l,emit:u,render:f,renderCache:c,props:h,data:p,setupState:y,ctx:g,inheritAttrs:E}=t,x=Hf(t);let v,C;try{if(r.shapeFlag&4){const T=a||n,A=T;v=Ca(f.call(A,T,c,h,y,p,g)),C=l}else{const T=e;v=Ca(T.length>1?T(h,{attrs:l,slots:o,emit:u}):T(h,null)),C=e.props?l:fB(l)}}catch(T){Pl.length=0,gc(T,t,1),v=st(dn)}let w=v;if(C&&E!==!1){const T=Object.keys(C),{shapeFlag:A}=w;T.length&&A&7&&(i&&T.some(e1)&&(C=cB(C,i)),w=Li(w,C,!1,!0))}return r.dirs&&(w=Li(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&zl(w,r.transition),v=w,Hf(x),v}const fB=t=>{let e;for(const r in t)(r==="class"||r==="style"||uc(r))&&((e||(e={}))[r]=t[r]);return e},cB=(t,e)=>{const r={};for(const n in t)(!e1(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function dB(t,e,r){const{props:n,children:a,component:i}=t,{props:o,children:l,patchFlag:u}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?wC(n,o,f):!!o;if(u&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==n[p]&&!bc(f,p))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:n===o?!1:n?o?wC(n,o,f):!0:!!o;return!1}function wC(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(e[i]!==t[i]&&!bc(r,i))return!0}return!1}function hB({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const TP=t=>t.__isSuspense;function vB(t,e){e&&e.pendingBranch?bt(t)?e.effects.push(...t):e.effects.push(t):EF(t)}const Vt=Symbol.for("v-fgt"),wc=Symbol.for("v-txt"),dn=Symbol.for("v-cmt"),lh=Symbol.for("v-stc"),Pl=[];let Fn=null;function rt(t=!1){Pl.push(Fn=t?null:[])}function pB(){Pl.pop(),Fn=Pl[Pl.length-1]||null}let Gl=1;function xC(t,e=!1){Gl+=t,t<0&&Fn&&e&&(Fn.hasOnce=!0)}function SP(t){return t.dynamicChildren=Gl>0?Fn||ds:null,pB(),Gl>0&&Fn&&Fn.push(t),t}function ut(t,e,r,n,a,i){return SP(Me(t,e,r,n,a,i,!0))}function la(t,e,r,n,a){return SP(st(t,e,r,n,a,!0))}function Hl(t){return t?t.__v_isVNode===!0:!1}function uo(t,e){return t.type===e.type&&t.key===e.key}const AP=({key:t})=>t??null,bf=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Tr(t)||gr(t)||Tt(t)?{i:Vr,r:t,k:e,f:!!r}:t:null);function Me(t,e=null,r=null,n=0,a=null,i=t===Vt?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&AP(e),ref:e&&bf(e),scopeId:ZR,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Vr};return l?(v1(u,r),i&128&&t.normalize(u)):r&&(u.shapeFlag|=Tr(r)?8:16),Gl>0&&!o&&Fn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Fn.push(u),u}const st=gB;function gB(t,e=null,r=null,n=0,a=null,i=!1){if((!t||t===BF)&&(t=dn),Hl(t)){const l=Li(t,e,!0);return r&&v1(l,r),Gl>0&&!i&&Fn&&(l.shapeFlag&6?Fn[Fn.indexOf(t)]=l:Fn.push(l)),l.patchFlag=-2,l}if(LB(t)&&(t=t.__vccOpts),e){e=yB(e);let{class:l,style:u}=e;l&&!Tr(l)&&(e.class=Xt(l)),Jt(u)&&(u1(u)&&!bt(u)&&(u=Yr({},u)),e.style=Ci(u))}const o=Tr(t)?1:TP(t)?128:QR(t)?64:Jt(t)?4:Tt(t)?2:0;return Me(t,e,r,n,a,o,i,!0)}function yB(t){return t?u1(t)||hP(t)?Yr({},t):t:null}function Li(t,e,r=!1,n=!1){const{props:a,ref:i,patchFlag:o,children:l,transition:u}=t,f=e?mB(a||{},e):a,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&AP(f),ref:e&&e.ref?r&&i?bt(i)?i.concat(bf(e)):[i,bf(e)]:bf(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Vt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Li(t.ssContent),ssFallback:t.ssFallback&&Li(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&n&&zl(c,u.clone(c)),c}function St(t=" ",e=0){return st(wc,null,t,e)}function br(t="",e=!1){return e?(rt(),la(dn,null,t)):st(dn,null,t)}function Ca(t){return t==null||typeof t=="boolean"?st(dn):bt(t)?st(Vt,null,t.slice()):Hl(t)?bi(t):st(wc,null,String(t))}function bi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Li(t)}function v1(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(bt(e))r=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),v1(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!hP(e)?e._ctx=Vr:a===3&&Vr&&(Vr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Tt(e)?(e={default:e,_ctx:Vr},r=32):(e=String(e),n&64?(r=16,e=[St(e)]):r=8);t.children=e,t.shapeFlag|=r}function mB(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=Xt([e.class,n.class]));else if(a==="style")e.style=Ci([e.style,n.style]);else if(uc(a)){const i=e[a],o=n[a];o&&i!==o&&!(bt(i)&&i.includes(o))&&(e[a]=i?[].concat(i,o):o)}else a!==""&&(e[a]=n[a])}return e}function ga(t,e,r,n=null){sa(t,e,7,[r,n])}const bB=fP();let wB=0;function xB(t,e,r){const n=t.type,a=(e?e.appContext:t.appContext)||bB,i={uid:wB++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new LR(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pP(n,a),emitsOptions:EP(n,a),emit:null,emitted:null,propsDefaults:rr,inheritAttrs:n.inheritAttrs,ctx:rr,data:rr,props:rr,attrs:rr,slots:rr,refs:rr,setupState:rr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=uB.bind(null,i),t.ce&&t.ce(i),i}let en=null;const CB=()=>en||Vr;let Vf,Lb;{const t=dc(),e=(r,n)=>{let a;return(a=t[r])||(a=t[r]=[]),a.push(n),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};Vf=e("__VUE_INSTANCE_SETTERS__",r=>en=r),Lb=e("__VUE_SSR_SETTERS__",r=>Ul=r)}const au=t=>{const e=en;return Vf(t),t.scope.on(),()=>{t.scope.off(),Vf(e)}},CC=()=>{en&&en.scope.off(),Vf(null)};function LP(t){return t.vnode.shapeFlag&4}let Ul=!1;function EB(t,e=!1,r=!1){e&&Lb(e);const{props:n,children:a}=t.vnode,i=LP(t);KF(t,n,i,e),JF(t,a,r||e);const o=i?TB(t,e):void 0;return e&&Lb(!1),o}function TB(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,qF);const{setup:n}=r;if(n){Ka();const a=t.setupContext=n.length>1?AB(t):null,i=au(t),o=ru(n,t,0,[t.props,a]),l=mR(o);if(ja(),i(),(l||t.sp)&&!ps(t)&&aP(t),l){if(o.then(CC,CC),e)return o.then(u=>{EC(t,u)}).catch(u=>{gc(u,t,0)});t.asyncDep=o}else EC(t,o)}else _P(t)}function EC(t,e,r){Tt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Jt(e)&&(t.setupState=VR(e)),_P(t)}function _P(t,e,r){const n=t.type;t.render||(t.render=n.render||Sa);{const a=au(t);Ka();try{zF(t)}finally{ja(),a()}}}const SB={get(t,e){return cn(t,"get",""),t[e]}};function AB(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,SB),slots:t.slots,emit:t.emit,expose:e}}function xc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(VR(f1(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Ml)return Ml[r](t)},has(e,r){return r in e||r in Ml}})):t.proxy}function LB(t){return Tt(t)&&"__vccOpts"in t}const zt=(t,e)=>mF(t,e,Ul);function _B(t,e,r){const n=arguments.length;return n===2?Jt(e)&&!bt(e)?Hl(e)?st(t,null,[e]):st(t,e):st(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Hl(r)&&(r=[r]),st(t,e,r))}const DB="3.5.15";/**
* @vue/runtime-dom v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _b;const TC=typeof window<"u"&&window.trustedTypes;if(TC)try{_b=TC.createPolicy("vue",{createHTML:t=>t})}catch{}const DP=_b?t=>_b.createHTML(t):t=>t,MB="http://www.w3.org/2000/svg",RB="http://www.w3.org/1998/Math/MathML",Ua=typeof document<"u"?document:null,SC=Ua&&Ua.createElement("template"),PB={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const a=e==="svg"?Ua.createElementNS(MB,t):e==="mathml"?Ua.createElementNS(RB,t):r?Ua.createElement(t,{is:r}):Ua.createElement(t);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>Ua.createTextNode(t),createComment:t=>Ua.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ua.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,a,i){const o=r?r.previousSibling:e.lastChild;if(a&&(a===i||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{SC.innerHTML=DP(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const l=SC.content;if(n==="svg"||n==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},hi="transition",cl="animation",Wl=Symbol("_vtc"),MP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},kB=Yr({},JR,MP),NB=t=>(t.displayName="Transition",t.props=kB,t),p1=NB((t,{slots:e})=>_B(LF,OB(t),e)),eo=(t,e=[])=>{bt(t)?t.forEach(r=>r(...e)):t&&t(...e)},AC=t=>t?bt(t)?t.some(e=>e.length>1):t.length>1:!1;function OB(t){const e={};for(const F in t)F in MP||(e[F]=t[F]);if(t.css===!1)return e;const{name:r="v",type:n,duration:a,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:u=i,appearActiveClass:f=o,appearToClass:c=l,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=t,g=IB(a),E=g&&g[0],x=g&&g[1],{onBeforeEnter:v,onEnter:C,onEnterCancelled:w,onLeave:T,onLeaveCancelled:A,onBeforeAppear:_=v,onAppear:D=C,onAppearCancelled:R=w}=e,k=(F,q,M,P)=>{F._enterCancelled=P,to(F,q?c:l),to(F,q?f:o),M&&M()},B=(F,q)=>{F._isLeaving=!1,to(F,h),to(F,y),to(F,p),q&&q()},G=F=>(q,M)=>{const P=F?D:C,N=()=>k(q,F,M);eo(P,[q,N]),LC(()=>{to(q,F?u:i),za(q,F?c:l),AC(P)||_C(q,n,E,N)})};return Yr(e,{onBeforeEnter(F){eo(v,[F]),za(F,i),za(F,o)},onBeforeAppear(F){eo(_,[F]),za(F,u),za(F,f)},onEnter:G(!1),onAppear:G(!0),onLeave(F,q){F._isLeaving=!0;const M=()=>B(F,q);za(F,h),F._enterCancelled?(za(F,p),RC()):(RC(),za(F,p)),LC(()=>{F._isLeaving&&(to(F,h),za(F,y),AC(T)||_C(F,n,x,M))}),eo(T,[F,M])},onEnterCancelled(F){k(F,!1,void 0,!0),eo(w,[F])},onAppearCancelled(F){k(F,!0,void 0,!0),eo(R,[F])},onLeaveCancelled(F){B(F),eo(A,[F])}})}function IB(t){if(t==null)return null;if(Jt(t))return[uh(t.enter),uh(t.leave)];{const e=uh(t);return[e,e]}}function uh(t){return O2(t)}function za(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Wl]||(t[Wl]=new Set)).add(e)}function to(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Wl];r&&(r.delete(e),r.size||(t[Wl]=void 0))}function LC(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let FB=0;function _C(t,e,r,n){const a=t._endId=++FB,i=()=>{a===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:l,propCount:u}=BB(t,e);if(!o)return n();const f=o+"end";let c=0;const h=()=>{t.removeEventListener(f,p),i()},p=y=>{y.target===t&&++c>=u&&h()};setTimeout(()=>{c<u&&h()},l+1),t.addEventListener(f,p)}function BB(t,e){const r=window.getComputedStyle(t),n=g=>(r[g]||"").split(", "),a=n(`${hi}Delay`),i=n(`${hi}Duration`),o=DC(a,i),l=n(`${cl}Delay`),u=n(`${cl}Duration`),f=DC(l,u);let c=null,h=0,p=0;e===hi?o>0&&(c=hi,h=o,p=i.length):e===cl?f>0&&(c=cl,h=f,p=u.length):(h=Math.max(o,f),c=h>0?o>f?hi:cl:null,p=c?c===hi?i.length:u.length:0);const y=c===hi&&/\b(transform|all)(,|$)/.test(n(`${hi}Property`).toString());return{type:c,timeout:h,propCount:p,hasTransform:y}}function DC(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>MC(r)+MC(t[n])))}function MC(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function RC(){return document.body.offsetHeight}function qB(t,e,r){const n=t[Wl];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const $f=Symbol("_vod"),RP=Symbol("_vsh"),Ga={beforeMount(t,{value:e},{transition:r}){t[$f]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):dl(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),dl(t,!0),n.enter(t)):n.leave(t,()=>{dl(t,!1)}):dl(t,e))},beforeUnmount(t,{value:e}){dl(t,e)}};function dl(t,e){t.style.display=e?t[$f]:"none",t[RP]=!e}const zB=Symbol(""),GB=/(^|;)\s*display\s*:/;function HB(t,e,r){const n=t.style,a=Tr(r);let i=!1;if(r&&!a){if(e)if(Tr(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();r[l]==null&&wf(n,l,"")}else for(const o in e)r[o]==null&&wf(n,o,"");for(const o in r)o==="display"&&(i=!0),wf(n,o,r[o])}else if(a){if(e!==r){const o=n[zB];o&&(r+=";"+o),n.cssText=r,i=GB.test(r)}}else e&&t.removeAttribute("style");$f in t&&(t[$f]=i?n.display:"",t[RP]&&(n.display="none"))}const PC=/\s*!important$/;function wf(t,e,r){if(bt(r))r.forEach(n=>wf(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=UB(t,e);PC.test(r)?t.setProperty(Ni(n),r.replace(PC,""),"important"):t[n]=r}}const kC=["Webkit","Moz","ms"],fh={};function UB(t,e){const r=fh[e];if(r)return r;let n=Si(e);if(n!=="filter"&&n in t)return fh[e]=n;n=xR(n);for(let a=0;a<kC.length;a++){const i=kC[a]+n;if(i in t)return fh[e]=i}return e}const NC="http://www.w3.org/1999/xlink";function OC(t,e,r,n,a,i=G2(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(NC,e.slice(6,e.length)):t.setAttributeNS(NC,e,r):r==null||i&&!ER(r)?t.removeAttribute(e):t.setAttribute(e,i?"":oa(r)?String(r):r)}function IC(t,e,r,n,a){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?DP(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,u=r==null?t.type==="checkbox"?"on":"":String(r);(l!==u||!("_value"in t))&&(t.value=u),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const l=typeof t[e];l==="boolean"?r=ER(r):r==null&&l==="string"?(r="",o=!0):l==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(a||e)}function fo(t,e,r,n){t.addEventListener(e,r,n)}function WB(t,e,r,n){t.removeEventListener(e,r,n)}const FC=Symbol("_vei");function VB(t,e,r,n,a=null){const i=t[FC]||(t[FC]={}),o=i[e];if(n&&o)o.value=n;else{const[l,u]=$B(e);if(n){const f=i[e]=KB(n,a);fo(t,l,f,u)}else o&&(WB(t,l,o,u),i[e]=void 0)}}const BC=/(?:Once|Passive|Capture)$/;function $B(t){let e;if(BC.test(t)){e={};let n;for(;n=t.match(BC);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ni(t.slice(2)),e]}let ch=0;const YB=Promise.resolve(),XB=()=>ch||(YB.then(()=>ch=0),ch=Date.now());function KB(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;sa(jB(n,r.value),e,5,[n])};return r.value=t,r.attached=XB(),r}function jB(t,e){if(bt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const qC=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ZB=(t,e,r,n,a,i)=>{const o=a==="svg";e==="class"?qB(t,n,o):e==="style"?HB(t,r,n):uc(e)?e1(e)||VB(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):QB(t,e,n,o))?(IC(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&OC(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Tr(n))?IC(t,Si(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),OC(t,e,n,o))};function QB(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&qC(e)&&Tt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return qC(e)&&Tr(r)?!1:e in t}const Yf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return bt(e)?r=>mf(e,r):e};function JB(t){t.target.composing=!0}function zC(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ys=Symbol("_assign"),eq={created(t,{modifiers:{lazy:e,trim:r,number:n}},a){t[ys]=Yf(a);const i=n||a.props&&a.props.type==="number";fo(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;r&&(l=l.trim()),i&&(l=mb(l)),t[ys](l)}),r&&fo(t,"change",()=>{t.value=t.value.trim()}),e||(fo(t,"compositionstart",JB),fo(t,"compositionend",zC),fo(t,"change",zC))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:a,number:i}},o){if(t[ys]=Yf(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?mb(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||a&&t.value.trim()===u)||(t.value=u))}},PP={deep:!0,created(t,e,r){t[ys]=Yf(r),fo(t,"change",()=>{const n=t._modelValue,a=tq(t),i=t.checked,o=t[ys];if(bt(n)){const l=TR(n,a),u=l!==-1;if(i&&!u)o(n.concat(a));else if(!i&&u){const f=[...n];f.splice(l,1),o(f)}}else if(fc(n)){const l=new Set(n);i?l.add(a):l.delete(a),o(l)}else o(kP(t,i))})},mounted:GC,beforeUpdate(t,e,r){t[ys]=Yf(r),GC(t,e,r)}};function GC(t,{value:e,oldValue:r},n){t._modelValue=e;let a;if(bt(e))a=TR(e,n.props.value)>-1;else if(fc(e))a=e.has(n.props.value);else{if(e===r)return;a=hc(e,kP(t,!0))}t.checked!==a&&(t.checked=a)}function tq(t){return"_value"in t?t._value:t.value}function kP(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const rq=["ctrl","shift","alt","meta"],nq={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>rq.some(r=>t[`${r}Key`]&&!e.includes(r))},Ir=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(a,...i)=>{for(let o=0;o<e.length;o++){const l=nq[e[o]];if(l&&l(a,e))return}return t(a,...i)})},aq={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},HC=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=a=>{if(!("key"in a))return;const i=Ni(a.key);if(e.some(o=>o===i||aq[o]===i))return t(a)})},iq=Yr({patchProp:ZB},PB);let UC;function oq(){return UC||(UC=tB(iq))}const sq=(...t)=>{const e=oq().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=uq(n);if(!a)return;const i=e._component;!Tt(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=r(a,!1,lq(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},e};function lq(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function uq(t){return Tr(t)?document.querySelector(t):t}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let NP;const Cc=t=>NP=t,OP=Symbol();function Db(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var kl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(kl||(kl={}));function fq(){const t=_R(!0),e=t.run(()=>wt({}));let r=[],n=[];const a=f1({install(i){Cc(a),a._a=i,i.provide(OP,a),i.config.globalProperties.$pinia=a,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return a}const IP=()=>{};function WC(t,e,r,n=IP){t.push(e);const a=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&DR()&&U2(a),a}function Qo(t,...e){t.slice().forEach(r=>{r(...e)})}const cq=t=>t(),VC=Symbol(),dh=Symbol();function Mb(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],a=t[r];Db(a)&&Db(n)&&t.hasOwnProperty(r)&&!gr(n)&&!Xa(n)?t[r]=Mb(a,n):t[r]=n}return t}const dq=Symbol();function hq(t){return!Db(t)||!Object.prototype.hasOwnProperty.call(t,dq)}const{assign:gi}=Object;function vq(t){return!!(gr(t)&&t.effect)}function pq(t,e,r,n){const{state:a,actions:i,getters:o}=e,l=r.state.value[t];let u;function f(){l||(r.state.value[t]=a?a():{});const c=hF(r.state.value[t]);return gi(c,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=f1(zt(()=>{Cc(r);const y=r._s.get(t);return o[p].call(y,y)})),h),{}))}return u=FP(t,f,e,r,n,!0),u}function FP(t,e,r={},n,a,i){let o;const l=gi({actions:{}},r),u={deep:!0};let f,c,h=[],p=[],y;const g=n.state.value[t];!i&&!g&&(n.state.value[t]={}),wt({});let E;function x(R){let k;f=c=!1,typeof R=="function"?(R(n.state.value[t]),k={type:kl.patchFunction,storeId:t,events:y}):(Mb(n.state.value[t],R),k={type:kl.patchObject,payload:R,storeId:t,events:y});const B=E=Symbol();nu().then(()=>{E===B&&(f=!0)}),c=!0,Qo(h,k,n.state.value[t])}const v=i?function(){const{state:k}=r,B=k?k():{};this.$patch(G=>{gi(G,B)})}:IP;function C(){o.stop(),h=[],p=[],n._s.delete(t)}const w=(R,k="")=>{if(VC in R)return R[dh]=k,R;const B=function(){Cc(n);const G=Array.from(arguments),F=[],q=[];function M(I){F.push(I)}function P(I){q.push(I)}Qo(p,{args:G,name:B[dh],store:A,after:M,onError:P});let N;try{N=R.apply(this&&this.$id===t?this:A,G)}catch(I){throw Qo(q,I),I}return N instanceof Promise?N.then(I=>(Qo(F,I),I)).catch(I=>(Qo(q,I),Promise.reject(I))):(Qo(F,N),N)};return B[VC]=!0,B[dh]=k,B},T={_p:n,$id:t,$onAction:WC.bind(null,p),$patch:x,$reset:v,$subscribe(R,k={}){const B=WC(h,R,k.detached,()=>G()),G=o.run(()=>wr(()=>n.state.value[t],F=>{(k.flush==="sync"?c:f)&&R({storeId:t,type:kl.direct,events:y},F)},gi({},u,k)));return B},$dispose:C},A=pc(T);n._s.set(t,A);const D=(n._a&&n._a.runWithContext||cq)(()=>n._e.run(()=>(o=_R()).run(()=>e({action:w}))));for(const R in D){const k=D[R];if(gr(k)&&!vq(k)||Xa(k))i||(g&&hq(k)&&(gr(k)?k.value=g[R]:Mb(k,g[R])),n.state.value[t][R]=k);else if(typeof k=="function"){const B=w(k,R);D[R]=B,l.actions[R]=k}}return gi(A,D),gi(Nt(A),D),Object.defineProperty(A,"$state",{get:()=>n.state.value[t],set:R=>{x(k=>{gi(k,R)})}}),n._p.forEach(R=>{gi(A,o.run(()=>R({store:A,app:n._a,pinia:n,options:l})))}),g&&i&&r.hydrate&&r.hydrate(A.$state,g),f=!0,c=!0,A}/*! #__NO_SIDE_EFFECTS__ */function Ec(t,e,r){let n;const a=typeof e=="function";n=a?r:e;function i(o,l){const u=XF();return o=o||(u?Rl(OP,null):null),o&&Cc(o),o=NP,o._s.has(t)||(a?FP(t,e,n,o):pq(t,n,o)),o._s.get(t)}return i.$id=t,i}function Rb(t){const e=Nt(t),r={};for(const n in e){const a=e[n];a.effect?r[n]=zt({get:()=>t[n],set(i){t[n]=i}}):(gr(a)||Xa(a))&&(r[n]=gF(t,n))}return r}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function gq(t){if(Array.isArray(t))return t}function yq(t){if(Array.isArray(t))return Pb(t)}function Oi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qP(n.key),n)}}function Ii(t,e,r){return e&&mq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pn(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=g1(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return o=u.done,u},e:function(u){l=!0,i=u},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function BP(t,e,r){return(e=qP(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(c){f=!0,a=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return l}}function xq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Br(t,e){return gq(t)||wq(t,e)||g1(t,e)||xq()}function Xf(t){return yq(t)||bq(t)||g1(t)||Cq()}function Eq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qP(t){var e=Eq(t,"string");return typeof e=="symbol"?e:e+""}function zr(t){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(t)}function g1(t,e){if(t){if(typeof t=="string")return Pb(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pb(t,e):void 0}}var Fr=typeof window>"u"?null:window,$C=Fr?Fr.navigator:null;Fr&&Fr.document;var Tq=zr(""),zP=zr({}),Sq=zr(function(){}),Aq=typeof HTMLElement>"u"?"undefined":zr(HTMLElement),iu=function(e){return e&&e.instanceString&&yr(e.instanceString)?e.instanceString():null},mt=function(e){return e!=null&&zr(e)==Tq},yr=function(e){return e!=null&&zr(e)===Sq},ar=function(e){return!qn(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},It=function(e){return e!=null&&zr(e)===zP&&!ar(e)&&e.constructor===Object},Lq=function(e){return e!=null&&zr(e)===zP},at=function(e){return e!=null&&zr(e)===zr(1)&&!isNaN(e)},_q=function(e){return at(e)&&Math.floor(e)===e},Kf=function(e){if(Aq!=="undefined")return e!=null&&e instanceof HTMLElement},qn=function(e){return ou(e)||GP(e)},ou=function(e){return iu(e)==="collection"&&e._private.single},GP=function(e){return iu(e)==="collection"&&!e._private.single},y1=function(e){return iu(e)==="core"},HP=function(e){return iu(e)==="stylesheet"},Dq=function(e){return iu(e)==="event"},_i=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},Mq=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Rq=function(e){return It(e)&&at(e.x1)&&at(e.x2)&&at(e.y1)&&at(e.y2)},Pq=function(e){return Lq(e)&&yr(e.then)},kq=function(){return $C&&$C.userAgent.match(/msie|trident|edge/i)},Cs=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function(){var i=this,o=arguments,l,u=r.apply(i,o),f=n.cache;return(l=f[u])||(l=f[u]=e.apply(i,o)),l};return n.cache={},n},m1=Cs(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Tc=Cs(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),UP=Cs(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),YC=function(e){return _i(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},qr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Nq="rgb[a]?\\(("+qr+"[%]?)\\s*,\\s*("+qr+"[%]?)\\s*,\\s*("+qr+"[%]?)(?:\\s*,\\s*("+qr+"))?\\)",Oq="rgb[a]?\\((?:"+qr+"[%]?)\\s*,\\s*(?:"+qr+"[%]?)\\s*,\\s*(?:"+qr+"[%]?)(?:\\s*,\\s*(?:"+qr+"))?\\)",Iq="hsl[a]?\\(("+qr+")\\s*,\\s*("+qr+"[%])\\s*,\\s*("+qr+"[%])(?:\\s*,\\s*("+qr+"))?\\)",Fq="hsl[a]?\\((?:"+qr+")\\s*,\\s*(?:"+qr+"[%])\\s*,\\s*(?:"+qr+"[%])(?:\\s*,\\s*(?:"+qr+"))?\\)",Bq="\\#[0-9a-fA-F]{3}",qq="\\#[0-9a-fA-F]{6}",WP=function(e,r){return e<r?-1:e>r?1:0},zq=function(e,r){return-1*WP(e,r)},xt=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];t[o]=n[o]}}return t},Gq=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,o=16;return r?(n=parseInt(e[1]+e[1],o),a=parseInt(e[2]+e[2],o),i=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),a=parseInt(e[3]+e[4],o),i=parseInt(e[5]+e[6],o)),[n,a,i]}},Hq=function(e){var r,n,a,i,o,l,u,f;function c(g,E,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?g+(E-g)*6*x:x<1/2?E:x<2/3?g+(E-g)*(2/3-x)*6:g}var h=new RegExp("^"+Iq+"$").exec(e);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(h[2]),a<0||a>100||(a=a/100,i=parseFloat(h[3]),i<0||i>100)||(i=i/100,o=h[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)l=u=f=Math.round(i*255);else{var p=i<.5?i*(1+a):i+a-i*a,y=2*i-p;l=Math.round(255*c(y,p,n+1/3)),u=Math.round(255*c(y,p,n)),f=Math.round(255*c(y,p,n-1/3))}r=[l,u,f,o]}return r},Uq=function(e){var r,n=new RegExp("^"+Nq+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var l=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(l&&!u)return;var f=n[4];if(f!==void 0){if(f=parseFloat(f),f<0||f>1)return;r.push(f)}}return r},Wq=function(e){return Vq[e.toLowerCase()]},VP=function(e){return(ar(e)?e:null)||Wq(e)||Gq(e)||Uq(e)||Hq(e)},Vq={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},$P=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(It(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=e.value}},YP=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(It(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function su(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hh,XC;function lu(){if(XC)return hh;XC=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return hh=t,hh}var vh,KC;function $q(){if(KC)return vh;KC=1;var t=typeof rf=="object"&&rf&&rf.Object===Object&&rf;return vh=t,vh}var ph,jC;function Sc(){if(jC)return ph;jC=1;var t=$q(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return ph=r,ph}var gh,ZC;function Yq(){if(ZC)return gh;ZC=1;var t=Sc(),e=function(){return t.Date.now()};return gh=e,gh}var yh,QC;function Xq(){if(QC)return yh;QC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return yh=e,yh}var mh,JC;function Kq(){if(JC)return mh;JC=1;var t=Xq(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return mh=r,mh}var bh,eE;function b1(){if(eE)return bh;eE=1;var t=Sc(),e=t.Symbol;return bh=e,bh}var wh,tE;function jq(){if(tE)return wh;tE=1;var t=b1(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=r.call(o,a),u=o[a];try{o[a]=void 0;var f=!0}catch{}var c=n.call(o);return f&&(l?o[a]=u:delete o[a]),c}return wh=i,wh}var xh,rE;function Zq(){if(rE)return xh;rE=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return xh=r,xh}var Ch,nE;function XP(){if(nE)return Ch;nE=1;var t=b1(),e=jq(),r=Zq(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return Ch=o,Ch}var Eh,aE;function Qq(){if(aE)return Eh;aE=1;function t(e){return e!=null&&typeof e=="object"}return Eh=t,Eh}var Th,iE;function uu(){if(iE)return Th;iE=1;var t=XP(),e=Qq(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Th=n,Th}var Sh,oE;function Jq(){if(oE)return Sh;oE=1;var t=Kq(),e=lu(),r=uu(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var c=typeof f.valueOf=="function"?f.valueOf():f;f=e(c)?c+"":c}if(typeof f!="string")return f===0?f:+f;f=t(f);var h=i.test(f);return h||o.test(f)?l(f.slice(2),h?2:8):a.test(f)?n:+f}return Sh=u,Sh}var Ah,sE;function ez(){if(sE)return Ah;sE=1;var t=lu(),e=Yq(),r=Jq(),n="Expected a function",a=Math.max,i=Math.min;function o(l,u,f){var c,h,p,y,g,E,x=0,v=!1,C=!1,w=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,t(f)&&(v=!!f.leading,C="maxWait"in f,p=C?a(r(f.maxWait)||0,u):p,w="trailing"in f?!!f.trailing:w);function T(q){var M=c,P=h;return c=h=void 0,x=q,y=l.apply(P,M),y}function A(q){return x=q,g=setTimeout(R,u),v?T(q):y}function _(q){var M=q-E,P=q-x,N=u-M;return C?i(N,p-P):N}function D(q){var M=q-E,P=q-x;return E===void 0||M>=u||M<0||C&&P>=p}function R(){var q=e();if(D(q))return k(q);g=setTimeout(R,_(q))}function k(q){return g=void 0,w&&c?T(q):(c=h=void 0,y)}function B(){g!==void 0&&clearTimeout(g),x=0,c=E=h=g=void 0}function G(){return g===void 0?y:k(e())}function F(){var q=e(),M=D(q);if(c=arguments,h=this,E=q,M){if(g===void 0)return A(E);if(C)return clearTimeout(g),g=setTimeout(R,u),T(E)}return g===void 0&&(g=setTimeout(R,u)),y}return F.cancel=B,F.flush=G,F}return Ah=o,Ah}var tz=ez(),fu=su(tz),Lh=Fr?Fr.performance:null,KP=Lh&&Lh.now?function(){return Lh.now()}:function(){return Date.now()},rz=function(){if(Fr){if(Fr.requestAnimationFrame)return function(t){Fr.requestAnimationFrame(t)};if(Fr.mozRequestAnimationFrame)return function(t){Fr.mozRequestAnimationFrame(t)};if(Fr.webkitRequestAnimationFrame)return function(t){Fr.webkitRequestAnimationFrame(t)};if(Fr.msRequestAnimationFrame)return function(t){Fr.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(KP())},1e3/60)}}(),jf=function(e){return rz(e)},Za=KP,co=9261,jP=65599,ls=5381,ZP=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:co,n=r,a;a=e.next(),!a.done;)n=n*jP+a.value|0;return n},Vl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:co;return r*jP+e|0},$l=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ls;return(r<<5)+r+e|0},nz=function(e,r){return e*2097152+r},vi=function(e){return e[0]*2097152+e[1]},nf=function(e,r){return[Vl(e[0],r[0]),$l(e[1],r[1])]},lE=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return ZP(o,r)},yo=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return ZP(o,r)},QP=function(){return az(arguments)},az=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=yo(a):r=yo(a,r)}return r},uE=!0,iz=console.warn!=null,oz=console.trace!=null,w1=Number.MAX_SAFE_INTEGER||9007199254740991,JP=function(){return!0},Zf=function(){return!1},fE=function(){return 0},x1=function(){},pr=function(e){throw new Error(e)},ek=function(e){if(e!==void 0)uE=!!e;else return uE},$t=function(e){ek()&&(iz?console.warn(e):(console.log(e),oz&&console.trace()))},sz=function(e){return xt({},e)},Ea=function(e){return e==null?e:ar(e)?e.slice():It(e)?sz(e):e},lz=function(e){return e.slice()},tk=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},uz={},rk=function(){return uz},nn=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],l=n==null?void 0:n[o];a[o]=l===void 0?e[o]:l}return a}},Di=function(e,r,n){for(var a=e.length-1;a>=0;a--)e[a]===r&&e.splice(a,1)},C1=function(e){e.splice(0,e.length)},fz=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},Mn=function(e,r,n){return n&&(r=UP(n,r)),e[r]},Wa=function(e,r,n,a){n&&(r=UP(n,r)),e[r]=a},cz=function(){function t(){Oi(this,t),this._obj={}}return Ii(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])}(),Ya=typeof Map<"u"?Map:cz,dz="undefined",hz=function(){function t(e){if(Oi(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Ii(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])}(),As=(typeof Set>"u"?"undefined":zr(Set))!==dz?Set:hz,Ac=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!y1(e)){pr("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){pr("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new As,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,l=e.pan(),u=e.zoom();i.position={x:(o.x-l.x)/u,y:(o.y-l.y)/u}}var f=[];ar(r.classes)?f=r.classes:mt(r.classes)&&(f=r.classes.split(/\s+/));for(var c=0,h=f.length;c<h;c++){var p=f[c];!p||p===""||i.classes.add(p)}this.createEmitter(),(n===void 0||n)&&this.restore();var y=r.style||r.css;y&&($t("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(y))},cE=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var o;It(n)&&!qn(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!yr(a)?a:i,a=yr(a)?a:function(){};for(var l=this._private.cy,u=n=mt(n)?this.filter(n):n,f=[],c=[],h={},p={},y={},g=0,E,x=this.byGroup(),v=x.nodes,C=x.edges,w=0;w<u.length;w++){var T=u[w],A=T.id();T.isNode()&&(f.unshift(T),e.bfs&&(y[A]=!0,c.push(T)),p[A]=0)}for(var _=function(){var q=e.bfs?f.shift():f.pop(),M=q.id();if(e.dfs){if(y[M])return 0;y[M]=!0,c.push(q)}var P=p[M],N=h[M],I=N!=null?N.source():null,z=N!=null?N.target():null,ae=N==null?void 0:q.same(I)?z[0]:I[0],re;if(re=a(q,N,ae,g++,P),re===!0)return E=q,1;if(re===!1)return 1;for(var K=q.connectedEdges().filter(function(Y){return(!i||Y.source().same(q))&&C.has(Y)}),W=0;W<K.length;W++){var Z=K[W],U=Z.connectedNodes().filter(function(Y){return!Y.same(q)&&v.has(Y)}),V=U.id();U.length!==0&&!y[V]&&(U=U[0],f.push(U),e.bfs&&(y[V]=!0,c.push(U)),h[V]=Z,p[V]=p[M]+1)}},D;f.length!==0&&(D=_(),!(D!==0&&D===1)););for(var R=l.collection(),k=0;k<c.length;k++){var B=c[k],G=h[B.id()];G!=null&&R.push(G),R.push(B)}return{path:l.collection(R),found:l.collection(E)}}},Yl={breadthFirstSearch:cE({bfs:!0}),depthFirstSearch:cE({dfs:!0})};Yl.bfs=Yl.breadthFirstSearch;Yl.dfs=Yl.depthFirstSearch;var xf={exports:{}},vz=xf.exports,dE;function pz(){return dE||(dE=1,function(t,e){(function(){var r,n,a,i,o,l,u,f,c,h,p,y,g,E,x;a=Math.floor,h=Math.min,n=function(v,C){return v<C?-1:v>C?1:0},c=function(v,C,w,T,A){var _;if(w==null&&(w=0),A==null&&(A=n),w<0)throw new Error("lo must be non-negative");for(T==null&&(T=v.length);w<T;)_=a((w+T)/2),A(C,v[_])<0?T=_:w=_+1;return[].splice.apply(v,[w,w-w].concat(C)),C},l=function(v,C,w){return w==null&&(w=n),v.push(C),E(v,0,v.length-1,w)},o=function(v,C){var w,T;return C==null&&(C=n),w=v.pop(),v.length?(T=v[0],v[0]=w,x(v,0,C)):T=w,T},f=function(v,C,w){var T;return w==null&&(w=n),T=v[0],v[0]=C,x(v,0,w),T},u=function(v,C,w){var T;return w==null&&(w=n),v.length&&w(v[0],C)<0&&(T=[v[0],C],C=T[0],v[0]=T[1],x(v,0,w)),C},i=function(v,C){var w,T,A,_,D,R;for(C==null&&(C=n),_=(function(){R=[];for(var k=0,B=a(v.length/2);0<=B?k<B:k>B;0<=B?k++:k--)R.push(k);return R}).apply(this).reverse(),D=[],T=0,A=_.length;T<A;T++)w=_[T],D.push(x(v,w,C));return D},g=function(v,C,w){var T;if(w==null&&(w=n),T=v.indexOf(C),T!==-1)return E(v,0,T,w),x(v,T,w)},p=function(v,C,w){var T,A,_,D,R;if(w==null&&(w=n),A=v.slice(0,C),!A.length)return A;for(i(A,w),R=v.slice(C),_=0,D=R.length;_<D;_++)T=R[_],u(A,T,w);return A.sort(w).reverse()},y=function(v,C,w){var T,A,_,D,R,k,B,G,F;if(w==null&&(w=n),C*10<=v.length){if(_=v.slice(0,C).sort(w),!_.length)return _;for(A=_[_.length-1],B=v.slice(C),D=0,k=B.length;D<k;D++)T=B[D],w(T,A)<0&&(c(_,T,0,null,w),_.pop(),A=_[_.length-1]);return _}for(i(v,w),F=[],R=0,G=h(C,v.length);0<=G?R<G:R>G;0<=G?++R:--R)F.push(o(v,w));return F},E=function(v,C,w,T){var A,_,D;for(T==null&&(T=n),A=v[w];w>C;){if(D=w-1>>1,_=v[D],T(A,_)<0){v[w]=_,w=D;continue}break}return v[w]=A},x=function(v,C,w){var T,A,_,D,R;for(w==null&&(w=n),A=v.length,R=C,_=v[C],T=2*C+1;T<A;)D=T+1,D<A&&!(w(v[T],v[D])<0)&&(T=D),v[C]=v[T],C=T,T=2*C+1;return v[C]=_,E(v,R,C,w)},r=function(){v.push=l,v.pop=o,v.replace=f,v.pushpop=u,v.heapify=i,v.updateItem=g,v.nlargest=p,v.nsmallest=y;function v(C){this.cmp=C??n,this.nodes=[]}return v.prototype.push=function(C){return l(this.nodes,C,this.cmp)},v.prototype.pop=function(){return o(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(C){return this.nodes.indexOf(C)!==-1},v.prototype.replace=function(C){return f(this.nodes,C,this.cmp)},v.prototype.pushpop=function(C){return u(this.nodes,C,this.cmp)},v.prototype.heapify=function(){return i(this.nodes,this.cmp)},v.prototype.updateItem=function(C){return g(this.nodes,C,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var C;return C=new v,C.nodes=this.nodes.slice(0),C},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v}(),function(v,C){return t.exports=C()}(this,function(){return r})}).call(vz)}(xf)),xf.exports}var _h,hE;function gz(){return hE||(hE=1,_h=pz()),_h}var yz=gz(),cu=su(yz),mz=nn({root:null,weight:function(e){return 1},directed:!1}),bz={dijkstra:function(e){if(!It(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=mz(e),a=n.root,i=n.weight,o=n.directed,l=this,u=i,f=mt(a)?this.filter(a)[0]:a[0],c={},h={},p={},y=this.byGroup(),g=y.nodes,E=y.edges;E.unmergeBy(function(P){return P.isLoop()});for(var x=function(N){return c[N.id()]},v=function(N,I){c[N.id()]=I,C.updateItem(N)},C=new cu(function(P,N){return x(P)-x(N)}),w=0;w<g.length;w++){var T=g[w];c[T.id()]=T.same(f)?0:1/0,C.push(T)}for(var A=function(N,I){for(var z=(o?N.edgesTo(I):N.edgesWith(I)).intersect(E),ae=1/0,re,K=0;K<z.length;K++){var W=z[K],Z=u(W);(Z<ae||!re)&&(ae=Z,re=W)}return{edge:re,dist:ae}};C.size()>0;){var _=C.pop(),D=x(_),R=_.id();if(p[R]=D,D!==1/0)for(var k=_.neighborhood().intersect(g),B=0;B<k.length;B++){var G=k[B],F=G.id(),q=A(_,G),M=D+q.dist;M<x(G)&&(v(G,M),h[F]={node:_,edge:q.edge})}}return{distanceTo:function(N){var I=mt(N)?g.filter(N)[0]:N[0];return p[I.id()]},pathTo:function(N){var I=mt(N)?g.filter(N)[0]:N[0],z=[],ae=I,re=ae.id();if(I.length>0)for(z.unshift(I);h[re];){var K=h[re];z.unshift(K.edge),z.unshift(K.node),ae=K.node,re=ae.id()}return l.spawn(z)}}}},wz={kruskal:function(e){e=e||function(w){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),l=n,u=function(T){for(var A=0;A<o.length;A++){var _=o[A];if(_.has(T))return A}},f=0;f<i;f++)o[f]=this.spawn(n[f]);for(var c=a.sort(function(w,T){return e(w)-e(T)}),h=0;h<c.length;h++){var p=c[h],y=p.source()[0],g=p.target()[0],E=u(y),x=u(g),v=o[E],C=o[x];E!==x&&(l.merge(p),v.merge(C),o.splice(x,1))}return l}},xz=nn({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Cz={aStar:function(e){var r=this.cy(),n=xz(e),a=n.root,i=n.goal,o=n.heuristic,l=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var f=a.id(),c=i.id(),h={},p={},y={},g=new cu(function(re,K){return p[re.id()]-p[K.id()]}),E=new As,x={},v={},C=function(K,W){g.push(K),E.add(W)},w,T,A=function(){w=g.pop(),T=w.id(),E.delete(T)},_=function(K){return E.has(K)};C(a,f),h[f]=0,p[f]=o(a);for(var D=0;g.size()>0;){if(A(),D++,T===c){for(var R=[],k=i,B=c,G=v[B];R.unshift(k),G!=null&&R.unshift(G),k=x[B],k!=null;)B=k.id(),G=v[B];return{found:!0,distance:h[T],path:this.spawn(R),steps:D}}y[T]=!0;for(var F=w._private.edges,q=0;q<F.length;q++){var M=F[q];if(this.hasElementWithId(M.id())&&!(l&&M.data("source")!==T)){var P=M.source(),N=M.target(),I=P.id()!==T?P:N,z=I.id();if(this.hasElementWithId(z)&&!y[z]){var ae=h[T]+u(M);if(!_(z)){h[z]=ae,p[z]=ae+o(I),C(I,z),x[z]=w,v[z]=M;continue}ae<h[z]&&(h[z]=ae,p[z]=ae+o(I),x[z]=w,v[z]=M)}}}}return{found:!1,distance:void 0,path:void 0,steps:D}}},Ez=nn({weight:function(e){return 1},directed:!1}),Tz={floydWarshall:function(e){for(var r=this.cy(),n=Ez(e),a=n.weight,i=n.directed,o=a,l=this.byGroup(),u=l.nodes,f=l.edges,c=u.length,h=c*c,p=function(Z){return u.indexOf(Z)},y=function(Z){return u[Z]},g=new Array(h),E=0;E<h;E++){var x=E%c,v=(E-x)/c;v===x?g[E]=0:g[E]=1/0}for(var C=new Array(h),w=new Array(h),T=0;T<f.length;T++){var A=f[T],_=A.source()[0],D=A.target()[0];if(_!==D){var R=p(_),k=p(D),B=R*c+k,G=o(A);if(g[B]>G&&(g[B]=G,C[B]=k,w[B]=A),!i){var F=k*c+R;!i&&g[F]>G&&(g[F]=G,C[F]=R,w[F]=A)}}}for(var q=0;q<c;q++)for(var M=0;M<c;M++)for(var P=M*c+q,N=0;N<c;N++){var I=M*c+N,z=q*c+N;g[P]+g[z]<g[I]&&(g[I]=g[P]+g[z],C[I]=C[P])}var ae=function(Z){return(mt(Z)?r.filter(Z):Z)[0]},re=function(Z){return p(ae(Z))},K={distance:function(Z,U){var V=re(Z),Y=re(U);return g[V*c+Y]},path:function(Z,U){var V=re(Z),Y=re(U),ee=y(V);if(V===Y)return ee.collection();if(C[V*c+Y]==null)return r.collection();var oe=r.collection(),te=V,ie;for(oe.merge(ee);V!==Y;)te=V,V=C[V*c+Y],ie=w[te*c+V],oe.merge(ie),oe.merge(y(V));return oe}};return K}},Sz=nn({weight:function(e){return 1},directed:!1,root:null}),Az={bellmanFord:function(e){var r=this,n=Sz(e),a=n.weight,i=n.directed,o=n.root,l=a,u=this,f=this.cy(),c=this.byGroup(),h=c.edges,p=c.nodes,y=p.length,g=new Ya,E=!1,x=[];o=f.collection(o)[0],h.unmergeBy(function(be){return be.isLoop()});for(var v=h.length,C=function(Te){var ve=g.get(Te.id());return ve||(ve={},g.set(Te.id(),ve)),ve},w=function(Te){return(mt(Te)?f.$(Te):Te)[0]},T=function(Te){return C(w(Te)).dist},A=function(Te){for(var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,de=w(Te),ye=[],Ce=de;;){if(Ce==null)return r.spawn();var ue=C(Ce),Ae=ue.edge,Pe=ue.pred;if(ye.unshift(Ce[0]),Ce.same(ve)&&ye.length>0)break;Ae!=null&&ye.unshift(Ae),Ce=Pe}return u.spawn(ye)},_=0;_<y;_++){var D=p[_],R=C(D);D.same(o)?R.dist=0:R.dist=1/0,R.pred=null,R.edge=null}for(var k=!1,B=function(Te,ve,de,ye,Ce,ue){var Ae=ye.dist+ue;Ae<Ce.dist&&!de.same(ye.edge)&&(Ce.dist=Ae,Ce.pred=Te,Ce.edge=de,k=!0)},G=1;G<y;G++){k=!1;for(var F=0;F<v;F++){var q=h[F],M=q.source(),P=q.target(),N=l(q),I=C(M),z=C(P);B(M,P,q,I,z,N),i||B(P,M,q,z,I,N)}if(!k)break}if(k)for(var ae=[],re=0;re<v;re++){var K=h[re],W=K.source(),Z=K.target(),U=l(K),V=C(W).dist,Y=C(Z).dist;if(V+U<Y||!i&&Y+U<V)if(E||($t("Graph contains a negative weight cycle for Bellman-Ford"),E=!0),e.findNegativeWeightCycles!==!1){var ee=[];V+U<Y&&ee.push(W),!i&&Y+U<V&&ee.push(Z);for(var oe=ee.length,te=0;te<oe;te++){var ie=ee[te],se=[ie];se.push(C(ie).edge);for(var $=C(ie).pred;se.indexOf($)===-1;)se.push($),se.push(C($).edge),$=C($).pred;se=se.slice(se.indexOf($));for(var ne=se[0].id(),le=0,Se=2;Se<se.length;Se+=2)se[Se].id()<ne&&(ne=se[Se].id(),le=Se);se=se.slice(le).concat(se.slice(0,le)),se.push(se[0]);var _e=se.map(function(be){return be.id()}).join(",");ae.indexOf(_e)===-1&&(x.push(u.spawn(se)),ae.push(_e))}}else break}return{distanceTo:T,pathTo:A,hasNegativeWeightCycle:E,negativeWeightCycles:x}}},Lz=Math.sqrt(2),_z=function(e,r,n){n.length===0&&pr("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],o=a[2],l=r[i],u=r[o],f=n,c=f.length-1;c>=0;c--){var h=f[c],p=h[1],y=h[2];(r[p]===l&&r[y]===u||r[p]===u&&r[y]===l)&&f.splice(c,1)}for(var g=0;g<f.length;g++){var E=f[g];E[1]===u?(f[g]=E.slice(),f[g][1]=l):E[2]===u&&(f[g]=E.slice(),f[g][2]=l)}for(var x=0;x<r.length;x++)r[x]===u&&(r[x]=l);return f},Dh=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=_z(i,e,r),n--}return r},Dz={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(z){return z.isLoop()});var i=n.length,o=a.length,l=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/Lz);if(i<2){pr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var f=[],c=0;c<o;c++){var h=a[c];f.push([c,n.indexOf(h.source()),n.indexOf(h.target())])}for(var p=1/0,y=[],g=new Array(i),E=new Array(i),x=new Array(i),v=function(ae,re){for(var K=0;K<i;K++)re[K]=ae[K]},C=0;C<=l;C++){for(var w=0;w<i;w++)E[w]=w;var T=Dh(E,f.slice(),i,u),A=T.slice();v(E,x);var _=Dh(E,T,u,2),D=Dh(x,A,u,2);_.length<=D.length&&_.length<p?(p=_.length,y=_,v(E,g)):D.length<=_.length&&D.length<p&&(p=D.length,y=D,v(x,g))}for(var R=this.spawn(y.map(function(z){return a[z[0]]})),k=this.spawn(),B=this.spawn(),G=g[0],F=0;F<g.length;F++){var q=g[F],M=n[F];q===G?k.merge(M):B.merge(M)}var P=function(ae){var re=e.spawn();return ae.forEach(function(K){re.merge(K),K.connectedEdges().forEach(function(W){e.contains(W)&&!R.contains(W)&&re.merge(W)})}),re},N=[P(k),P(B)],I={cut:R,components:N,partition1:k,partition2:B};return I}},Mz=function(e){return{x:e.x,y:e.y}},Lc=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},nk=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},us=function(e){return{x:e[0],y:e[1]}},Rz=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.min(o,a))}return a},Pz=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.max(o,a))}return a},kz=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,o=r;o<n;o++){var l=e[o];isFinite(l)&&(a+=l,i++)}return a/i},Nz=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var l=0,u=e.length-1;u>=0;u--){var f=e[u];o?isFinite(f)||(e[u]=-1/0,l++):e.splice(u,1)}i&&e.sort(function(p,y){return p-y});var c=e.length,h=Math.floor(c/2);return c%2!==0?e[h+1+l]:(e[h-1+l]+e[h+l])/2},Oz=function(e){return Math.PI*e/180},af=function(e,r){return Math.atan2(r,e)-Math.PI/2},E1=Math.log2||function(t){return Math.log(t)/Math.log(2)},T1=function(e){return e>0?1:e<0?-1:0},mo=function(e,r){return Math.sqrt(oo(e,r))},oo=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},Iz=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},Wr=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},ms=function(e,r,n,a){return{x:Wr(e.x,r.x,n.x,a),y:Wr(e.y,r.y,n.y,a)}},Fz=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},o=mo(e,r),l={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:e.x+l.x*a,y:e.y+l.y*a}},Xl=function(e,r,n){return Math.max(e,Math.min(n,r))},Nn=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Bz=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},qz=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},zz=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},ak=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Gz=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Cf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Ef=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var l=Br(r,4);n=l[0],a=l[1],i=l[2],o=l[3]}return e.x1-=o,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},vE=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},S1=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Es=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},Hz=function(e,r){return Es(e,r.x,r.y)},Uz=function(e,r){return Es(e,r.x1,r.y1)&&Es(e,r.x2,r.y2)},ik=function(e,r,n,a,i,o,l){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",f=u==="auto"?Mi(i,o):u,c=i/2,h=o/2;f=Math.min(f,c,h);var p=f!==c,y=f!==h,g;if(p){var E=n-c+f-l,x=a-h-l,v=n+c-f+l,C=x;if(g=wi(e,r,n,a,E,x,v,C,!1),g.length>0)return g}if(y){var w=n+c+l,T=a-h+f-l,A=w,_=a+h-f+l;if(g=wi(e,r,n,a,w,T,A,_,!1),g.length>0)return g}if(p){var D=n-c+f-l,R=a+h+l,k=n+c-f+l,B=R;if(g=wi(e,r,n,a,D,R,k,B,!1),g.length>0)return g}if(y){var G=n-c-l,F=a-h+f-l,q=G,M=a+h-f+l;if(g=wi(e,r,n,a,G,F,q,M,!1),g.length>0)return g}var P;{var N=n-c+f,I=a-h+f;if(P=xl(e,r,n,a,N,I,f+l),P.length>0&&P[0]<=N&&P[1]<=I)return[P[0],P[1]]}{var z=n+c-f,ae=a-h+f;if(P=xl(e,r,n,a,z,ae,f+l),P.length>0&&P[0]>=z&&P[1]<=ae)return[P[0],P[1]]}{var re=n+c-f,K=a+h-f;if(P=xl(e,r,n,a,re,K,f+l),P.length>0&&P[0]>=re&&P[1]>=K)return[P[0],P[1]]}{var W=n-c+f,Z=a+h-f;if(P=xl(e,r,n,a,W,Z,f+l),P.length>0&&P[0]<=W&&P[1]>=Z)return[P[0],P[1]]}return[]},Wz=function(e,r,n,a,i,o,l){var u=l,f=Math.min(n,i),c=Math.max(n,i),h=Math.min(a,o),p=Math.max(a,o);return f-u<=e&&e<=c+u&&h-u<=r&&r<=p+u},Vz=function(e,r,n,a,i,o,l,u,f){var c={x1:Math.min(n,l,i)-f,x2:Math.max(n,l,i)+f,y1:Math.min(a,u,o)-f,y2:Math.max(a,u,o)+f};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},$z=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var o=Math.sqrt(i),l=2*e,u=(-r+o)/l,f=(-r-o)/l;return[u,f]},Yz=function(e,r,n,a,i){var o=1e-5;e===0&&(e=o),r/=e,n/=e,a/=e;var l,u,f,c,h,p,y,g;if(u=(3*n-r*r)/9,f=-(27*a)+r*(9*n-2*(r*r)),f/=54,l=u*u*u+f*f,i[1]=0,y=r/3,l>0){h=f+Math.sqrt(l),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),p=f-Math.sqrt(l),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),i[0]=-y+h+p,y+=(h+p)/2,i[4]=i[2]=-y,y=Math.sqrt(3)*(-p+h)/2,i[3]=y,i[5]=-y;return}if(i[5]=i[3]=0,l===0){g=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),i[0]=-y+2*g,i[4]=i[2]=-(g+y);return}u=-u,c=u*u*u,c=Math.acos(f/Math.sqrt(c)),g=2*Math.sqrt(u),i[0]=-y+g*Math.cos(c/3),i[2]=-y+g*Math.cos((c+2*Math.PI)/3),i[4]=-y+g*Math.cos((c+4*Math.PI)/3)},Xz=function(e,r,n,a,i,o,l,u){var f=1*n*n-4*n*i+2*n*l+4*i*i-4*i*l+l*l+a*a-4*a*o+2*a*u+4*o*o-4*o*u+u*u,c=1*9*n*i-3*n*n-3*n*l-6*i*i+3*i*l+9*a*o-3*a*a-3*a*u-6*o*o+3*o*u,h=1*3*n*n-6*n*i+n*l-n*e+2*i*i+2*i*e-l*e+3*a*a-6*a*o+a*u-a*r+2*o*o+2*o*r-u*r,p=1*n*i-n*n+n*e-i*e+a*o-a*a+a*r-o*r,y=[];Yz(f,c,h,p,y);for(var g=1e-7,E=[],x=0;x<6;x+=2)Math.abs(y[x+1])<g&&y[x]>=0&&y[x]<=1&&E.push(y[x]);E.push(1),E.push(0);for(var v=-1,C,w,T,A=0;A<E.length;A++)C=Math.pow(1-E[A],2)*n+2*(1-E[A])*E[A]*i+E[A]*E[A]*l,w=Math.pow(1-E[A],2)*a+2*(1-E[A])*E[A]*o+E[A]*E[A]*u,T=Math.pow(C-e,2)+Math.pow(w-r,2),v>=0?T<v&&(v=T):v=T;return v},Kz=function(e,r,n,a,i,o){var l=[e-n,r-a],u=[i-n,o-a],f=u[0]*u[0]+u[1]*u[1],c=l[0]*l[0]+l[1]*l[1],h=l[0]*u[0]+l[1]*u[1],p=h*h/f;return h<0?c:p>f?(e-i)*(e-i)+(r-o)*(r-o):c-p},Rn=function(e,r,n){for(var a,i,o,l,u,f=0,c=0;c<n.length/2;c++)if(a=n[c*2],i=n[c*2+1],c+1<n.length/2?(o=n[(c+1)*2],l=n[(c+1)*2+1]):(o=n[(c+1-n.length/2)*2],l=n[(c+1-n.length/2)*2+1]),!(a==e&&o==e))if(a>=e&&e>=o||a<=e&&e<=o)u=(e-a)/(o-a)*(l-i)+i,u>r&&f++;else continue;return f%2!==0},Qa=function(e,r,n,a,i,o,l,u,f){var c=new Array(n.length),h;u[0]!=null?(h=Math.atan(u[1]/u[0]),u[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=u;for(var p=Math.cos(-h),y=Math.sin(-h),g=0;g<c.length/2;g++)c[g*2]=o/2*(n[g*2]*p-n[g*2+1]*y),c[g*2+1]=l/2*(n[g*2+1]*p+n[g*2]*y),c[g*2]+=a,c[g*2+1]+=i;var E;if(f>0){var x=Jf(c,-f);E=Qf(x)}else E=c;return Rn(e,r,E)},jz=function(e,r,n,a,i,o,l,u){for(var f=new Array(n.length*2),c=0;c<u.length;c++){var h=u[c];f[c*4+0]=h.startX,f[c*4+1]=h.startY,f[c*4+2]=h.stopX,f[c*4+3]=h.stopY;var p=Math.pow(h.cx-e,2)+Math.pow(h.cy-r,2);if(p<=Math.pow(h.radius,2))return!0}return Rn(e,r,f)},Qf=function(e){for(var r=new Array(e.length/2),n,a,i,o,l,u,f,c,h=0;h<e.length/4;h++){n=e[h*4],a=e[h*4+1],i=e[h*4+2],o=e[h*4+3],h<e.length/4-1?(l=e[(h+1)*4],u=e[(h+1)*4+1],f=e[(h+1)*4+2],c=e[(h+1)*4+3]):(l=e[0],u=e[1],f=e[2],c=e[3]);var p=wi(n,a,i,o,l,u,f,c,!0);r[h*2]=p[0],r[h*2+1]=p[1]}return r},Jf=function(e,r){for(var n=new Array(e.length*2),a,i,o,l,u=0;u<e.length/2;u++){a=e[u*2],i=e[u*2+1],u<e.length/2-1?(o=e[(u+1)*2],l=e[(u+1)*2+1]):(o=e[0],l=e[1]);var f=l-i,c=-(o-a),h=Math.sqrt(f*f+c*c),p=f/h,y=c/h;n[u*4]=a+p*r,n[u*4+1]=i+y*r,n[u*4+2]=o+p*r,n[u*4+3]=l+y*r}return n},Zz=function(e,r,n,a,i,o){var l=n-e,u=a-r;l/=i,u/=o;var f=Math.sqrt(l*l+u*u),c=f-1;if(c<0)return[];var h=c/f;return[(n-e)*h+e,(a-r)*h+r]},vo=function(e,r,n,a,i,o,l){return e-=i,r-=o,e/=n/2+l,r/=a/2+l,e*e+r*r<=1},xl=function(e,r,n,a,i,o,l){var u=[n-e,a-r],f=[e-i,r-o],c=u[0]*u[0]+u[1]*u[1],h=2*(f[0]*u[0]+f[1]*u[1]),p=f[0]*f[0]+f[1]*f[1]-l*l,y=h*h-4*c*p;if(y<0)return[];var g=(-h+Math.sqrt(y))/(2*c),E=(-h-Math.sqrt(y))/(2*c),x=Math.min(g,E),v=Math.max(g,E),C=[];if(x>=0&&x<=1&&C.push(x),v>=0&&v<=1&&C.push(v),C.length===0)return[];var w=C[0]*u[0]+e,T=C[0]*u[1]+r;if(C.length>1){if(C[0]==C[1])return[w,T];var A=C[1]*u[0]+e,_=C[1]*u[1]+r;return[w,T,A,_]}else return[w,T]},Mh=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},wi=function(e,r,n,a,i,o,l,u,f){var c=e-i,h=n-e,p=l-i,y=r-o,g=a-r,E=u-o,x=p*y-E*c,v=h*y-g*c,C=E*h-p*g;if(C!==0){var w=x/C,T=v/C,A=.001,_=0-A,D=1+A;return _<=w&&w<=D&&_<=T&&T<=D?[e+w*h,r+w*g]:f?[e+w*h,r+w*g]:[]}else return x===0||v===0?Mh(e,n,l)===l?[l,u]:Mh(e,n,i)===i?[i,o]:Mh(i,l,n)===n?[n,a]:[]:[]},Kl=function(e,r,n,a,i,o,l,u){var f=[],c,h=new Array(n.length),p=!0;o==null&&(p=!1);var y;if(p){for(var g=0;g<h.length/2;g++)h[g*2]=n[g*2]*o+a,h[g*2+1]=n[g*2+1]*l+i;if(u>0){var E=Jf(h,-u);y=Qf(E)}else y=h}else y=n;for(var x,v,C,w,T=0;T<y.length/2;T++)x=y[T*2],v=y[T*2+1],T<y.length/2-1?(C=y[(T+1)*2],w=y[(T+1)*2+1]):(C=y[0],w=y[1]),c=wi(e,r,a,i,x,v,C,w),c.length!==0&&f.push(c[0],c[1]);return f},Qz=function(e,r,n,a,i,o,l,u,f){var c=[],h,p=new Array(n.length*2);f.forEach(function(C,w){w===0?(p[p.length-2]=C.startX,p[p.length-1]=C.startY):(p[w*4-2]=C.startX,p[w*4-1]=C.startY),p[w*4]=C.stopX,p[w*4+1]=C.stopY,h=xl(e,r,a,i,C.cx,C.cy,C.radius),h.length!==0&&c.push(h[0],h[1])});for(var y=0;y<p.length/4;y++)h=wi(e,r,a,i,p[y*4],p[y*4+1],p[y*4+2],p[y*4+3],!1),h.length!==0&&c.push(h[0],h[1]);if(c.length>2){for(var g=[c[0],c[1]],E=Math.pow(g[0]-e,2)+Math.pow(g[1]-r,2),x=1;x<c.length/2;x++){var v=Math.pow(c[x*2]-e,2)+Math.pow(c[x*2+1]-r,2);v<=E&&(g[0]=c[x*2],g[1]=c[x*2+1],E=v)}return g}return c},of=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},Tn=function(e,r){var n=kb(e,r);return n=ok(n),n},ok=function(e){for(var r,n,a=e.length/2,i=1/0,o=1/0,l=-1/0,u=-1/0,f=0;f<a;f++)r=e[2*f],n=e[2*f+1],i=Math.min(i,r),l=Math.max(l,r),o=Math.min(o,n),u=Math.max(u,n);for(var c=2/(l-i),h=2/(u-o),p=0;p<a;p++)r=e[2*p]=e[2*p]*c,n=e[2*p+1]=e[2*p+1]*h,i=Math.min(i,r),l=Math.max(l,r),o=Math.min(o,n),u=Math.max(u,n);if(o<-1)for(var y=0;y<a;y++)n=e[2*y+1]=e[2*y+1]+(-1-o);return e},kb=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),o,l=0;l<e;l++)o=l*n+a,i[2*l]=Math.cos(o),i[2*l+1]=Math.sin(-o);return i},Mi=function(e,r){return Math.min(e/4,r/4,8)},sk=function(e,r){return Math.min(e/10,r/10,8)},A1=function(){return 8},Jz=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Nb=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function eG(t,e){function r(h){for(var p=[],y=0;y<h.length;y++){var g=h[y],E=h[(y+1)%h.length],x={x:E.x-g.x,y:E.y-g.y},v={x:-x.y,y:x.x},C=Math.sqrt(v.x*v.x+v.y*v.y);p.push({x:v.x/C,y:v.y/C})}return p}function n(h,p){var y=1/0,g=-1/0,E=Pn(h),x;try{for(E.s();!(x=E.n()).done;){var v=x.value,C=v.x*p.x+v.y*p.y;y=Math.min(y,C),g=Math.max(g,C)}}catch(w){E.e(w)}finally{E.f()}return{min:y,max:g}}function a(h,p){return!(h.max<p.min||p.max<h.min)}var i=[].concat(Xf(r(t)),Xf(r(e))),o=Pn(i),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,f=n(t,u),c=n(e,u);if(!a(f,c))return!1}}catch(h){o.e(h)}finally{o.f()}return!0}var tG=nn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),rG={pageRank:function(e){for(var r=tG(e),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,l=this._private.cy,u=this.byGroup(),f=u.nodes,c=u.edges,h=f.length,p=h*h,y=c.length,g=new Array(p),E=new Array(h),x=(1-n)/h,v=0;v<h;v++){for(var C=0;C<h;C++){var w=v*h+C;g[w]=0}E[v]=0}for(var T=0;T<y;T++){var A=c[T],_=A.data("source"),D=A.data("target");if(_!==D){var R=f.indexOfId(_),k=f.indexOfId(D),B=o(A),G=k*h+R;g[G]+=B,E[R]+=B}}for(var F=1/h+x,q=0;q<h;q++)if(E[q]===0)for(var M=0;M<h;M++){var P=M*h+q;g[P]=F}else for(var N=0;N<h;N++){var I=N*h+q;g[I]=g[I]/E[q]+x}for(var z=new Array(h),ae=new Array(h),re,K=0;K<h;K++)z[K]=1;for(var W=0;W<i;W++){for(var Z=0;Z<h;Z++)ae[Z]=0;for(var U=0;U<h;U++)for(var V=0;V<h;V++){var Y=U*h+V;ae[U]+=g[Y]*z[V]}Iz(ae),re=z,z=ae,ae=re;for(var ee=0,oe=0;oe<h;oe++){var te=re[oe]-z[oe];ee+=te*te}if(ee<a)break}var ie={rank:function($){return $=l.collection($)[0],z[f.indexOf($)]}};return ie}},pE=nn({root:null,weight:function(e){return 1},directed:!1,alpha:0}),bs={degreeCentralityNormalized:function(e){e=pE(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var c={},h={},p=0,y=0,g=0;g<a;g++){var E=n[g],x=E.id();e.root=E;var v=this.degreeCentrality(e);p<v.indegree&&(p=v.indegree),y<v.outdegree&&(y=v.outdegree),c[x]=v.indegree,h[x]=v.outdegree}return{indegree:function(w){return p==0?0:(mt(w)&&(w=r.filter(w)),c[w.id()]/p)},outdegree:function(w){return y===0?0:(mt(w)&&(w=r.filter(w)),h[w.id()]/y)}}}else{for(var i={},o=0,l=0;l<a;l++){var u=n[l];e.root=u;var f=this.degreeCentrality(e);o<f.degree&&(o=f.degree),i[u.id()]=f.degree}return{degree:function(w){return o===0?0:(mt(w)&&(w=r.filter(w)),i[w.id()]/o)}}}},degreeCentrality:function(e){e=pE(e);var r=this.cy(),n=this,a=e,i=a.root,o=a.weight,l=a.directed,u=a.alpha;if(i=r.collection(i)[0],l){for(var y=i.connectedEdges(),g=y.filter(function(_){return _.target().same(i)&&n.has(_)}),E=y.filter(function(_){return _.source().same(i)&&n.has(_)}),x=g.length,v=E.length,C=0,w=0,T=0;T<g.length;T++)C+=o(g[T]);for(var A=0;A<E.length;A++)w+=o(E[A]);return{indegree:Math.pow(x,1-u)*Math.pow(C,u),outdegree:Math.pow(v,1-u)*Math.pow(w,u)}}else{for(var f=i.connectedEdges().intersection(n),c=f.length,h=0,p=0;p<f.length;p++)h+=o(f[p]);return{degree:Math.pow(c,1-u)*Math.pow(h,u)}}}};bs.dc=bs.degreeCentrality;bs.dcn=bs.degreeCentralityNormalised=bs.degreeCentralityNormalized;var gE=nn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),ws={closenessCentralityNormalized:function(e){for(var r=gE(e),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),l={},u=0,f=this.nodes(),c=this.floydWarshall({weight:a,directed:i}),h=0;h<f.length;h++){for(var p=0,y=f[h],g=0;g<f.length;g++)if(h!==g){var E=c.distance(y,f[g]);n?p+=1/E:p+=E}n||(p=1/p),u<p&&(u=p),l[y.id()]=p}return{closeness:function(v){return u==0?0:(mt(v)?v=o.filter(v)[0].id():v=v.id(),l[v]/u)}}},closenessCentrality:function(e){var r=gE(e),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var l=this.dijkstra({root:n,weight:a,directed:i}),u=0,f=this.nodes(),c=0;c<f.length;c++){var h=f[c];if(!h.same(n)){var p=l.distanceTo(h);o?u+=1/p:u+=p}}return o?u:1/u}};ws.cc=ws.closenessCentrality;ws.ccn=ws.closenessCentralityNormalised=ws.closenessCentralityNormalized;var nG=nn({weight:null,directed:!1}),Ob={betweennessCentrality:function(e){for(var r=nG(e),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),l=this.nodes(),u={},f={},c=0,h={set:function(w,T){f[w]=T,T>c&&(c=T)},get:function(w){return f[w]}},p=0;p<l.length;p++){var y=l[p],g=y.id();n?u[g]=y.outgoers().nodes():u[g]=y.openNeighborhood().nodes(),h.set(g,0)}for(var E=function(){for(var w=l[x].id(),T=[],A={},_={},D={},R=new cu(function(U,V){return D[U]-D[V]}),k=0;k<l.length;k++){var B=l[k].id();A[B]=[],_[B]=0,D[B]=1/0}for(_[w]=1,D[w]=0,R.push(w);!R.empty();){var G=R.pop();if(T.push(G),i)for(var F=0;F<u[G].length;F++){var q=u[G][F],M=o.getElementById(G),P=void 0;M.edgesTo(q).length>0?P=M.edgesTo(q)[0]:P=q.edgesTo(M)[0];var N=a(P);q=q.id(),D[q]>D[G]+N&&(D[q]=D[G]+N,R.nodes.indexOf(q)<0?R.push(q):R.updateItem(q),_[q]=0,A[q]=[]),D[q]==D[G]+N&&(_[q]=_[q]+_[G],A[q].push(G))}else for(var I=0;I<u[G].length;I++){var z=u[G][I].id();D[z]==1/0&&(R.push(z),D[z]=D[G]+1),D[z]==D[G]+1&&(_[z]=_[z]+_[G],A[z].push(G))}}for(var ae={},re=0;re<l.length;re++)ae[l[re].id()]=0;for(;T.length>0;){for(var K=T.pop(),W=0;W<A[K].length;W++){var Z=A[K][W];ae[Z]=ae[Z]+_[Z]/_[K]*(1+ae[K])}K!=l[x].id()&&h.set(K,h.get(K)+ae[K])}},x=0;x<l.length;x++)E();var v={betweenness:function(w){var T=o.collection(w).id();return h.get(T)},betweennessNormalized:function(w){if(c==0)return 0;var T=o.collection(w).id();return h.get(T)/c}};return v.betweennessNormalised=v.betweennessNormalized,v}};Ob.bc=Ob.betweennessCentrality;var aG=nn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),iG=function(e){return aG(e)},oG=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},sG=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},lk=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var o=0;o<r;o++)e[o*r+a]=e[o*r+a]/n}},lG=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var l=0;l<n;l++)for(var u=0;u<n;u++)a[i*n+u]+=e[i*n+l]*r[l*n+u]}return a},uG=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=lG(e,a,r);return e},fG=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return lk(a,r),a},cG=function(e,r,n,a){for(var i=0;i<n;i++){var o=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),l=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==l)return!1}return!0},dG=function(e,r,n,a){for(var i=[],o=0;o<r;o++){for(var l=[],u=0;u<r;u++)Math.round(e[o*r+u]*1e3)/1e3>0&&l.push(n[u]);l.length!==0&&i.push(a.collection(l))}return i},hG=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},vG=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&hG(e[r],e[n])&&e.splice(n,1);return e},yE=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=iG(e),o={},l=0;l<r.length;l++)o[r[l].id()]=l;for(var u=r.length,f=u*u,c=new Array(f),h,p=0;p<f;p++)c[p]=0;for(var y=0;y<n.length;y++){var g=n[y],E=o[g.source().id()],x=o[g.target().id()],v=oG(g,i.attributes);c[E*u+x]+=v,c[x*u+E]+=v}sG(c,u,i.multFactor),lk(c,u);for(var C=!0,w=0;C&&w<i.maxIterations;)C=!1,h=uG(c,u,i.expandFactor),c=fG(h,u,i.inflateFactor),cG(c,h,f,4)||(C=!0),w++;var T=dG(c,u,r,a);return T=vG(T),T},pG={markovClustering:yE,mcl:yE},gG=function(e){return e},uk=function(e,r){return Math.abs(r-e)},mE=function(e,r,n){return e+uk(r,n)},bE=function(e,r,n){return e+Math.pow(n-r,2)},yG=function(e){return Math.sqrt(e)},mG=function(e,r,n){return Math.max(e,uk(r,n))},hl=function(e,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:gG,l=a,u,f,c=0;c<e;c++)u=r(c),f=n(c),l=i(l,u,f);return o(l)},Ts={euclidean:function(e,r,n){return e>=2?hl(e,r,n,0,bE,yG):hl(e,r,n,0,mE)},squaredEuclidean:function(e,r,n){return hl(e,r,n,0,bE)},manhattan:function(e,r,n){return hl(e,r,n,0,mE)},max:function(e,r,n){return hl(e,r,n,-1/0,mG)}};Ts["squared-euclidean"]=Ts.squaredEuclidean;Ts.squaredeuclidean=Ts.squaredEuclidean;function _c(t,e,r,n,a,i){var o;return yr(t)?o=t:o=Ts[t]||Ts.euclidean,e===0&&yr(t)?o(a,i):o(e,r,n,a,i)}var bG=nn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),L1=function(e){return bG(e)},ec=function(e,r,n,a,i){var o=i!=="kMedoids",l=o?function(h){return n[h]}:function(h){return a[h](n)},u=function(p){return a[p](r)},f=n,c=r;return _c(e,a.length,l,u,f,c)},Rh=function(e,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),l=new Array(r),u=null,f=0;f<a;f++)i[f]=e.min(n[f]).value,o[f]=e.max(n[f]).value;for(var c=0;c<r;c++){u=[];for(var h=0;h<a;h++)u[h]=Math.random()*(o[h]-i[h])+i[h];l[c]=u}return l},fk=function(e,r,n,a,i){for(var o=1/0,l=0,u=0;u<r.length;u++){var f=ec(n,e,r[u],a,i);f<o&&(o=f,l=u)}return l},ck=function(e,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===e&&a.push(i);return a},wG=function(e,r,n){return Math.abs(r-e)<=n},xG=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var o=Math.abs(e[a][i]-r[a][i]);if(o>n)return!1}return!0},CG=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},wE=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];CG(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},xE=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=ec("manhattan",r[i],e,n,"kMedoids");return a},EG=function(e){var r=this.cy(),n=this.nodes(),a=null,i=L1(e),o=new Array(i.k),l={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=Rh(n,i.k,i.attributes)):zr(i.testCentroids)==="object"?u=i.testCentroids:u=Rh(n,i.k,i.attributes):u=Rh(n,i.k,i.attributes);for(var f=!0,c=0;f&&c<i.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],l[a.id()]=fk(a,u,i.distance,i.attributes,"kMeans");f=!1;for(var p=0;p<i.k;p++){var y=ck(p,n,l);if(y.length!==0){for(var g=i.attributes.length,E=u[p],x=new Array(g),v=new Array(g),C=0;C<g;C++){v[C]=0;for(var w=0;w<y.length;w++)a=y[w],v[C]+=i.attributes[C](a);x[C]=v[C]/y.length,wG(x[C],E[C],i.sensitivityThreshold)||(f=!0)}u[p]=x,o[p]=r.collection(y)}}c++}return o},TG=function(e){var r=this.cy(),n=this.nodes(),a=null,i=L1(e),o=new Array(i.k),l,u={},f,c=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(zr(i.testCentroids)==="object"?l=i.testCentroids:l=wE(n,i.k)):l=wE(n,i.k);for(var h=!0,p=0;h&&p<i.maxIterations;){for(var y=0;y<n.length;y++)a=n[y],u[a.id()]=fk(a,l,i.distance,i.attributes,"kMedoids");h=!1;for(var g=0;g<l.length;g++){var E=ck(g,n,u);if(E.length!==0){c[g]=xE(l[g],E,i.attributes);for(var x=0;x<E.length;x++)f=xE(E[x],E,i.attributes),f<c[g]&&(c[g]=f,l[g]=E[x],h=!0);o[g]=r.collection(E)}}p++}return o},SG=function(e,r,n,a,i){for(var o,l,u=0;u<r.length;u++)for(var f=0;f<e.length;f++)a[u][f]=Math.pow(n[u][f],i.m);for(var c=0;c<e.length;c++)for(var h=0;h<i.attributes.length;h++){o=0,l=0;for(var p=0;p<r.length;p++)o+=a[p][c]*i.attributes[h](r[p]),l+=a[p][c];e[c][h]=o/l}},AG=function(e,r,n,a,i){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var l,u,f,c=2/(i.m-1),h=0;h<n.length;h++)for(var p=0;p<a.length;p++){l=0;for(var y=0;y<n.length;y++)u=ec(i.distance,a[p],n[h],i.attributes,"cmeans"),f=ec(i.distance,a[p],n[y],i.attributes,"cmeans"),l+=Math.pow(u/f,c);e[p][h]=1/l}},LG=function(e,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var l,u,f=0;f<r.length;f++){l=-1/0,u=-1;for(var c=0;c<r[0].length;c++)r[f][c]>l&&(l=r[f][c],u=c);i[u].push(e[f])}for(var h=0;h<i.length;h++)i[h]=a.collection(i[h]);return i},CE=function(e){var r=this.cy(),n=this.nodes(),a=L1(e),i,o,l,u,f;u=new Array(n.length);for(var c=0;c<n.length;c++)u[c]=new Array(a.k);l=new Array(n.length);for(var h=0;h<n.length;h++)l[h]=new Array(a.k);for(var p=0;p<n.length;p++){for(var y=0,g=0;g<a.k;g++)l[p][g]=Math.random(),y+=l[p][g];for(var E=0;E<a.k;E++)l[p][E]=l[p][E]/y}o=new Array(a.k);for(var x=0;x<a.k;x++)o[x]=new Array(a.attributes.length);f=new Array(n.length);for(var v=0;v<n.length;v++)f[v]=new Array(a.k);for(var C=!0,w=0;C&&w<a.maxIterations;)C=!1,SG(o,n,l,f,a),AG(l,u,o,n,a),xG(l,u,a.sensitivityThreshold)||(C=!0),w++;return i=LG(n,l,a,r),{clusters:i,degreeOfMembership:l}},_G={kMeans:EG,kMedoids:TG,fuzzyCMeans:CE,fcm:CE},DG=nn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),MG={single:"min",complete:"max"},RG=function(e){var r=DG(e),n=MG[r.linkage];return n!=null&&(r.linkage=n),r},EE=function(e,r,n,a,i){for(var o=0,l=1/0,u,f=i.attributes,c=function(k,B){return _c(i.distance,f.length,function(G){return f[G](k)},function(G){return f[G](B)},k,B)},h=0;h<e.length;h++){var p=e[h].key,y=n[p][a[p]];y<l&&(o=p,l=y)}if(i.mode==="threshold"&&l>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var g=r[o],E=r[a[o]],x;i.mode==="dendrogram"?x={left:g,right:E,key:g.key}:x={value:g.value.concat(E.value),key:g.key},e[g.index]=x,e.splice(E.index,1),r[g.key]=x;for(var v=0;v<e.length;v++){var C=e[v];g.key===C.key?u=1/0:i.linkage==="min"?(u=n[g.key][C.key],n[g.key][C.key]>n[E.key][C.key]&&(u=n[E.key][C.key])):i.linkage==="max"?(u=n[g.key][C.key],n[g.key][C.key]<n[E.key][C.key]&&(u=n[E.key][C.key])):i.linkage==="mean"?u=(n[g.key][C.key]*g.size+n[E.key][C.key]*E.size)/(g.size+E.size):i.mode==="dendrogram"?u=c(C.value,g.value):u=c(C.value[0],g.value[0]),n[g.key][C.key]=n[C.key][g.key]=u}for(var w=0;w<e.length;w++){var T=e[w].key;if(a[T]===g.key||a[T]===E.key){for(var A=T,_=0;_<e.length;_++){var D=e[_].key;n[T][D]<n[T][A]&&(A=D)}a[T]=A}e[w].index=w}return g.key=E.key=g.index=E.index=null,!0},fs=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&fs(e.left,r),e.right&&fs(e.right,r)))},Ib=function(e,r){if(!e)return"";if(e.left&&e.right){var n=Ib(e.left,r),a=Ib(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},Fb=function(e,r,n){if(!e)return[];var a=[],i=[],o=[];return r===0?(e.left&&fs(e.left,a),e.right&&fs(e.right,i),o=a.concat(i),[n.collection(o)]):r===1?e.value?[n.collection(e.value)]:(e.left&&fs(e.left,a),e.right&&fs(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=Fb(e.left,r-1,n)),e.right&&(i=Fb(e.right,r-1,n)),a.concat(i))},TE=function(e){for(var r=this.cy(),n=this.nodes(),a=RG(e),i=a.attributes,o=function(w,T){return _c(a.distance,i.length,function(A){return i[A](w)},function(A){return i[A](T)},w,T)},l=[],u=[],f=[],c=[],h=0;h<n.length;h++){var p={value:a.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};l[h]=p,c[h]=p,u[h]=[],f[h]=0}for(var y=0;y<l.length;y++)for(var g=0;g<=y;g++){var E=void 0;a.mode==="dendrogram"?E=y===g?1/0:o(l[y].value,l[g].value):E=y===g?1/0:o(l[y].value[0],l[g].value[0]),u[y][g]=E,u[g][y]=E,E<u[y][f[y]]&&(f[y]=g)}for(var x=EE(l,c,u,f,a);x;)x=EE(l,c,u,f,a);var v;return a.mode==="dendrogram"?(v=Fb(l[0],a.dendrogramDepth,r),a.addDendrogram&&Ib(l[0],r)):(v=new Array(l.length),l.forEach(function(C,w){C.key=C.index=null,v[w]=r.collection(C.value)})),v},PG={hierarchicalClustering:TE,hca:TE},kG=nn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),NG=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||pr("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||at(n)||pr("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),kG(e)},OG=function(e,r,n,a){var i=function(l,u){return a[u](l)};return-_c(e,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},IG=function(e,r){var n=null;return r==="median"?n=Nz(e):r==="mean"?n=kz(e):r==="min"?n=Rz(e):r==="max"?n=Pz(e):n=r,n},FG=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},SE=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var o=-1,l=-1/0,u=0;u<n.length;u++){var f=n[u];r[i*e+f]>l&&(o=f,l=r[i*e+f])}o>0&&a.push(o)}for(var c=0;c<n.length;c++)a[n[c]]=n[c];return a},BG=function(e,r,n){for(var a=SE(e,r,n),i=0;i<n.length;i++){for(var o=[],l=0;l<a.length;l++)a[l]===n[i]&&o.push(l);for(var u=-1,f=-1/0,c=0;c<o.length;c++){for(var h=0,p=0;p<o.length;p++)h+=r[o[p]*e+o[c]];h>f&&(u=c,f=h)}n[i]=o[u]}return a=SE(e,r,n),a},AE=function(e){for(var r=this.cy(),n=this.nodes(),a=NG(e),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var l,u,f,c,h,p;l=n.length,u=l*l,f=new Array(u);for(var y=0;y<u;y++)f[y]=-1/0;for(var g=0;g<l;g++)for(var E=0;E<l;E++)g!==E&&(f[g*l+E]=OG(a.distance,n[g],n[E],a.attributes));c=IG(f,a.preference);for(var x=0;x<l;x++)f[x*l+x]=c;h=new Array(u);for(var v=0;v<u;v++)h[v]=0;p=new Array(u);for(var C=0;C<u;C++)p[C]=0;for(var w=new Array(l),T=new Array(l),A=new Array(l),_=0;_<l;_++)w[_]=0,T[_]=0,A[_]=0;for(var D=new Array(l*a.minIterations),R=0;R<D.length;R++)D[R]=0;var k;for(k=0;k<a.maxIterations;k++){for(var B=0;B<l;B++){for(var G=-1/0,F=-1/0,q=-1,M=0,P=0;P<l;P++)w[P]=h[B*l+P],M=p[B*l+P]+f[B*l+P],M>=G?(F=G,G=M,q=P):M>F&&(F=M);for(var N=0;N<l;N++)h[B*l+N]=(1-a.damping)*(f[B*l+N]-G)+a.damping*w[N];h[B*l+q]=(1-a.damping)*(f[B*l+q]-F)+a.damping*w[q]}for(var I=0;I<l;I++){for(var z=0,ae=0;ae<l;ae++)w[ae]=p[ae*l+I],T[ae]=Math.max(0,h[ae*l+I]),z+=T[ae];z-=T[I],T[I]=h[I*l+I],z+=T[I];for(var re=0;re<l;re++)p[re*l+I]=(1-a.damping)*Math.min(0,z-T[re])+a.damping*w[re];p[I*l+I]=(1-a.damping)*(z-T[I])+a.damping*w[I]}for(var K=0,W=0;W<l;W++){var Z=p[W*l+W]+h[W*l+W]>0?1:0;D[k%a.minIterations*l+W]=Z,K+=Z}if(K>0&&(k>=a.minIterations-1||k==a.maxIterations-1)){for(var U=0,V=0;V<l;V++){A[V]=0;for(var Y=0;Y<a.minIterations;Y++)A[V]+=D[Y*l+V];(A[V]===0||A[V]===a.minIterations)&&U++}if(U===l)break}}for(var ee=FG(l,h,p),oe=BG(l,f,ee),te={},ie=0;ie<ee.length;ie++)te[ee[ie]]=[];for(var se=0;se<n.length;se++){var $=i[n[se].id()],ne=oe[$];ne!=null&&te[ne].push(n[se])}for(var le=new Array(ee.length),Se=0;Se<ee.length;Se++)le[Se]=r.collection(te[ee[Se]]);return le},qG={affinityPropagation:AE,ap:AE},zG=nn({root:void 0,directed:!1}),GG={hierholzer:function(e){if(!It(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=zG(e),a=n.root,i=n.directed,o=this,l=!1,u,f,c;a&&(c=mt(a)?this.filter(a)[0].id():a[0].id());var h={},p={};i?o.forEach(function(C){var w=C.id();if(C.isNode()){var T=C.indegree(!0),A=C.outdegree(!0),_=T-A,D=A-T;_==1?u?l=!0:u=w:D==1?f?l=!0:f=w:(D>1||_>1)&&(l=!0),h[w]=[],C.outgoers().forEach(function(R){R.isEdge()&&h[w].push(R.id())})}else p[w]=[void 0,C.target().id()]}):o.forEach(function(C){var w=C.id();if(C.isNode()){var T=C.degree(!0);T%2&&(u?f?l=!0:f=w:u=w),h[w]=[],C.connectedEdges().forEach(function(A){return h[w].push(A.id())})}else p[w]=[C.source().id(),C.target().id()]});var y={found:!1,trail:void 0};if(l)return y;if(f&&u)if(i){if(c&&f!=c)return y;c=f}else{if(c&&f!=c&&u!=c)return y;c||(c=f)}else c||(c=o[0].id());var g=function(w){for(var T=w,A=[w],_,D,R;h[T].length;)_=h[T].shift(),D=p[_][0],R=p[_][1],T!=R?(h[R]=h[R].filter(function(k){return k!=_}),T=R):!i&&T!=D&&(h[D]=h[D].filter(function(k){return k!=_}),T=D),A.unshift(_),A.unshift(T);return A},E=[],x=[];for(x=g(c);x.length!=1;)h[x[0]].length==0?(E.unshift(o.getElementById(x.shift())),E.unshift(o.getElementById(x.shift()))):x=g(x.shift()).concat(x);E.unshift(o.getElementById(x.shift()));for(var v in h)if(h[v].length)return y;return y.found=!0,y.trail=this.spawn(E,!0),y}},sf=function(){var e=this,r={},n=0,a=0,i=[],o=[],l={},u=function(p,y){for(var g=o.length-1,E=[],x=e.spawn();o[g].x!=p||o[g].y!=y;)E.push(o.pop().edge),g--;E.push(o.pop().edge),E.forEach(function(v){var C=v.connectedNodes().intersection(e);x.merge(v),C.forEach(function(w){var T=w.id(),A=w.connectedEdges().intersection(e);x.merge(w),r[T].cutVertex?x.merge(A.filter(function(_){return _.isLoop()})):x.merge(A)})}),i.push(x)},f=function(p,y,g){p===g&&(a+=1),r[y]={id:n,low:n++,cutVertex:!1};var E=e.getElementById(y).connectedEdges().intersection(e);if(E.size()===0)i.push(e.spawn(e.getElementById(y)));else{var x,v,C,w;E.forEach(function(T){x=T.source().id(),v=T.target().id(),C=x===y?v:x,C!==g&&(w=T.id(),l[w]||(l[w]=!0,o.push({x:y,y:C,edge:T})),C in r?r[y].low=Math.min(r[y].low,r[C].id):(f(p,C,y),r[y].low=Math.min(r[y].low,r[C].low),r[y].id<=r[C].low&&(r[y].cutVertex=!0,u(y,C))))})}};e.forEach(function(h){if(h.isNode()){var p=h.id();p in r||(a=0,f(p,p),r[p].cutVertex=a>1)}});var c=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return e.getElementById(h)});return{cut:e.spawn(c),components:i}},HG={hopcroftTarjanBiconnected:sf,htbc:sf,htb:sf,hopcroftTarjanBiconnectedComponents:sf},lf=function(){var e=this,r={},n=0,a=[],i=[],o=e.spawn(e),l=function(f){i.push(f),r[f]={index:n,low:n++,explored:!1};var c=e.getElementById(f).connectedEdges().intersection(e);if(c.forEach(function(E){var x=E.target().id();x!==f&&(x in r||l(x),r[x].explored||(r[f].low=Math.min(r[f].low,r[x].low)))}),r[f].index===r[f].low){for(var h=e.spawn();;){var p=i.pop();if(h.merge(e.getElementById(p)),r[p].low=r[f].index,r[p].explored=!0,p===f)break}var y=h.edgesWith(h),g=h.merge(y);a.push(g),o=o.difference(g)}};return e.forEach(function(u){if(u.isNode()){var f=u.id();f in r||l(f)}}),{cut:o,components:a}},UG={tarjanStronglyConnected:lf,tsc:lf,tscc:lf,tarjanStronglyConnectedComponents:lf},dk={};[Yl,bz,wz,Cz,Tz,Az,Dz,rG,bs,ws,Ob,pG,_G,PG,qG,GG,HG,UG].forEach(function(t){xt(dk,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var hk=0,vk=1,pk=2,ua=function(e){if(!(this instanceof ua))return new ua(e);this.id="Thenable/1.0.7",this.state=hk,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};ua.prototype={fulfill:function(e){return LE(this,vk,"fulfillValue",e)},reject:function(e){return LE(this,pk,"rejectReason",e)},then:function(e,r){var n=this,a=new ua;return n.onFulfilled.push(DE(e,a,"fulfill")),n.onRejected.push(DE(r,a,"reject")),gk(n),a.proxy}};var LE=function(e,r,n,a){return e.state===hk&&(e.state=r,e[n]=a,gk(e)),e},gk=function(e){e.state===vk?_E(e,"onFulfilled",e.fulfillValue):e.state===pk&&_E(e,"onRejected",e.rejectReason)},_E=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var l=0;l<a.length;l++)a[l](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},DE=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(o){r.reject(o);return}yk(r,i)}}},yk=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(zr(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):yk(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};ua.all=function(t){return new ua(function(e,r){for(var n=new Array(t.length),a=0,i=function(u,f){n[u]=f,a++,a===t.length&&e(n)},o=0;o<t.length;o++)(function(l){var u=t[l],f=u!=null&&u.then!=null;if(f)u.then(function(h){i(l,h)},function(h){r(h)});else{var c=u;i(l,c)}})(o)})};ua.resolve=function(t){return new ua(function(e,r){e(t)})};ua.reject=function(t){return new ua(function(e,r){r(t)})};var Ls=typeof Promise<"u"?Promise:ua,Bb=function(e,r,n){var a=y1(e),i=!a,o=this._private=xt({duration:1e3},r,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&yr(o.complete)&&o.completes.push(o.complete),i){var l=e.position();o.startPosition=o.startPosition||{x:l.x,y:l.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(a){var u=e.pan();o.startPan={x:u.x,y:u.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},bo=Bb.prototype;xt(bo,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),qn(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(f,c){var h=e[f];h!=null&&(e[f]=e[c],e[c]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],o=i.name,l=e.startStyle[o];e.startStyle[o]=i,e.style[a]=l}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Ls(function(a,i){n.push(function(){a()})})}});bo.complete=bo.completed;bo.run=bo.play;bo.running=bo.playing;var WG={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var l=a[o];l._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this,u=!i,f=!u;if(!l.styleEnabled())return this;var c=l.style();r=xt({},r,n);var h=Object.keys(r).length===0;if(h)return new Bb(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(f&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),f&&r.renderedPosition!=null){var p=r.renderedPosition,y=l.pan(),g=l.zoom();r.position=nk(p,g,y)}if(u&&r.panBy!=null){var E=r.panBy,x=l.pan();r.pan={x:x.x+E.x,y:x.y+E.y}}var v=r.center||r.centre;if(u&&v!=null){var C=l.getCenterPan(v.eles,r.zoom);C!=null&&(r.pan=C)}if(u&&r.fit!=null){var w=r.fit,T=l.getFitViewport(w.eles||w.boundingBox,w.padding);T!=null&&(r.pan=T.pan,r.zoom=T.zoom)}if(u&&It(r.zoom)){var A=l.getZoomedViewport(r.zoom);A!=null?(A.zoomed&&(r.zoom=A.zoom),A.panned&&(r.pan=A.pan)):r.zoom=null}return new Bb(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;n&&(r=xt({},r,n));for(var u=0;u<o.length;u++){var f=o[u],c=f.animated()&&(r.queue===void 0||r.queue),h=f.animation(r,c?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var u=0;u<o.length;u++){for(var f=o[u],c=f._private,h=c.animation.current,p=0;p<h.length;p++){var y=h[p],g=y._private;n&&(g.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return l.notify("draw"),this}}},Ph,ME;function Dc(){if(ME)return Ph;ME=1;var t=Array.isArray;return Ph=t,Ph}var kh,RE;function VG(){if(RE)return kh;RE=1;var t=Dc(),e=uu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return kh=a,kh}var Nh,PE;function $G(){if(PE)return Nh;PE=1;var t=XP(),e=lu(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var u=t(l);return u==n||u==a||u==r||u==i}return Nh=o,Nh}var Oh,kE;function YG(){if(kE)return Oh;kE=1;var t=Sc(),e=t["__core-js_shared__"];return Oh=e,Oh}var Ih,NE;function XG(){if(NE)return Ih;NE=1;var t=YG(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Ih=r,Ih}var Fh,OE;function KG(){if(OE)return Fh;OE=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Fh=r,Fh}var Bh,IE;function jG(){if(IE)return Bh;IE=1;var t=$G(),e=XG(),r=lu(),n=KG(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,f=l.hasOwnProperty,c=RegExp("^"+u.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!r(p)||e(p))return!1;var y=t(p)?c:i;return y.test(n(p))}return Bh=h,Bh}var qh,FE;function ZG(){if(FE)return qh;FE=1;function t(e,r){return e==null?void 0:e[r]}return qh=t,qh}var zh,BE;function _1(){if(BE)return zh;BE=1;var t=jG(),e=ZG();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return zh=r,zh}var Gh,qE;function Mc(){if(qE)return Gh;qE=1;var t=_1(),e=t(Object,"create");return Gh=e,Gh}var Hh,zE;function QG(){if(zE)return Hh;zE=1;var t=Mc();function e(){this.__data__=t?t(null):{},this.size=0}return Hh=e,Hh}var Uh,GE;function JG(){if(GE)return Uh;GE=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Uh=t,Uh}var Wh,HE;function e5(){if(HE)return Wh;HE=1;var t=Mc(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return Wh=a,Wh}var Vh,UE;function t5(){if(UE)return Vh;UE=1;var t=Mc(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Vh=n,Vh}var $h,WE;function r5(){if(WE)return $h;WE=1;var t=Mc(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return $h=r,$h}var Yh,VE;function n5(){if(VE)return Yh;VE=1;var t=QG(),e=JG(),r=e5(),n=t5(),a=r5();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Yh=i,Yh}var Xh,$E;function a5(){if($E)return Xh;$E=1;function t(){this.__data__=[],this.size=0}return Xh=t,Xh}var Kh,YE;function mk(){if(YE)return Kh;YE=1;function t(e,r){return e===r||e!==e&&r!==r}return Kh=t,Kh}var jh,XE;function Rc(){if(XE)return jh;XE=1;var t=mk();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return jh=e,jh}var Zh,KE;function i5(){if(KE)return Zh;KE=1;var t=Rc(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return Zh=n,Zh}var Qh,jE;function o5(){if(jE)return Qh;jE=1;var t=Rc();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Qh=e,Qh}var Jh,ZE;function s5(){if(ZE)return Jh;ZE=1;var t=Rc();function e(r){return t(this.__data__,r)>-1}return Jh=e,Jh}var ev,QE;function l5(){if(QE)return ev;QE=1;var t=Rc();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return ev=e,ev}var tv,JE;function u5(){if(JE)return tv;JE=1;var t=a5(),e=i5(),r=o5(),n=s5(),a=l5();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,tv=i,tv}var rv,eT;function f5(){if(eT)return rv;eT=1;var t=_1(),e=Sc(),r=t(e,"Map");return rv=r,rv}var nv,tT;function c5(){if(tT)return nv;tT=1;var t=n5(),e=u5(),r=f5();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return nv=n,nv}var av,rT;function d5(){if(rT)return av;rT=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return av=t,av}var iv,nT;function Pc(){if(nT)return iv;nT=1;var t=d5();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return iv=e,iv}var ov,aT;function h5(){if(aT)return ov;aT=1;var t=Pc();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return ov=e,ov}var sv,iT;function v5(){if(iT)return sv;iT=1;var t=Pc();function e(r){return t(this,r).get(r)}return sv=e,sv}var lv,oT;function p5(){if(oT)return lv;oT=1;var t=Pc();function e(r){return t(this,r).has(r)}return lv=e,lv}var uv,sT;function g5(){if(sT)return uv;sT=1;var t=Pc();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return uv=e,uv}var fv,lT;function y5(){if(lT)return fv;lT=1;var t=c5(),e=h5(),r=v5(),n=p5(),a=g5();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,fv=i,fv}var cv,uT;function m5(){if(uT)return cv;uT=1;var t=y5(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],u=i.cache;if(u.has(l))return u.get(l);var f=n.apply(this,o);return i.cache=u.set(l,f)||u,f};return i.cache=new(r.Cache||t),i}return r.Cache=t,cv=r,cv}var dv,fT;function b5(){if(fT)return dv;fT=1;var t=m5(),e=500;function r(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return dv=r,dv}var hv,cT;function bk(){if(cT)return hv;cT=1;var t=b5(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,u,f){i.push(u?f.replace(r,"$1"):l||o)}),i});return hv=n,hv}var vv,dT;function wk(){if(dT)return vv;dT=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return vv=t,vv}var pv,hT;function w5(){if(hT)return pv;hT=1;var t=b1(),e=wk(),r=Dc(),n=uu(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return pv=o,pv}var gv,vT;function xk(){if(vT)return gv;vT=1;var t=w5();function e(r){return r==null?"":t(r)}return gv=e,gv}var yv,pT;function Ck(){if(pT)return yv;pT=1;var t=Dc(),e=VG(),r=bk(),n=xk();function a(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return yv=a,yv}var mv,gT;function D1(){if(gT)return mv;gT=1;var t=uu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return mv=e,mv}var bv,yT;function x5(){if(yT)return bv;yT=1;var t=Ck(),e=D1();function r(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return bv=r,bv}var wv,mT;function C5(){if(mT)return wv;mT=1;var t=x5();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return wv=e,wv}var E5=C5(),T5=su(E5),xv,bT;function S5(){if(bT)return xv;bT=1;var t=_1(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return xv=e,xv}var Cv,wT;function A5(){if(wT)return Cv;wT=1;var t=S5();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Cv=e,Cv}var Ev,xT;function L5(){if(xT)return Ev;xT=1;var t=A5(),e=mk(),r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l){var u=i[o];(!(n.call(i,o)&&e(u,l))||l===void 0&&!(o in i))&&t(i,o,l)}return Ev=a,Ev}var Tv,CT;function _5(){if(CT)return Tv;CT=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Tv=r,Tv}var Sv,ET;function D5(){if(ET)return Sv;ET=1;var t=L5(),e=Ck(),r=_5(),n=lu(),a=D1();function i(o,l,u,f){if(!n(o))return o;l=e(l,o);for(var c=-1,h=l.length,p=h-1,y=o;y!=null&&++c<h;){var g=a(l[c]),E=u;if(g==="__proto__"||g==="constructor"||g==="prototype")return o;if(c!=p){var x=y[g];E=f?f(x,g,y):void 0,E===void 0&&(E=n(x)?x:r(l[c+1])?[]:{})}t(y,g,E),y=y[g]}return o}return Sv=i,Sv}var Av,TT;function M5(){if(TT)return Av;TT=1;var t=D5();function e(r,n,a){return r==null?r:t(r,n,a)}return Av=e,Av}var R5=M5(),P5=su(R5),Lv,ST;function k5(){if(ST)return Lv;ST=1;function t(e,r){var n=-1,a=e.length;for(r||(r=Array(a));++n<a;)r[n]=e[n];return r}return Lv=t,Lv}var _v,AT;function N5(){if(AT)return _v;AT=1;var t=wk(),e=k5(),r=Dc(),n=uu(),a=bk(),i=D1(),o=xk();function l(u){return r(u)?t(u,i):n(u)?[u]:e(a(o(u)))}return _v=l,_v}var O5=N5(),I5=su(O5),F5={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=xt({},r,e),function(a,i){var o=e,l=this,u=l.length!==void 0,f=u?l:[l],c=u?l[0]:l;if(mt(a)){var h=a.indexOf(".")!==-1,p=h&&I5(a);if(o.allowGetting&&i===void 0){var y;return c&&(o.beforeGet(c),p&&c._private[o.field][a]===void 0?y=T5(c._private[o.field],p):y=c._private[o.field][a]),y}else if(o.allowSetting&&i!==void 0){var g=!o.immutableKeys[a];if(g){var E=BP({},a,i);o.beforeSet(l,E);for(var x=0,v=f.length;x<v;x++){var C=f[x];o.canSet(C)&&(p&&c._private[o.field][a]===void 0?P5(C._private[o.field],p,i):C._private[o.field][a]=i)}o.updateStyle&&l.updateStyle(),o.onSet(l),o.settingTriggersEvent&&l[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&It(a)){var w=a,T,A,_=Object.keys(w);o.beforeSet(l,w);for(var D=0;D<_.length;D++){T=_[D],A=w[T];var R=!o.immutableKeys[T];if(R)for(var k=0;k<f.length;k++){var B=f[k];o.canSet(B)&&(B._private[o.field][T]=A)}}o.updateStyle&&l.updateStyle(),o.onSet(l),o.settingTriggersEvent&&l[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&yr(a)){var G=a;l.on(o.bindingEvent,G)}else if(o.allowGetting&&a===void 0){var F;return c&&(o.beforeGet(c),F=c._private[o.field]),F}return l}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=xt({},r,e),function(a){var i=e,o=this,l=o.length!==void 0,u=l?o:[o];if(mt(a)){for(var f=a.split(/\s+/),c=f.length,h=0;h<c;h++){var p=f[h];if(!_i(p)){var y=!i.immutableKeys[p];if(y)for(var g=0,E=u.length;g<E;g++)u[g]._private[i.field][p]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var x=0,v=u.length;x<v;x++)for(var C=u[x]._private[i.field],w=Object.keys(C),T=0;T<w.length;T++){var A=w[T],_=!i.immutableKeys[A];_&&(C[A]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},B5={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new Ls(function(l,u){var f=function(y){i.off.apply(i,h),l(y)},c=o.concat([f]),h=c.concat([]);i.on.apply(i,c)})}}},Wt={};[WG,F5,B5].forEach(function(t){xt(Wt,t)});var q5={animate:Wt.animate(),animation:Wt.animation(),animated:Wt.animated(),clearQueue:Wt.clearQueue(),delay:Wt.delay(),delayAnimation:Wt.delayAnimation(),stop:Wt.stop()},Tf={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(g){return n.push(g)}),n}else ar(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new As(e),o=0;o<r.length;o++){for(var l=r[o],u=l._private,f=u.classes,c=!1,h=0;h<e.length;h++){var p=e[h],y=f.has(p);if(!y){c=!0;break}}c||(c=f.size!==e.length),c&&(u.classes=i,a.push(l))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){ar(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,l=n.length;o<l;o++)for(var u=n[o],f=u._private.classes,c=!1,h=0;h<e.length;h++){var p=e[h],y=f.has(p),g=!1;r||a&&!y?(f.add(p),g=!0):(!r||a&&y)&&(f.delete(p),g=!0),!c&&g&&(i.push(u),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Tf.className=Tf.classNames=Tf.classes;var Ot={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:qr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Ot.variable="(?:[\\w-.]|(?:\\\\"+Ot.metaChar+"))+";Ot.className="(?:[\\w-]|(?:\\\\"+Ot.metaChar+"))+";Ot.value=Ot.string+"|"+Ot.number;Ot.id=Ot.variable;(function(){var t,e,r;for(t=Ot.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Ot.comparatorOp+="|@"+e;for(t=Ot.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Ot.comparatorOp+="|\\!"+e)})();var Qt=function(){return{checks:[]}},dt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},qb=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return zq(t.selector,e.selector)}),z5=function(){for(var t={},e,r=0;r<qb.length;r++)e=qb[r],t[e.selector]=e.matches;return t}(),G5=function(e,r){return z5[e](r)},H5="("+qb.map(function(t){return t.selector}).join("|")+")",Jo=function(e){return e.replace(new RegExp("\\\\("+Ot.metaChar+")","g"),function(r,n){return n})},pi=function(e,r,n){e[e.length-1]=n},zb=[{name:"group",query:!0,regex:"("+Ot.group+")",populate:function(e,r,n){var a=Br(n,1),i=a[0];r.checks.push({type:dt.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:H5,populate:function(e,r,n){var a=Br(n,1),i=a[0];r.checks.push({type:dt.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+Ot.id+")",populate:function(e,r,n){var a=Br(n,1),i=a[0];r.checks.push({type:dt.ID,value:Jo(i)})}},{name:"className",query:!0,regex:"\\.("+Ot.className+")",populate:function(e,r,n){var a=Br(n,1),i=a[0];r.checks.push({type:dt.CLASS,value:Jo(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Ot.variable+")\\s*\\]",populate:function(e,r,n){var a=Br(n,1),i=a[0];r.checks.push({type:dt.DATA_EXIST,field:Jo(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Ot.variable+")\\s*("+Ot.comparatorOp+")\\s*("+Ot.value+")\\s*\\]",populate:function(e,r,n){var a=Br(n,3),i=a[0],o=a[1],l=a[2],u=new RegExp("^"+Ot.string+"$").exec(l)!=null;u?l=l.substring(1,l.length-1):l=parseFloat(l),r.checks.push({type:dt.DATA_COMPARE,field:Jo(i),operator:o,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Ot.boolOp+")\\s*("+Ot.variable+")\\s*\\]",populate:function(e,r,n){var a=Br(n,2),i=a[0],o=a[1];r.checks.push({type:dt.DATA_BOOL,field:Jo(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Ot.meta+")\\s*("+Ot.comparatorOp+")\\s*("+Ot.number+")\\s*\\]\\]",populate:function(e,r,n){var a=Br(n,3),i=a[0],o=a[1],l=a[2];r.checks.push({type:dt.META_COMPARE,field:Jo(i),operator:o,value:parseFloat(l)})}},{name:"nextQuery",separator:!0,regex:Ot.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=a,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var l=e[e.length++]=Qt();return l}},{name:"directedEdge",separator:!0,regex:Ot.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Qt(),a=r,i=Qt();return n.checks.push({type:dt.DIRECTED_EDGE,source:a,target:i}),pi(e,r,n),e.edgeCount++,i}else{var o=Qt(),l=r,u=Qt();return o.checks.push({type:dt.NODE_SOURCE,source:l,target:u}),pi(e,r,o),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:Ot.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Qt(),a=r,i=Qt();return n.checks.push({type:dt.UNDIRECTED_EDGE,nodes:[a,i]}),pi(e,r,n),e.edgeCount++,i}else{var o=Qt(),l=r,u=Qt();return o.checks.push({type:dt.NODE_NEIGHBOR,node:l,neighbor:u}),pi(e,r,o),u}}},{name:"child",separator:!0,regex:Ot.child,populate:function(e,r){if(e.currentSubject==null){var n=Qt(),a=Qt(),i=e[e.length-1];return n.checks.push({type:dt.CHILD,parent:i,child:a}),pi(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=Qt(),l=e[e.length-1],u=Qt(),f=Qt(),c=Qt(),h=Qt();return o.checks.push({type:dt.COMPOUND_SPLIT,left:l,right:u,subject:f}),f.checks=r.checks,r.checks=[{type:dt.TRUE}],h.checks.push({type:dt.TRUE}),u.checks.push({type:dt.PARENT,parent:h,child:c}),pi(e,l,o),e.currentSubject=f,e.compoundCount++,c}else{var p=Qt(),y=Qt(),g=[{type:dt.PARENT,parent:p,child:y}];return p.checks=r.checks,r.checks=g,e.compoundCount++,y}}},{name:"descendant",separator:!0,regex:Ot.descendant,populate:function(e,r){if(e.currentSubject==null){var n=Qt(),a=Qt(),i=e[e.length-1];return n.checks.push({type:dt.DESCENDANT,ancestor:i,descendant:a}),pi(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=Qt(),l=e[e.length-1],u=Qt(),f=Qt(),c=Qt(),h=Qt();return o.checks.push({type:dt.COMPOUND_SPLIT,left:l,right:u,subject:f}),f.checks=r.checks,r.checks=[{type:dt.TRUE}],h.checks.push({type:dt.TRUE}),u.checks.push({type:dt.ANCESTOR,ancestor:h,descendant:c}),pi(e,l,o),e.currentSubject=f,e.compoundCount++,c}else{var p=Qt(),y=Qt(),g=[{type:dt.ANCESTOR,ancestor:p,descendant:y}];return p.checks=r.checks,r.checks=g,e.compoundCount++,y}}},{name:"subject",modifier:!0,regex:Ot.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return $t("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===dt.DIRECTED_EDGE?a.type=dt.NODE_TARGET:i===dt.UNDIRECTED_EDGE&&(a.type=dt.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];zb.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var U5=function(e){for(var r,n,a,i=0;i<zb.length;i++){var o=zb[i],l=o.name,u=e.match(o.regexObj);if(u!=null){n=u,r=o,a=l;var f=u[0];e=e.substring(f.length);break}}return{expr:r,match:n,name:a,remaining:e}},W5=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},V5=function(e){var r=this,n=r.inputText=e,a=r[0]=Qt();for(r.length=1,n=W5(n);;){var i=U5(n);if(i.expr==null)return $t("The selector `"+e+"`is invalid"),!1;var o=i.match.slice(1),l=i.expr.populate(r,a,o);if(l===!1)return!1;if(l!=null&&(a=l),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var f=0;f<r.length;f++){var c=r[f];if(c.compoundCount>0&&c.edgeCount>0)return $t("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return $t("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&$t("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},$5=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return mt(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},a=function(c,h){var p=c.type,y=c.value;switch(p){case dt.GROUP:{var g=e(y);return g.substring(0,g.length-1)}case dt.DATA_COMPARE:{var E=c.field,x=c.operator;return"["+E+n(e(x))+r(y)+"]"}case dt.DATA_BOOL:{var v=c.operator,C=c.field;return"["+e(v)+C+"]"}case dt.DATA_EXIST:{var w=c.field;return"["+w+"]"}case dt.META_COMPARE:{var T=c.operator,A=c.field;return"[["+A+n(e(T))+r(y)+"]]"}case dt.STATE:return y;case dt.ID:return"#"+y;case dt.CLASS:return"."+y;case dt.PARENT:case dt.CHILD:return i(c.parent,h)+n(">")+i(c.child,h);case dt.ANCESTOR:case dt.DESCENDANT:return i(c.ancestor,h)+" "+i(c.descendant,h);case dt.COMPOUND_SPLIT:{var _=i(c.left,h),D=i(c.subject,h),R=i(c.right,h);return _+(_.length>0?" ":"")+D+R}case dt.TRUE:return""}},i=function(c,h){return c.checks.reduce(function(p,y,g){return p+(h===c&&g===0?"$":"")+a(y,h)},"")},o="",l=0;l<this.length;l++){var u=this[l];o+=i(u,u.subject),this.length>1&&l<this.length-1&&(o+=", ")}return this.toStringCache=o,o},Y5={parse:V5,toString:$5},Ek=function(e,r,n){var a,i=mt(e),o=at(e),l=mt(n),u,f,c=!1,h=!1,p=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(i||l||c)&&(u=!i&&!o?"":""+e,f=""+n),c&&(e=u=u.toLowerCase(),n=f=f.toLowerCase()),r){case"*=":a=u.indexOf(f)>=0;break;case"$=":a=u.indexOf(f,u.length-f.length)>=0;break;case"^=":a=u.indexOf(f)===0;break;case"=":a=e===n;break;case">":p=!0,a=e>n;break;case">=":p=!0,a=e>=n;break;case"<":p=!0,a=e<n;break;case"<=":p=!0,a=e<=n;break;default:a=!1;break}return h&&(e!=null||!p)&&(a=!a),a},X5=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},K5=function(e){return e!==void 0},M1=function(e,r){return e.data(r)},j5=function(e,r){return e[r]()},xr=[],ur=function(e,r){return e.checks.every(function(n){return xr[n.type](n,r)})};xr[dt.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};xr[dt.STATE]=function(t,e){var r=t.value;return G5(r,e)};xr[dt.ID]=function(t,e){var r=t.value;return e.id()===r};xr[dt.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};xr[dt.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Ek(j5(e,r),n,a)};xr[dt.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Ek(M1(e,r),n,a)};xr[dt.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return X5(M1(e,r),n)};xr[dt.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,K5(M1(e,r))};xr[dt.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return ur(r,a)&&ur(n,i)||ur(n,a)&&ur(r,i)};xr[dt.NODE_NEIGHBOR]=function(t,e){return ur(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&ur(t.neighbor,r)})};xr[dt.DIRECTED_EDGE]=function(t,e){return ur(t.source,e.source())&&ur(t.target,e.target())};xr[dt.NODE_SOURCE]=function(t,e){return ur(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&ur(t.target,r)})};xr[dt.NODE_TARGET]=function(t,e){return ur(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&ur(t.source,r)})};xr[dt.CHILD]=function(t,e){return ur(t.child,e)&&ur(t.parent,e.parent())};xr[dt.PARENT]=function(t,e){return ur(t.parent,e)&&e.children().some(function(r){return ur(t.child,r)})};xr[dt.DESCENDANT]=function(t,e){return ur(t.descendant,e)&&e.ancestors().some(function(r){return ur(t.ancestor,r)})};xr[dt.ANCESTOR]=function(t,e){return ur(t.ancestor,e)&&e.descendants().some(function(r){return ur(t.descendant,r)})};xr[dt.COMPOUND_SPLIT]=function(t,e){return ur(t.subject,e)&&ur(t.left,e)&&ur(t.right,e)};xr[dt.TRUE]=function(){return!0};xr[dt.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};xr[dt.FILTER]=function(t,e){var r=t.value;return r(e)};var Z5=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===dt.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var l=r[o];if(ur(l,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},Q5=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(ur(a,e))return!0}return!1},J5={matches:Q5,filter:Z5},Ri=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||mt(e)&&e.match(/^\s*$/)||(qn(e)?this.addQuery({checks:[{type:dt.COLLECTION,value:e.collection()}]}):yr(e)?this.addQuery({checks:[{type:dt.FILTER,value:e}]}):mt(e)?this.parse(e)||(this.invalid=!0):pr("A selector must be created from a string; found "))},Pi=Ri.prototype;[Y5,J5].forEach(function(t){return xt(Pi,t)});Pi.text=function(){return this.inputText};Pi.size=function(){return this.length};Pi.eq=function(t){return this[t]};Pi.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Pi.addQuery=function(t){this[this.length++]=t};Pi.selector=Pi.toString;var Ei={allAre:function(e){var r=new Ri(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new Ri(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Ei.allAreNeighbours=Ei.allAreNeighbors;Ei.has=Ei.contains;Ei.equal=Ei.equals=Ei.same;var $n=function(e,r){return function(a,i,o,l){var u=a,f=this,c;if(u==null?c="":qn(u)&&u.length===1&&(c=u.id()),f.length===1&&c){var h=f[0]._private,p=h.traversalCache=h.traversalCache||{},y=p[r]=p[r]||[],g=yo(c),E=y[g];return E||(y[g]=e.call(f,a,i,o,l))}else return e.call(f,a,i,o,l)}},Ss={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:$n(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function R1(t,e,r,n){for(var a=[],i=new As,o=t.cy(),l=o.hasCompoundNodes(),u=0;u<t.length;u++){var f=t[u];r?a.push(f):l&&n(a,i,f)}for(;a.length>0;){var c=a.shift();e(c),i.add(c.id()),l&&n(a,i,c)}return t}function Tk(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}Ss.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return R1(this,t,e,Tk)};function Sk(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Ss.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return R1(this,t,e,Sk)};function eH(t,e,r){Sk(t,e,r),Tk(t,e,r)}Ss.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return R1(this,t,e,eH)};Ss.ancestors=Ss.parents;var jl,Ak;jl=Ak={data:Wt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Wt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Wt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Wt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Wt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Wt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};jl.attr=jl.data;jl.removeAttr=jl.removeData;var tH=Ak,kc={};function Dv(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var l=i[o];!e&&l.isLoop()||(n+=t(a,l))}return n}else return}}xt(kc,{degree:Dv(function(t,e){return e.source().same(e.target())?2:1}),indegree:Dv(function(t,e){return e.target().same(t)?1:0}),outdegree:Dv(function(t,e){return e.source().same(t)?1:0})});function es(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],l=o[t](r);l!==void 0&&(n===void 0||e(l,n))&&(n=l)}return n}}xt(kc,{minDegree:es("degree",function(t,e){return t<e}),maxDegree:es("degree",function(t,e){return t>e}),minIndegree:es("indegree",function(t,e){return t<e}),maxIndegree:es("indegree",function(t,e){return t>e}),minOutdegree:es("outdegree",function(t,e){return t<e}),maxOutdegree:es("outdegree",function(t,e){return t>e})});xt(kc,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var ia,Lk,_k=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var o=i._private.position,l={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(l.x===0&&l.y===0)&&i.children().shift(l,n),i.dirtyBoundingBoxCache()}}},LT={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){_k(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};ia=Lk={position:Wt.data(LT),silentPosition:Wt.data(xt({},LT,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){_k(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(It(e))r?this.silentPosition(e):this.position(e);else if(yr(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],l=void 0;(l=n(o,i))&&(r?o.silentPosition(l):o.position(l))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(It(e)?(a={x:at(e.x)?e.x:0,y:at(e.y)?e.y:0},n=r):mt(e)&&at(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var l=this[o];if(!(i.hasCompoundNodes()&&l.isChild()&&l.ancestors().anySame(this))){var u=l.position(),f={x:u.x+a.x,y:u.y+a.y};n?l.silentPosition(f):l.position(f)}}i.endBatch()}return this},silentShift:function(e,r){return It(e)?this.shift(e,!0):mt(e)&&at(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),l=It(e)?e:void 0,u=l!==void 0||r!==void 0&&mt(e);if(n&&n.isNode())if(u)for(var f=0;f<this.length;f++){var c=this[f];r!==void 0?c.position(e,(r-o[e])/i):l!==void 0&&c.position(nk(l,i,o))}else{var h=n.position();return l=Lc(h,i,o),e===void 0?l:l[e]}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=It(e)?e:void 0,o=i!==void 0||r!==void 0&&mt(e),l=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var u=0;u<this.length;u++){var f=this[u],c=l?f.parent():null,h=c&&c.length>0,p=h;h&&(c=c[0]);var y=p?c.position():{x:0,y:0};r!==void 0?f.position(e,r+y[e]):i!==void 0&&f.position({x:i.x+y.x,y:i.y+y.y})}else{var g=n.position(),E=l?n.parent():null,x=E&&E.length>0,v=x;x&&(E=E[0]);var C=v?E.position():{x:0,y:0};return i={x:g.x-C.x,y:g.y-C.y},e===void 0?i:i[e]}else if(!o)return;return this}};ia.modelPosition=ia.point=ia.position;ia.modelPositions=ia.points=ia.positions;ia.renderedPoint=ia.renderedPosition;ia.relativePoint=ia.relativePosition;var rH=Lk,xs,Fi;xs=Fi={};Fi.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,o=e.x2*n+a.x,l=e.y1*n+a.y,u=e.y2*n+a.y;return{x1:i,x2:o,y1:l,y2:u,w:o-i,h:u-l}};Fi.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Fi.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(o){if(!o.isParent())return;var l=o._private,u=o.children(),f=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},h=u.boundingBox({includeLabels:f,includeOverlays:!1,useCache:!1}),p=l.position;(h.w===0||h.h===0)&&(h={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},h.x1=p.x-h.w/2,h.x2=p.x+h.w/2,h.y1=p.y-h.h/2,h.y2=p.y+h.h/2);function y(k,B,G){var F=0,q=0,M=B+G;return k>0&&M>0&&(F=B/M*k,q=G/M*k),{biasDiff:F,biasComplementDiff:q}}function g(k,B,G,F){if(G.units==="%")switch(F){case"width":return k>0?G.pfValue*k:0;case"height":return B>0?G.pfValue*B:0;case"average":return k>0&&B>0?G.pfValue*(k+B)/2:0;case"min":return k>0&&B>0?k>B?G.pfValue*B:G.pfValue*k:0;case"max":return k>0&&B>0?k>B?G.pfValue*k:G.pfValue*B:0;default:return 0}else return G.units==="px"?G.pfValue:0}var E=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(E=E*100/c.width.val);var x=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(x=x*100/c.width.val);var v=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(v=v*100/c.height.val);var C=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(C=C*100/c.height.val);var w=y(c.width.val-h.w,E,x),T=w.biasDiff,A=w.biasComplementDiff,_=y(c.height.val-h.h,v,C),D=_.biasDiff,R=_.biasComplementDiff;l.autoPadding=g(h.w,h.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),l.autoWidth=Math.max(h.w,c.width.val),p.x=(-T+h.x1+h.x2+A)/2,l.autoHeight=Math.max(h.h,c.height.val),p.y=(-D+h.y1+h.y2+R)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var Vn=function(e){return e===1/0||e===-1/0?0:e},na=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},so=function(e,r){return r==null?e:na(e,r.x1,r.y1,r.x2,r.y2)},vl=function(e,r,n){return Mn(e,r,n)},uf=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,l=r.pstyle(n+"-arrow-shape").value,u,f;if(l!=="none"){n==="source"?(u=i.srcX,f=i.srcY):n==="target"?(u=i.tgtX,f=i.tgtY):(u=i.midX,f=i.midY);var c=a.arrowBounds=a.arrowBounds||{},h=c[n]=c[n]||{};h.x1=u-o,h.y1=f-o,h.x2=u+o,h.y2=f+o,h.w=h.x2-h.x1,h.h=h.y2-h.y1,Cf(h,1),na(e,h.x1,h.y1,h.x2,h.y2)}}},Mv=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,l=r.pstyle(a+"label").strValue;if(l){var u=r.pstyle("text-halign"),f=r.pstyle("text-valign"),c=vl(o,"labelWidth",n),h=vl(o,"labelHeight",n),p=vl(o,"labelX",n),y=vl(o,"labelY",n),g=r.pstyle(a+"text-margin-x").pfValue,E=r.pstyle(a+"text-margin-y").pfValue,x=r.isEdge(),v=r.pstyle(a+"text-rotation"),C=r.pstyle("text-outline-width").pfValue,w=r.pstyle("text-border-width").pfValue,T=w/2,A=r.pstyle("text-background-padding").pfValue,_=2,D=h,R=c,k=R/2,B=D/2,G,F,q,M;if(x)G=p-k,F=p+k,q=y-B,M=y+B;else{switch(u.value){case"left":G=p-R,F=p;break;case"center":G=p-k,F=p+k;break;case"right":G=p,F=p+R;break}switch(f.value){case"top":q=y-D,M=y;break;case"center":q=y-B,M=y+B;break;case"bottom":q=y,M=y+D;break}}var P=g-Math.max(C,T)-A-_,N=g+Math.max(C,T)+A+_,I=E-Math.max(C,T)-A-_,z=E+Math.max(C,T)+A+_;G+=P,F+=N,q+=I,M+=z;var ae=n||"main",re=i.labelBounds,K=re[ae]=re[ae]||{};K.x1=G,K.y1=q,K.x2=F,K.y2=M,K.w=F-G,K.h=M-q,K.leftPad=P,K.rightPad=N,K.topPad=I,K.botPad=z;var W=x&&v.strValue==="autorotate",Z=v.pfValue!=null&&v.pfValue!==0;if(W||Z){var U=W?vl(i.rstyle,"labelAngle",n):v.pfValue,V=Math.cos(U),Y=Math.sin(U),ee=(G+F)/2,oe=(q+M)/2;if(!x){switch(u.value){case"left":ee=F;break;case"right":ee=G;break}switch(f.value){case"top":oe=M;break;case"bottom":oe=q;break}}var te=function(be,Te){return be=be-ee,Te=Te-oe,{x:be*V-Te*Y+ee,y:be*Y+Te*V+oe}},ie=te(G,q),se=te(G,M),$=te(F,q),ne=te(F,M);G=Math.min(ie.x,se.x,$.x,ne.x),F=Math.max(ie.x,se.x,$.x,ne.x),q=Math.min(ie.y,se.y,$.y,ne.y),M=Math.max(ie.y,se.y,$.y,ne.y)}var le=ae+"Rot",Se=re[le]=re[le]||{};Se.x1=G,Se.y1=q,Se.x2=F,Se.y2=M,Se.w=F-G,Se.h=M-q,na(e,G,q,F,M),na(i.labelBounds.all,G,q,F,M)}return e}},nH=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value;if(n>0&&a>0){var i=r.pstyle("outline-offset").value,o=r.pstyle("shape").value,l=a+i,u=(e.w+l*2)/e.w,f=(e.h+l*2)/e.h,c=0,h=0;["diamond","pentagon","round-triangle"].includes(o)?(u=(e.w+l*2.4)/e.w,h=-l/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?u=(e.w+l*2.4)/e.w:o==="star"?(u=(e.w+l*2.8)/e.w,f=(e.h+l*2.6)/e.h,h=-l/3.8):o==="triangle"?(u=(e.w+l*2.8)/e.w,f=(e.h+l*2.4)/e.h,h=-l/1.4):o==="vee"&&(u=(e.w+l*4.4)/e.w,f=(e.h+l*3.8)/e.h,h=-l*.5);var p=e.h*f-e.h,y=e.w*u-e.w;if(Ef(e,[Math.ceil(p/2),Math.ceil(y/2)]),c!=0||h!==0){var g=zz(e,c,h);ak(e,g)}}}},aH=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),o=Nn(),l=e._private,u=e.isNode(),f=e.isEdge(),c,h,p,y,g,E,x=l.rstyle,v=u&&a?e.pstyle("bounds-expansion").pfValue:[0],C=function(_e){return _e.pstyle("display").value!=="none"},w=!a||C(e)&&(!f||C(e.source())&&C(e.target()));if(w){var T=0,A=0;a&&r.includeOverlays&&(T=e.pstyle("overlay-opacity").value,T!==0&&(A=e.pstyle("overlay-padding").value));var _=0,D=0;a&&r.includeUnderlays&&(_=e.pstyle("underlay-opacity").value,_!==0&&(D=e.pstyle("underlay-padding").value));var R=Math.max(A,D),k=0,B=0;if(a&&(k=e.pstyle("width").pfValue,B=k/2),u&&r.includeNodes){var G=e.position();g=G.x,E=G.y;var F=e.outerWidth(),q=F/2,M=e.outerHeight(),P=M/2;c=g-q,h=g+q,p=E-P,y=E+P,na(o,c,p,h,y),a&&r.includeOutlines&&nH(o,e)}else if(f&&r.includeEdges)if(a&&!i){var N=e.pstyle("curve-style").strValue;if(c=Math.min(x.srcX,x.midX,x.tgtX),h=Math.max(x.srcX,x.midX,x.tgtX),p=Math.min(x.srcY,x.midY,x.tgtY),y=Math.max(x.srcY,x.midY,x.tgtY),c-=B,h+=B,p-=B,y+=B,na(o,c,p,h,y),N==="haystack"){var I=x.haystackPts;if(I&&I.length===2){if(c=I[0].x,p=I[0].y,h=I[1].x,y=I[1].y,c>h){var z=c;c=h,h=z}if(p>y){var ae=p;p=y,y=ae}na(o,c-B,p-B,h+B,y+B)}}else if(N==="bezier"||N==="unbundled-bezier"||N.endsWith("segments")||N.endsWith("taxi")){var re;switch(N){case"bezier":case"unbundled-bezier":re=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":re=x.linePts;break}if(re!=null)for(var K=0;K<re.length;K++){var W=re[K];c=W.x-B,h=W.x+B,p=W.y-B,y=W.y+B,na(o,c,p,h,y)}}}else{var Z=e.source(),U=Z.position(),V=e.target(),Y=V.position();if(c=U.x,h=Y.x,p=U.y,y=Y.y,c>h){var ee=c;c=h,h=ee}if(p>y){var oe=p;p=y,y=oe}c-=B,h+=B,p-=B,y+=B,na(o,c,p,h,y)}if(a&&r.includeEdges&&f&&(uf(o,e,"mid-source"),uf(o,e,"mid-target"),uf(o,e,"source"),uf(o,e,"target")),a){var te=e.pstyle("ghost").value==="yes";if(te){var ie=e.pstyle("ghost-offset-x").pfValue,se=e.pstyle("ghost-offset-y").pfValue;na(o,o.x1+ie,o.y1+se,o.x2+ie,o.y2+se)}}var $=l.bodyBounds=l.bodyBounds||{};vE($,o),Ef($,v),Cf($,1),a&&(c=o.x1,h=o.x2,p=o.y1,y=o.y2,na(o,c-R,p-R,h+R,y+R));var ne=l.overlayBounds=l.overlayBounds||{};vE(ne,o),Ef(ne,v),Cf(ne,1);var le=l.labelBounds=l.labelBounds||{};le.all!=null?qz(le.all):le.all=Nn(),a&&r.includeLabels&&(r.includeMainLabels&&Mv(o,e,null),f&&(r.includeSourceLabels&&Mv(o,e,"source"),r.includeTargetLabels&&Mv(o,e,"target")))}return o.x1=Vn(o.x1),o.y1=Vn(o.y1),o.x2=Vn(o.x2),o.y2=Vn(o.y2),o.w=Vn(o.x2-o.x1),o.h=Vn(o.y2-o.y1),o.w>0&&o.h>0&&w&&(Ef(o,v),Cf(o,1)),o},Dk=function(e){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},Mk=function(e){var r=function(l){return Math.round(l)};if(e.isEdge()){var n=e.source().position(),a=e.target().position();return lE([r(n.x),r(n.y),r(a.x),r(a.y)])}else{var i=e.position();return lE([r(i.x),r(i.y)])}},_T=function(e,r){var n=e._private,a,i=e.isEdge(),o=r==null?DT:Dk(r),l=o===DT;if(n.bbCache==null?(a=aH(e,Zl),n.bbCache=a,n.bbCachePosKey=Mk(e)):a=n.bbCache,!l){var u=e.isNode();a=Nn(),(r.includeNodes&&u||r.includeEdges&&!u)&&(r.includeOverlays?so(a,n.overlayBounds):so(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?so(a,n.labelBounds.all):(r.includeMainLabels&&so(a,n.labelBounds.mainRot),r.includeSourceLabels&&so(a,n.labelBounds.sourceRot),r.includeTargetLabels&&so(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Zl={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},DT=Dk(Zl),MT=nn(Zl);Fi.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=Cs(function(c){var h=c._private;return h.bbCache==null||h.styleDirty||h.bbCachePosKey!==Mk(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=Zl:t=MT(t),e=_T(this[0],t);else{e=Nn(),t=t||Zl;var a=MT(t),i=this,o=i.cy(),l=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),l&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var u=0;u<i.length;u++){var f=i[u];n(f)&&f.dirtyBoundingBoxCache(),so(e,_T(f,a))}}return e.x1=Vn(e.x1),e.y1=Vn(e.y1),e.x2=Vn(e.x2),e.y2=Vn(e.y2),e.w=Vn(e.x2-e.x1),e.h=Vn(e.y2-e.y1),e};Fi.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Fi.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(f){return f.isParent()}),e=e.not(a)),It(t)){var i=t;t=function(){return i}}var o=function(c,h){return c._private.bbAtOldPos=t(c,h)},l=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(o).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=Bz(this.boundingBox({useCache:!1}));return e.silentPositions(l),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};xs.boundingbox=xs.bb=xs.boundingBox;xs.renderedBoundingbox=xs.renderedBoundingBox;var iH=Fi,Cl,du;Cl=du={};var Rk=function(e){e.uppercaseName=YC(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=YC(e.outerName),Cl[e.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var l=n.pstyle(e.name);switch(l.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return l.pfValue}}else return 1},Cl["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var l=n[e.name](),u=n.pstyle("border-position").value,f;u==="center"?f=n.pstyle("border-width").pfValue:u==="outside"?f=2*n.pstyle("border-width").pfValue:f=0;var c=2*n.padding();return l+f+c}else return 1},Cl["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},Cl["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};Rk({name:"width"});Rk({name:"height"});du.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};du.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};du.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var oH=du,sH=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},lH=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return Lc(r(e),n.zoom(),n.pan())}},uH=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(o){return Lc(o,i,a)})}},fH=function(e){return e.renderer().getControlPoints(e)},cH=function(e){return e.renderer().getSegmentPoints(e)},dH=function(e){return e.renderer().getSourceEndpoint(e)},hH=function(e){return e.renderer().getTargetEndpoint(e)},vH=function(e){return e.renderer().getEdgeMidpoint(e)},RT={controlPoints:{get:fH,mult:!0},segmentPoints:{get:cH,mult:!0},sourceEndpoint:{get:dH},targetEndpoint:{get:hH},midpoint:{get:vH}},pH=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},gH=Object.keys(RT).reduce(function(t,e){var r=RT[e],n=pH(e);return t[e]=function(){return sH(this,r.get)},r.mult?t[n]=function(){return uH(this,r.get)}:t[n]=function(){return lH(this,r.get)},t},{}),yH=xt({},rH,iH,oH,gH);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Pk=function(e,r){this.recycle(e,r)};function pl(){return!1}function ff(){return!0}Pk.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=pl,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?ff:pl):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=ff;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=ff;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ff,this.stopPropagation()},isDefaultPrevented:pl,isPropagationStopped:pl,isImmediatePropagationStopped:pl};var kk=/^([^.]+)(\.(?:[^.]+))?$/,mH=".*",Nk={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},PT=Object.keys(Nk),bH={};function Nc(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bH,e=arguments.length>1?arguments[1]:void 0,r=0;r<PT.length;r++){var n=PT[r];this[n]=t[n]||Nk[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ki=Nc.prototype,Ok=function(e,r,n,a,i,o,l){yr(a)&&(i=a,a=null),l&&(o==null?o=l:o=xt({},o,l));for(var u=ar(n)?n:n.split(/\s+/),f=0;f<u.length;f++){var c=u[f];if(!_i(c)){var h=c.match(kk);if(h){var p=h[1],y=h[2]?h[2]:null,g=r(e,c,p,y,a,i,o);if(g===!1)break}}}},kT=function(e,r){return e.addEventFields(e.context,r),new Pk(r.type,r)},wH=function(e,r,n){if(Dq(n)){r(e,n);return}else if(It(n)){r(e,kT(e,n));return}for(var a=ar(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!_i(o)){var l=o.match(kk);if(l){var u=l[1],f=l[2]?l[2]:null,c=kT(e,{type:u,namespace:f,target:e.context});r(e,c)}}}};ki.on=ki.addListener=function(t,e,r,n,a){return Ok(this,function(i,o,l,u,f,c,h){yr(c)&&i.listeners.push({event:o,callback:c,type:l,namespace:u,qualifier:f,conf:h})},t,e,r,n,a),this};ki.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};ki.removeListener=ki.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=lz(this.listeners));for(var i=this.listeners,o=function(f){var c=i[f];Ok(a,function(h,p,y,g,E,x){if((c.type===y||t==="*")&&(!g&&c.namespace!==".*"||c.namespace===g)&&(!E||h.qualifierCompare(c.qualifier,E))&&(!x||c.callback===x))return i.splice(f,1),!1},t,e,r,n)},l=i.length-1;l>=0;l--)o(l);return this};ki.removeAllListeners=function(){return this.removeListener("*")};ki.emit=ki.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,ar(e)||(e=[e]),wH(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var l=function(){var c=n[u];if(c.type===o.type&&(!c.namespace||c.namespace===o.namespace||c.namespace===mH)&&i.eventMatches(i.context,c,o)){var h=[o];e!=null&&fz(h,e),i.beforeEmit(i.context,c,o),c.conf&&c.conf.one&&(i.listeners=i.listeners.filter(function(g){return g!==c}));var p=i.callbackContext(i.context,c,o),y=c.callback.apply(p,h);i.afterEmit(i.context,c,o),y===!1&&(o.stopPropagation(),o.preventDefault())}},u=0;u<a;u++)l();i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,e)},t),this.emitting--,this};var xH={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&ou(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},cf=function(e){return mt(e)?new Ri(e):e},Ik={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Nc(xH,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=cf(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=cf(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=cf(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=cf(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};Wt.eventAliasesOn(Ik);var Fk={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(mt(e)||qn(e))return new Ri(e).filter(this);if(yr(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],l=r?e.apply(r,[o,i,a]):e(o,i,a);l&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){mt(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(mt(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,o=this.length<e.length,l=o?a:i,u=o?i:a,f=0;f<l.length;f++){var c=l[f];u.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;mt(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,o=function(u,f){for(var c=0;c<u.length;c++){var h=u[c],p=h._private.data.id,y=f.hasElementWithId(p);y||n.push(h)}};return o(a,i),o(i,a),n},diff:function(e){var r=this._private.cy;mt(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,l=e,u=function(c,h,p){for(var y=0;y<c.length;y++){var g=c[y],E=g._private.data.id,x=h.hasElementWithId(E);x?i.merge(g):p.push(g)}};return u(o,l,n),u(l,o,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(mt(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var o=e[i],l=!this.has(o);l&&a.push(o)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&mt(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<e.length;o++){var l=e[o],u=l._private.data.id,f=!i.has(u);if(f){var c=this.length++;this[c]=l,i.set(u,{ele:l,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var l=this.length-1,u=this[l],f=u._private.data.id;this[l]=void 0,this[e]=u,i.set(f,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&mt(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],l=r?e.apply(r,[o,i,a]):e(o,i,a);n.push(l)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var l=i[o],u=r?e.apply(r,[l,o,i]):e(l,o,i);u>n&&(n=u,a=l)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var l=i[o],u=r?e.apply(r,[l,o,i]):e(l,o,i);u<n&&(n=u,a=l)}return{value:n,ele:a}}},qt=Fk;qt.u=qt["|"]=qt["+"]=qt.union=qt.or=qt.add;qt["\\"]=qt["!"]=qt["-"]=qt.difference=qt.relativeComplement=qt.subtract=qt.not;qt.n=qt["&"]=qt["."]=qt.and=qt.intersection=qt.intersect;qt["^"]=qt["(+)"]=qt["(-)"]=qt.symmetricDifference=qt.symdiff=qt.xor;qt.fnFilter=qt.filterFn=qt.stdFilter=qt.filter;qt.complement=qt.abscomp=qt.absoluteComplement;var CH={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Bk=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(c){var h=c.pstyle("z-compound-depth");return h.value==="auto"?a?c.zDepth():0:h.value==="bottom"?-1:h.value==="top"?w1:0}var o=i(e)-i(r);if(o!==0)return o;function l(c){var h=c.pstyle("z-index-compare");return h.value==="auto"&&c.isNode()?1:0}var u=l(e)-l(r);if(u!==0)return u;var f=e.pstyle("z-index").value-r.pstyle("z-index").value;return f!==0?f:e.poolIndex()-r.poolIndex()},tc={forEach:function(e,r){if(yr(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?e.apply(r,[i,a,this]):e(i,a,this);if(o===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!yr(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(Bk)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:w1-1}else{var i=r.source,o=r.target,l=i.zDepth(),u=o.zDepth();return Math.max(l,u,0)}}}};tc.each=tc.forEach;var EH=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":zr(Symbol))!=e&&zr(Symbol.iterator)!=e;r&&(tc[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return BP({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};EH();var TH=nn({nodeDimensionsIncludeLabels:!1}),Sf={layoutDimensions:function(e){e=TH(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(A){return!A.isParent()}),i=this.cy(),o=r.eles,l=function(_){return _.id()},u=Cs(n,l);e.emit({type:"layoutstart",layout:e}),e.animations=[];var f=function(_,D,R){var k={x:D.x1+D.w/2,y:D.y1+D.h/2},B={x:(R.x-k.x)*_,y:(R.y-k.y)*_};return{x:k.x+B.x,y:k.y+B.y}},c=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!c)return null;for(var _=Nn(),D=0;D<a.length;D++){var R=a[D],k=u(R,D);Gz(_,k.x,k.y)}return _},p=h(),y=Cs(function(A,_){var D=u(A,_);if(c){var R=Math.abs(r.spacingFactor);D=f(R,p,D)}return r.transform!=null&&(D=r.transform(A,D)),D},l);if(r.animate){for(var g=0;g<a.length;g++){var E=a[g],x=y(E,g),v=r.animateFilter==null||r.animateFilter(E,g);if(v){var C=E.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(C)}else E.position(x)}if(r.fit){var w=i.animation({fit:{boundingBox:o.boundingBoxAt(y),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}else if(r.zoom!==void 0&&r.pan!==void 0){var T=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}e.animations.forEach(function(A){return A.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Ls.all(e.animations.map(function(A){return A.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(y),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(xt({},e,{eles:this}))}};Sf.createLayout=Sf.makeLayout=Sf.layout;function qk(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function Oc(t,e){return t=yo(t),function(n){return qk(t,e,n)}}function Ic(t,e){t=yo(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return qk(t,r,a)}}var tn={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return e?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(l){return l._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(It(e)){var o=e;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(mt(e))if(r===void 0){var l=this[0];return l?i.getStylePropertyValue(l,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var o=0;o<i.length;o++){var l=i[o];a.removeAllBypasses(l,n)}else{e=e.split(/\s+/);for(var u=0;u<i.length;u++){var f=i[u];a.removeBypasses(f,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var l=0;l<o.length;l++){var u=o[l],f=u.pstyle("opacity").value;i=f*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Rv(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function P1(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var l=i._private;if(!e(i))return!1;if(i.isNode())return!o||Rv(i,n);var u=l.source,f=l.target;return r(u)&&(!o||Rv(u,r))&&(u===f||r(f)&&(!o||Rv(f,r)))}}}var _s=Oc("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});tn.takesUpSpace=Ic("takesUpSpace",P1({ok:_s}));var SH=Oc("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&_s(t)}),AH=Oc("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&_s(t)});tn.interactive=Ic("interactive",P1({ok:SH,parentOk:AH,edgeOkViaNode:_s}));tn.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var LH=Oc("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&_s(t)}),_H=_s;tn.visible=Ic("visible",P1({ok:LH,edgeOkViaNode:_H}));tn.hidden=function(){var t=this[0];if(t)return!t.visible()};tn.isBundledBezier=Ic("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});tn.bypass=tn.css=tn.style;tn.renderedCss=tn.renderedStyle;tn.removeBypass=tn.removeCss=tn.removeStyle;tn.pstyle=tn.parsedStyle;var Ti={};function NT(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&yr(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&ar(e[0])){for(var o=e.length===1?e[0]:null,l=0;l<this.length;l++){var u=this[l],f=!t.ableField||u._private[t.ableField],c=u._private[t.field]!=t.value;if(t.overrideAble){var h=t.overrideAble(u);if(h!==void 0&&(f=h,!h))return this}f&&(u._private[t.field]=t.value,c&&r.push(u))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),o&&p.emit(o)}return this}}function Ds(t){Ti[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Ti[t.on]=NT({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Ti[t.off]=NT({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Ds({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Ds({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Ds({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Ds({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Ti.deselect=Ti.unselect;Ti.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Ds({field:"active",on:"activate",off:"unactivate"});Ds({field:"pannable",on:"panify",off:"unpanify"});Ti.inactive=function(){var t=this[0];if(t)return!t._private.active};var hn={},OT=function(e){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var l=a[o];if(l.isNode()){for(var u=!1,f=l.connectedEdges(),c=0;c<f.length;c++){var h=f[c],p=h.source(),y=h.target();if(e.noIncomingEdges&&y===l&&p!==l||e.noOutgoingEdges&&p===l&&y!==l){u=!0;break}}u||i.push(l)}}return this.spawn(i,!0).filter(n)}},IT=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var l=o.connectedEdges(),u=0;u<l.length;u++){var f=l[u],c=f.source(),h=f.target();e.outgoing&&c===o?(a.push(f),a.push(h)):e.incoming&&h===o&&(a.push(f),a.push(c))}}return this.spawn(a,!0).filter(r)}},FT=function(e){return function(r){for(var n=this,a=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var l=!1,u=0;u<o.length;u++){var f=o[u],c=f.id();i[c]||(i[c]=!0,a.push(f),l=!0)}if(!l)break;n=o}return this.spawn(a,!0).filter(r)}};hn.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};xt(hn,{roots:OT({noIncomingEdges:!0}),leaves:OT({noOutgoingEdges:!0}),outgoers:$n(IT({outgoing:!0}),"outgoers"),successors:FT({outgoing:!0}),incomers:$n(IT({incoming:!0}),"incomers"),predecessors:FT({})});xt(hn,{neighborhood:$n(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var l=i[o],u=l.source(),f=l.target(),c=a===u?f:u;c.length>0&&e.push(c[0]),e.push(l[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});hn.neighbourhood=hn.neighborhood;hn.closedNeighbourhood=hn.closedNeighborhood;hn.openNeighbourhood=hn.openNeighborhood;xt(hn,{source:$n(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:$n(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:BT({attr:"source"}),targets:BT({attr:"target"})});function BT(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[t.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}xt(hn,{edgesWith:$n(qT(),"edgesWith"),edgesTo:$n(qT({thisIsSrc:!0}),"edgesTo")});function qT(t){return function(r){var n=[],a=this._private.cy,i=t||{};mt(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var l=r[o]._private.edges,u=0;u<l.length;u++){var f=l[u],c=f._private.data,h=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),p=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),y=h||p;y&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!h||i.thisIsTgt&&!p)||n.push(f))}return this.spawn(n,!0)}}xt(hn,{connectedEdges:$n(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var l=i[o];e.push(l)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:$n(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:$n(zT(),"parallelEdges"),codirectedEdges:$n(zT({codirected:!0}),"codirectedEdges")});function zT(t){var e={codirected:!1};return t=xt({},e,t),function(n){for(var a=[],i=this.edges(),o=t,l=0;l<i.length;l++)for(var u=i[l],f=u._private,c=f.source,h=c._private.data.id,p=f.data.target,y=c._private.edges,g=0;g<y.length;g++){var E=y[g],x=E._private.data,v=x.target,C=x.source,w=v===p&&C===h,T=h===v&&p===C;(o.codirected&&w||!o.codirected&&(w||T))&&a.push(E)}return this.spawn(a,!0).filter(n)}}xt(hn,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),o=[];e!=null&&i.empty()&&(i=e.sources());var l=function(c,h){a.merge(c),i.unmerge(c),h.merge(c)};if(i.empty())return r.spawn();var u=function(){var c=n.collection();o.push(c);var h=i[0];l(h,c),r.bfs({directed:!1,roots:h,visit:function(y){return l(y,c)}}),c.forEach(function(p){p.connectedEdges().forEach(function(y){r.has(y)&&c.has(y.source())&&c.has(y.target())&&c.merge(y)})})};do u();while(i.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});hn.componentsOf=hn.components;var rn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){pr("A collection must have a reference to the core");return}var i=new Ya,o=!1;if(!r)r=[];else if(r.length>0&&It(r[0])&&!ou(r[0])){o=!0;for(var l=[],u=new As,f=0,c=r.length;f<c;f++){var h=r[f];h.data==null&&(h.data={});var p=h.data;if(p.id==null)p.id=tk();else if(e.hasElementWithId(p.id)||u.has(p.id))continue;var y=new Ac(e,h,!1);l.push(y),u.add(p.id)}r=l}this.length=0;for(var g=0,E=r.length;g<E;g++){var x=r[g][0];if(x!=null){var v=x._private.data.id;(!n||!i.has(v))&&(n&&i.set(v,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(C){this.lazyMap=C},rebuildMap:function(){for(var w=this.lazyMap=new Ya,T=this.eles,A=0;A<T.length;A++){var _=T[A];w.set(_.id(),{index:A,ele:_})}}},n&&(this._private.map=i),o&&!a&&this.restore()},sr=Ac.prototype=rn.prototype=Object.create(Array.prototype);sr.instanceString=function(){return"collection"};sr.spawn=function(t,e){return new rn(this.cy(),t,e)};sr.spawnSelf=function(){return this.spawn(this)};sr.cy=function(){return this._private.cy};sr.renderer=function(){return this._private.cy.renderer()};sr.element=function(){return this[0]};sr.collection=function(){return GP(this)?this:new rn(this._private.cy,[this])};sr.unique=function(){return new rn(this._private.cy,this,!0)};sr.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};sr.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new rn(e)};sr.$id=sr.getElementById;sr.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};sr.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};sr.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};sr.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(It(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,o={},l=t.data.source,u=t.data.target;l!=null&&l!=a.source&&(o.source=""+l,i=!0),u!=null&&u!=a.target&&(o.target=""+u,i=!0),i&&(e=e.move(o))}else{var f="parent"in t.data,c=t.data.parent;f&&(c!=null||a.parent!=null)&&c!=a.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var h=function(E,x,v){var C=t[E];C!=null&&C!==n[E]&&(C?e[x]():e[v]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var p={data:Ea(n.data),position:Ea(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var y=0;return n.classes.forEach(function(g){return p.classes+=y++===0?g:" "+g}),p}}};sr.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};sr.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new Ac(t,a,!1);e.push(i)}return new rn(t,e)};sr.copy=sr.clone;sr.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],l,u=0,f=r.length;u<f;u++){var c=r[u];e&&!c.removed()||(c.isNode()?i.push(c):o.push(c))}l=i.concat(o);var h,p=function(){l.splice(h,1),h--};for(h=0;h<l.length;h++){var y=l[h],g=y._private,E=g.data;if(y.clearTraversalCache(),!(!e&&!g.removed)){if(E.id===void 0)E.id=tk();else if(at(E.id))E.id=""+E.id;else if(_i(E.id)||!mt(E.id)){pr("Can not create element with invalid string ID `"+E.id+"`"),p();continue}else if(n.hasElementWithId(E.id)){pr("Can not create second element with ID `"+E.id+"`"),p();continue}}var x=E.id;if(y.isNode()){var v=g.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(y.isEdge()){for(var C=y,w=["source","target"],T=w.length,A=!1,_=0;_<T;_++){var D=w[_],R=E[D];at(R)&&(R=E[D]=""+E[D]),R==null||R===""?(pr("Can not create edge `"+x+"` with unspecified "+D),A=!0):n.hasElementWithId(R)||(pr("Can not create edge `"+x+"` with nonexistant "+D+" `"+R+"`"),A=!0)}if(A){p();continue}var k=n.getElementById(E.source),B=n.getElementById(E.target);k.same(B)?k._private.edges.push(C):(k._private.edges.push(C),B._private.edges.push(C)),C._private.source=k,C._private.target=B}g.map=new Ya,g.map.set(x,{ele:y,index:0}),g.removed=!1,e&&n.addToPool(y)}for(var G=0;G<i.length;G++){var F=i[G],q=F._private.data;at(q.parent)&&(q.parent=""+q.parent);var M=q.parent,P=M!=null;if(P||F._private.parent){var N=F._private.parent?n.collection().merge(F._private.parent):n.getElementById(M);if(N.empty())q.parent=void 0;else if(N[0].removed())$t("Node added with missing parent, reference to parent removed"),q.parent=void 0,F._private.parent=null;else{for(var I=!1,z=N;!z.empty();){if(F.same(z)){I=!0,q.parent=void 0;break}z=z.parent()}I||(N[0]._private.children.push(F),F._private.parent=N[0],a.hasCompoundNodes=!0)}}}if(l.length>0){for(var ae=l.length===r.length?r:new rn(n,l),re=0;re<ae.length;re++){var K=ae[re];K.isNode()||(K.parallelEdges().clearTraversalCache(),K.source().clearTraversalCache(),K.target().clearTraversalCache())}var W;a.hasCompoundNodes?W=n.collection().merge(ae).merge(ae.connectedNodes()).merge(ae.parent()):W=ae,W.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?ae.emitAndNotify("add"):e&&ae.emit("add")}return r};sr.removed=function(){var t=this[0];return t&&t._private.removed};sr.inside=function(){var t=this[0];return t&&!t._private.removed};sr.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(M){for(var P=M._private.edges,N=0;N<P.length;N++)u(P[N])}function l(M){for(var P=M._private.children,N=0;N<P.length;N++)u(P[N])}function u(M){var P=a[M.id()];e&&M.removed()||P||(a[M.id()]=!0,M.isNode()?(n.push(M),o(M),l(M)):n.unshift(M))}for(var f=0,c=r.length;f<c;f++){var h=r[f];u(h)}function p(M,P){var N=M._private.edges;Di(N,P),M.clearTraversalCache()}function y(M){M.clearTraversalCache()}var g=[];g.ids={};function E(M,P){P=P[0],M=M[0];var N=M._private.children,I=M.id();Di(N,P),P._private.parent=null,g.ids[I]||(g.ids[I]=!0,g.push(M))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var x=0;x<n.length;x++){var v=n[x];if(v.isEdge()){var C=v.source()[0],w=v.target()[0];p(C,v),p(w,v);for(var T=v.parallelEdges(),A=0;A<T.length;A++){var _=T[A];y(_),_.isBundledBezier()&&_.dirtyBoundingBoxCache()}}else{var D=v.parent();D.length!==0&&E(D,v)}e&&(v._private.removed=!0)}var R=i._private.elements;i._private.hasCompoundNodes=!1;for(var k=0;k<R.length;k++){var B=R[k];if(B.isParent()){i._private.hasCompoundNodes=!0;break}}var G=new rn(this.cy(),n);G.size()>0&&(t?G.emitAndNotify("remove"):e&&G.emit("remove"));for(var F=0;F<g.length;F++){var q=g[F];(!e||!q.removed())&&q.updateStyle()}return G};sr.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(g){return g==null?g:""+g};if(t.source!==void 0||t.target!==void 0){var o=i(t.source),l=i(t.target),u=o!=null&&e.hasElementWithId(o),f=l!=null&&e.hasElementWithId(l);(u||f)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var y=0;y<r.length;y++){var g=r[y],E=g._private.data;g.isEdge()&&(u&&(E.source=o),f&&(E.target=l))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=i(t.parent),h=c===null||e.hasElementWithId(c);if(h){var p=c===null?void 0:c;e.batch(function(){var y=r.remove(n,a);y.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var E=r[g],x=E._private.data;E.isNode()&&(x.parent=p)}y.restore(n,a)}),r.emitAndNotify("move")}}return this};[dk,q5,Tf,Ei,Ss,tH,kc,yH,Ik,Fk,CH,tc,Sf,tn,Ti,hn].forEach(function(t){xt(sr,t)});var DH={add:function(e){var r,n=this;if(qn(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var l=a[o];i.push(l.json())}r=new rn(n,i)}}else if(ar(e)){var u=e;r=new rn(n,u)}else if(It(e)&&(ar(e.nodes)||ar(e.edges))){for(var f=e,c=[],h=["nodes","edges"],p=0,y=h.length;p<y;p++){var g=h[p],E=f[g];if(ar(E))for(var x=0,v=E.length;x<v;x++){var C=xt({group:g},E[x]);c.push(C)}}r=new rn(n,c)}else{var w=e;r=new Ac(n,w).collection()}return r},remove:function(e){if(!qn(e)){if(mt(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function MH(t,e,r,n){var a=4,i=.001,o=1e-7,l=10,u=11,f=1/(u-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var p=c?new Float32Array(u):new Array(u);function y(B,G){return 1-3*G+3*B}function g(B,G){return 3*G-6*B}function E(B){return 3*B}function x(B,G,F){return((y(G,F)*B+g(G,F))*B+E(G))*B}function v(B,G,F){return 3*y(G,F)*B*B+2*g(G,F)*B+E(G)}function C(B,G){for(var F=0;F<a;++F){var q=v(G,t,r);if(q===0)return G;var M=x(G,t,r)-B;G-=M/q}return G}function w(){for(var B=0;B<u;++B)p[B]=x(B*f,t,r)}function T(B,G,F){var q,M,P=0;do M=G+(F-G)/2,q=x(M,t,r)-B,q>0?F=M:G=M;while(Math.abs(q)>o&&++P<l);return M}function A(B){for(var G=0,F=1,q=u-1;F!==q&&p[F]<=B;++F)G+=f;--F;var M=(B-p[F])/(p[F+1]-p[F]),P=G+M*f,N=v(P,t,r);return N>=i?C(B,P):N===0?P:T(B,G,G+f)}var _=!1;function D(){_=!0,(t!==e||r!==n)&&w()}var R=function(G){return _||D(),t===e&&r===n?G:G===0?0:G===1?1:x(A(G),e,n)};R.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var k="generateBezier("+[t,e,r,n]+")";return R.toString=function(){return k},R}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var RH=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:t(o)}}function r(n,a){var i={dx:n.v,dv:t(n)},o=e(n,a*.5,i),l=e(n,a*.5,o),u=e(n,a,l),f=1/6*(i.dx+2*(o.dx+l.dx)+u.dx),c=1/6*(i.dv+2*(o.dv+l.dv)+u.dv);return n.x=n.x+f*a,n.v=n.v+c*a,n}return function n(a,i,o){var l={x:-1,v:0,tension:null,friction:null},u=[0],f=0,c=1/1e4,h=16/1e3,p,y,g;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,l.tension=a,l.friction=i,p=o!==null,p?(f=n(a,i),y=f/o*h):y=h;g=r(g||l,y),u.push(1+g.x),f+=16,Math.abs(g.x)>c&&Math.abs(g.v)>c;);return p?function(E){return u[E*(u.length-1)|0]}:f}}(),ir=function(e,r,n,a){var i=MH(e,r,n,a);return function(o,l,u){return o+(l-o)*i(u)}},Af={linear:function(e,r,n){return e+(r-e)*n},ease:ir(.25,.1,.25,1),"ease-in":ir(.42,0,1,1),"ease-out":ir(0,0,.58,1),"ease-in-out":ir(.42,0,.58,1),"ease-in-sine":ir(.47,0,.745,.715),"ease-out-sine":ir(.39,.575,.565,1),"ease-in-out-sine":ir(.445,.05,.55,.95),"ease-in-quad":ir(.55,.085,.68,.53),"ease-out-quad":ir(.25,.46,.45,.94),"ease-in-out-quad":ir(.455,.03,.515,.955),"ease-in-cubic":ir(.55,.055,.675,.19),"ease-out-cubic":ir(.215,.61,.355,1),"ease-in-out-cubic":ir(.645,.045,.355,1),"ease-in-quart":ir(.895,.03,.685,.22),"ease-out-quart":ir(.165,.84,.44,1),"ease-in-out-quart":ir(.77,0,.175,1),"ease-in-quint":ir(.755,.05,.855,.06),"ease-out-quint":ir(.23,1,.32,1),"ease-in-out-quint":ir(.86,0,.07,1),"ease-in-expo":ir(.95,.05,.795,.035),"ease-out-expo":ir(.19,1,.22,1),"ease-in-out-expo":ir(1,0,0,1),"ease-in-circ":ir(.6,.04,.98,.335),"ease-out-circ":ir(.075,.82,.165,1),"ease-in-out-circ":ir(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Af.linear;var a=RH(e,r,n);return function(i,o,l){return i+(o-i)*a(l)}},"cubic-bezier":ir};function GT(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function HT(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function ts(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=HT(t,a),l=HT(e,a);if(at(o)&&at(l))return GT(i,o,l,r,n);if(ar(o)&&ar(l)){for(var u=[],f=0;f<l.length;f++){var c=o[f],h=l[f];if(c!=null&&h!=null){var p=GT(i,c,h,r,n);u.push(p)}else u.push(h)}return u}}function PH(t,e,r,n){var a=!n,i=t._private,o=e._private,l=o.easing,u=o.startTime,f=n?t:t.cy(),c=f.style();if(!o.easingImpl)if(l==null)o.easingImpl=Af.linear;else{var h;if(mt(l)){var p=c.parse("transition-timing-function",l);h=p.value}else h=l;var y,g;mt(h)?(y=h,g=[]):(y=h[1],g=h.slice(2).map(function(ae){return+ae})),g.length>0?(y==="spring"&&g.push(o.duration),o.easingImpl=Af[y].apply(null,g)):o.easingImpl=Af[y]}var E=o.easingImpl,x;if(o.duration===0?x=1:x=(r-u)/o.duration,o.applying&&(x=o.progress),x<0?x=0:x>1&&(x=1),o.delay==null){var v=o.startPosition,C=o.position;if(C&&a&&!t.locked()){var w={};gl(v.x,C.x)&&(w.x=ts(v.x,C.x,x,E)),gl(v.y,C.y)&&(w.y=ts(v.y,C.y,x,E)),t.position(w)}var T=o.startPan,A=o.pan,_=i.pan,D=A!=null&&n;D&&(gl(T.x,A.x)&&(_.x=ts(T.x,A.x,x,E)),gl(T.y,A.y)&&(_.y=ts(T.y,A.y,x,E)),t.emit("pan"));var R=o.startZoom,k=o.zoom,B=k!=null&&n;B&&(gl(R,k)&&(i.zoom=Xl(i.minZoom,ts(R,k,x,E),i.maxZoom)),t.emit("zoom")),(D||B)&&t.emit("viewport");var G=o.style;if(G&&G.length>0&&a){for(var F=0;F<G.length;F++){var q=G[F],M=q.name,P=q,N=o.startStyle[M],I=c.properties[N.name],z=ts(N,P,x,E,I);c.overrideBypass(t,M,z)}t.emit("style")}}return o.progress=x,x}function gl(t,e){return t==null||e==null?!1:at(t)&&at(e)?!0:!!(t&&e)}function kH(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function UT(t,e){var r=e._private.aniEles,n=[];function a(c,h){var p=c._private,y=p.animation.current,g=p.animation.queue,E=!1;if(y.length===0){var x=g.shift();x&&y.push(x)}for(var v=function(_){for(var D=_.length-1;D>=0;D--){var R=_[D];R()}_.splice(0,_.length)},C=y.length-1;C>=0;C--){var w=y[C],T=w._private;if(T.stopped){y.splice(C,1),T.hooked=!1,T.playing=!1,T.started=!1,v(T.frames);continue}!T.playing&&!T.applying||(T.playing&&T.applying&&(T.applying=!1),T.started||kH(c,w,t),PH(c,w,t,h),T.applying&&(T.applying=!1),v(T.frames),T.step!=null&&T.step(t),w.completed()&&(y.splice(C,1),T.hooked=!1,T.playing=!1,T.started=!1,v(T.completes)),E=!0)}return!h&&y.length===0&&g.length===0&&n.push(c),E}for(var i=!1,o=0;o<r.length;o++){var l=r[o],u=a(l);i=i||u}var f=a(e,!0);(i||f)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var NH={animate:Wt.animate(),animation:Wt.animation(),animated:Wt.animated(),clearQueue:Wt.clearQueue(),delay:Wt.delay(),delayAnimation:Wt.delayAnimation(),stop:Wt.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&jf(function(i){UT(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){UT(o,e)},n.beforeRenderPriorities.animations):r()}},OH={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&ou(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},df=function(e){return mt(e)?new Ri(e):e},zk={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Nc(OH,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,df(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,df(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,df(r),n),this},once:function(e,r,n){return this.emitter().one(e,df(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};Wt.eventAliasesOn(zk);var Gb={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Gb.jpeg=Gb.jpg;var Lf={layout:function(e){var r=this;if(e==null){pr("Layout options must be specified to make a layout");return}if(e.name==null){pr("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){pr("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;mt(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var o=new a(xt({},e,{cy:r,eles:i}));return o}};Lf.createLayout=Lf.makeLayout=Lf.layout;var IH={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],o=e[i],l=r.getElementById(i);l.data(o)}})}},FH=nn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Hb={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){pr("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&$t("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=FH(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Hb.invalidateDimensions=Hb.resize;var _f={collection:function(e,r){return mt(e)?this.$(e):qn(e)?e.collection():ar(e)?(r||(r={}),new rn(this,e,r.unique,r.removed)):new rn(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};_f.elements=_f.filter=_f.$;var Xr={},Nl="t",BH="f";Xr.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var o=t[i],l=e.getContextMeta(o);if(!l.empty){var u=e.getContextStyle(l),f=e.applyContextStyle(l,u,o);o._private.appliedInitStyle?e.updateTransitions(o,f.diffProps):o._private.appliedInitStyle=!0;var c=e.updateStyleHints(o);c&&a.push(o)}}return a};Xr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var o=[],l={},u=0;u<r.length;u++){var f=r[u],c=t[u]===Nl,h=e[u]===Nl,p=c!==h,y=f.mappedProperties.length>0;if(p||h&&y){var g=void 0;p&&y||p?g=f.properties:y&&(g=f.mappedProperties);for(var E=0;E<g.length;E++){for(var x=g[E],v=x.name,C=!1,w=u+1;w<r.length;w++){var T=r[w],A=e[w]===Nl;if(A&&(C=T.properties[x.name]!=null,C))break}!l[v]&&!C&&(l[v]=!0,o.push(v))}}}return n[a]=o,o};Xr.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var o=e[i],l=o.selector&&o.selector.matches(t);l?r+=Nl:r+=BH}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Xr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var o=r[i],l=e[i]===Nl;if(l)for(var u=0;u<o.properties.length;u++){var f=o.properties[u];a[f.name]=f}}return n[e]=a,a};Xr.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},o=n.types,l=0;l<a.length;l++){var u=a[l],f=e[u],c=r.pstyle(u);if(!f)if(c)c.bypass?f={name:u,deleteBypassed:!0}:f={name:u,delete:!0};else continue;if(c!==f){if(f.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===f.value){var h=c.mapping,p=h.fnValue=f.value(r);if(p===h.prevFnValue)continue}var y=i[u]={prev:c};n.applyParsedProperty(r,f),y.next=r.pstyle(u),y.next&&y.next.bypass&&(y.next=y.next.bypassed)}}return{diffProps:i}};Xr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function($,ne,le){return r.getPropertiesHash($,ne,le)},o=e.styleKey;if(t.removed())return!1;var l=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var f=0;f<a.length;f++){var c=a[f];e.styleKeys[c]=[co,ls]}for(var h=function($,ne){return e.styleKeys[ne][0]=Vl($,e.styleKeys[ne][0])},p=function($,ne){return e.styleKeys[ne][1]=$l($,e.styleKeys[ne][1])},y=function($,ne){h($,ne),p($,ne)},g=function($,ne){for(var le=0;le<$.length;le++){var Se=$.charCodeAt(le);h(Se,ne),p(Se,ne)}},E=2e9,x=function($){return-128<$&&$<128&&Math.floor($)!==$?E-($*1024|0):$},v=0;v<n.length;v++){var C=n[v],w=u[C];if(w!=null){var T=this.properties[C],A=T.type,_=T.groupKey,D=void 0;T.hashOverride!=null?D=T.hashOverride(t,w):w.pfValue!=null&&(D=w.pfValue);var R=T.enums==null?w.value:null,k=D!=null,B=R!=null,G=k||B,F=w.units;if(A.number&&G&&!A.multiple){var q=k?D:R;y(x(q),_),!k&&F!=null&&g(F,_)}else g(w.strValue,_)}}for(var M=[co,ls],P=0;P<a.length;P++){var N=a[P],I=e.styleKeys[N];M[0]=Vl(I[0],M[0]),M[1]=$l(I[1],M[1])}e.styleKey=nz(M[0],M[1]);var z=e.styleKeys;e.labelDimsKey=vi(z.labelDimensions);var ae=i(t,["label"],z.labelDimensions);if(e.labelKey=vi(ae),e.labelStyleKey=vi(nf(z.commonLabel,ae)),!l){var re=i(t,["source-label"],z.labelDimensions);e.sourceLabelKey=vi(re),e.sourceLabelStyleKey=vi(nf(z.commonLabel,re));var K=i(t,["target-label"],z.labelDimensions);e.targetLabelKey=vi(K),e.targetLabelStyleKey=vi(nf(z.commonLabel,K))}if(l){var W=e.styleKeys,Z=W.nodeBody,U=W.nodeBorder,V=W.nodeOutline,Y=W.backgroundImage,ee=W.compound,oe=W.pie,te=W.stripe,ie=[Z,U,V,Y,ee,oe,te].filter(function(se){return se!=null}).reduce(nf,[co,ls]);e.nodeKey=vi(ie),e.hasPie=oe!=null&&oe[0]!==co&&oe[1]!==ls,e.hasStripe=te!=null&&te[0]!==co&&te[1]!==ls}return o!==e.styleKey};Xr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};Xr.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,o=r.types,l=r.properties[n.name].type,u=n.bypass,f=a[n.name],c=f&&f.bypass,h=t._private,p="mapping",y=function(Z){return Z==null?null:Z.pfValue!=null?Z.pfValue:Z.value},g=function(){var Z=y(f),U=y(n);r.checkTriggers(t,n.name,Z,U)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return a[n.name]=void 0,g(),!0;if(n.deleteBypassed)return f?f.bypass?(f.bypassed=void 0,g(),!0):!1:(g(),!0);if(n.deleteBypass)return f?f.bypass?(a[n.name]=f.bypassed,g(),!0):!1:(g(),!0);var E=function(){$t("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var x=n.field.split("."),v=h.data,C=0;C<x.length&&v;C++){var w=x[C];v=v[w]}if(v==null)return E(),!1;var T;if(at(v)){var A=n.fieldMax-n.fieldMin;A===0?T=0:T=(v-n.fieldMin)/A}else return $t("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+v+"` for `"+t.id()+"` is non-numeric)"),!1;if(T<0?T=0:T>1&&(T=1),l.color){var _=n.valueMin[0],D=n.valueMax[0],R=n.valueMin[1],k=n.valueMax[1],B=n.valueMin[2],G=n.valueMax[2],F=n.valueMin[3]==null?1:n.valueMin[3],q=n.valueMax[3]==null?1:n.valueMax[3],M=[Math.round(_+(D-_)*T),Math.round(R+(k-R)*T),Math.round(B+(G-B)*T),Math.round(F+(q-F)*T)];i={bypass:n.bypass,name:n.name,value:M,strValue:"rgb("+M[0]+", "+M[1]+", "+M[2]+")"}}else if(l.number){var P=n.valueMin+(n.valueMax-n.valueMin)*T;i=this.parse(n.name,P,n.bypass,p)}else return!1;if(!i)return E(),!1;i.mapping=n,n=i;break}case o.data:{for(var N=n.field.split("."),I=h.data,z=0;z<N.length&&I;z++){var ae=N[z];I=I[ae]}if(I!=null&&(i=this.parse(n.name,I,n.bypass,p)),!i)return E(),!1;i.mapping=n,n=i;break}case o.fn:{var re=n.value,K=n.fnValue!=null?n.fnValue:re(t);if(n.prevFnValue=K,K==null)return $t("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,K,n.bypass,p),!i)return $t("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=Ea(n),n=i;break}case void 0:break;default:return!1}return u?(c?n.bypassed=f.bypassed:n.bypassed=f,a[n.name]=n):c?f.bypassed=n:a[n.name]=n,g(),!0};Xr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],u=a[l];u!=null&&(u.bypass?u.bypassed=null:a[l]=null)}}};Xr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Xr.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var l={},u=!1,f=0;f<a.length;f++){var c=a[f],h=t.pstyle(c),p=e[c];if(p){var y=p.prev,g=y,E=p.next!=null?p.next:h,x=!1,v=void 0,C=1e-6;g&&(at(g.pfValue)&&at(E.pfValue)?(x=E.pfValue-g.pfValue,v=g.pfValue+C*x):at(g.value)&&at(E.value)?(x=E.value-g.value,v=g.value+C*x):ar(g.value)&&ar(E.value)&&(x=g.value[0]!==E.value[0]||g.value[1]!==E.value[1]||g.value[2]!==E.value[2],v=g.strValue),x&&(l[c]=E.strValue,this.applyBypass(t,c,v),u=!0))}}if(!u)return;n.transitioning=!0,new Ls(function(w){o>0?t.delayAnimation(o).play().promise().then(w):w()}).then(function(){return t.animation({style:l,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};Xr.checkTrigger=function(t,e,r,n,a,i){var o=this.properties[e],l=a(o);t.removed()||l!=null&&l(r,n,t)&&i(o)};Xr.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};Xr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};Xr.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){t.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Xr.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){t.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Xr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var hu={};hu.applyBypass=function(t,e,r,n){var a=this,i=[],o=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var l=0;l<a.properties.length;l++){var u=a.properties[l],f=u.name,c=this.parse(f,r,!0);c&&i.push(c)}}else if(mt(e)){var h=this.parse(e,r,!0);h&&i.push(h)}else if(It(e)){var p=e;n=r;for(var y=Object.keys(p),g=0;g<y.length;g++){var E=y[g],x=p[E];if(x===void 0&&(x=p[Tc(E)]),x!==void 0){var v=this.parse(E,x,!0);v&&i.push(v)}}}else return!1;if(i.length===0)return!1;for(var C=!1,w=0;w<t.length;w++){for(var T=t[w],A={},_=void 0,D=0;D<i.length;D++){var R=i[D];if(n){var k=T.pstyle(R.name);_=A[R.name]={prev:k}}C=this.applyParsedProperty(T,Ea(R))||C,n&&(_.next=T.pstyle(R.name))}C&&this.updateStyleHints(T),n&&this.updateTransitions(T,A,o)}return C};hu.overrideBypass=function(t,e,r){e=m1(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],o=this.properties[e].type,l=o.color,u=o.mutiple,f=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),l?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,f,r)}};hu.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};hu.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],o={},l=0;l<e.length;l++){var u=e[l],f=this.properties[u],c=i.pstyle(f.name);if(!(!c||!c.bypass)){var h="",p=this.parse(u,h,!0),y=o[f.name]={prev:c};this.applyParsedProperty(i,p),y.next=i.pstyle(f.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};var k1={};k1.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};k1.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Aa={};Aa.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Aa.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(t,i.name,e);o!=null&&(n[i.name]=o,n[Tc(i.name)]=o)}return n}};Aa.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};Aa.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,o=t.pstyle(a.name);if(o){var l=o.value,u=o.units,f=o.strValue;if(r&&i.number&&l!=null&&at(l)){var c=t.cy().zoom(),h=function(x){return x*c},p=function(x,v){return h(x)+v},y=ar(l),g=y?u.every(function(E){return E!=null}):u!=null;return g?y?l.map(function(E,x){return p(E,u[x])}).join(" "):p(l,u):y?l.map(function(E){return mt(E)?E:""+h(E)}).join(" "):""+h(l)}else if(f!=null)return f}return null}};Aa.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,o=t.pstyle(i);o!==void 0&&(It(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r};Aa.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var l=i[o],u=n[l],f=a[l]||a[m1(l)],c=this.parse(f.name,u);c&&r.push(c)}return r};Aa.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,o,l,u,f;for(u=0;u<e.length;u++)if(a=e[u],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Vl(l,n[0]),n[1]=$l(l,n[1]);else for(o=i.strValue,f=0;f<o.length;f++)l=o.charCodeAt(f),n[0]=Vl(l,n[0]),n[1]=$l(l,n[1]);return n};Aa.getPropertiesHash=Aa.getNonDefaultPropertiesHash;var Fc={};Fc.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);e.selector(a);for(var l=0;l<o.length;l++){var u=o[l],f=i[u];e.css(u,f)}}return e};Fc.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Fc.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var l=a[o];i[l.name]=l.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var N1={};N1.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function l(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var f=n.match(/^\s*$/);if(f)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){$t("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=c[0];var h=c[1];if(h!=="core"){var p=new Ri(h);if(p.invalid){$t("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),l();continue}}var y=c[2],g=!1;i=y;for(var E=[];;){var x=i.match(/^\s*$/);if(x)break;var v=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!v){$t("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+y),g=!0;break}o=v[0];var C=v[1],w=v[2],T=e.properties[C];if(!T){$t("Skipping property: Invalid property name in: "+o),u();continue}var A=r.parse(C,w);if(!A){$t("Skipping property: Invalid property definition in: "+o),u();continue}E.push({name:C,val:w}),u()}if(g){l();break}r.selector(h);for(var _=0;_<E.length;_++){var D=E[_];r.css(D.name,D.val)}l()}return r};N1.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Lr={};(function(){var t=qr,e=Oq,r=Fq,n=Bq,a=qq,i=function(se){return"^"+se+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(se){var $=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+se+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+$+")\\s*\\,\\s*("+$+")\\)$"},l=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Lr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(se,$){switch(se.length){case 2:return $[0]!=="deg"&&$[0]!=="rad"&&$[1]!=="deg"&&$[1]!=="rad";case 1:return mt(se[0])||$[0]==="deg"||$[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(se){var $=se.length;return $===1||$===2||$===4}}};var u={zeroNonZero:function(se,$){return(se==null||$==null)&&se!==$||se==0&&$!=0?!0:se!=0&&$==0},any:function(se,$){return se!=$},emptyNonEmpty:function(se,$){var ne=_i(se),le=_i($);return ne&&!le||!ne&&le}},f=Lr.types,c=[{name:"label",type:f.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:f.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:f.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:f.bidirectionalSize,triggersBounds:u.any}],h=[{name:"source-label",type:f.text,triggersBounds:u.any},{name:"source-text-rotation",type:f.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:f.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:f.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:f.size,triggersBounds:u.any}],p=[{name:"target-label",type:f.text,triggersBounds:u.any},{name:"target-text-rotation",type:f.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:f.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:f.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:f.size,triggersBounds:u.any}],y=[{name:"font-family",type:f.fontFamily,triggersBounds:u.any},{name:"font-style",type:f.fontStyle,triggersBounds:u.any},{name:"font-weight",type:f.fontWeight,triggersBounds:u.any},{name:"font-size",type:f.size,triggersBounds:u.any},{name:"text-transform",type:f.textTransform,triggersBounds:u.any},{name:"text-wrap",type:f.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:f.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:f.size,triggersBounds:u.any},{name:"text-outline-width",type:f.size,triggersBounds:u.any},{name:"line-height",type:f.positiveNumber,triggersBounds:u.any}],g=[{name:"text-valign",type:f.valign,triggersBounds:u.any},{name:"text-halign",type:f.halign,triggersBounds:u.any},{name:"color",type:f.color},{name:"text-outline-color",type:f.color},{name:"text-outline-opacity",type:f.zeroOneNumber},{name:"text-background-color",type:f.color},{name:"text-background-opacity",type:f.zeroOneNumber},{name:"text-background-padding",type:f.size,triggersBounds:u.any},{name:"text-border-opacity",type:f.zeroOneNumber},{name:"text-border-color",type:f.color},{name:"text-border-width",type:f.size,triggersBounds:u.any},{name:"text-border-style",type:f.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:f.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:f.justification},{name:"box-select-labels",type:f.bool,triggersBounds:u.any}],E=[{name:"events",type:f.bool,triggersZOrder:u.any},{name:"text-events",type:f.bool,triggersZOrder:u.any}],x=[{name:"display",type:f.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:u.any,triggersBoundsOfParallelEdges:function(se,$,ne){return se===$?!1:ne.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:f.visibility,triggersZOrder:u.any},{name:"opacity",type:f.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:f.zeroOneNumber},{name:"min-zoomed-font-size",type:f.size},{name:"z-compound-depth",type:f.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:f.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:f.number,triggersZOrder:u.any}],v=[{name:"overlay-padding",type:f.size,triggersBounds:u.any},{name:"overlay-color",type:f.color},{name:"overlay-opacity",type:f.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:f.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:f.cornerRadius}],C=[{name:"underlay-padding",type:f.size,triggersBounds:u.any},{name:"underlay-color",type:f.color},{name:"underlay-opacity",type:f.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:f.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:f.cornerRadius}],w=[{name:"transition-property",type:f.propList},{name:"transition-duration",type:f.time},{name:"transition-delay",type:f.time},{name:"transition-timing-function",type:f.easing}],T=function(se,$){return $.value==="label"?-se.poolIndex():$.pfValue},A=[{name:"height",type:f.nodeSize,triggersBounds:u.any,hashOverride:T},{name:"width",type:f.nodeSize,triggersBounds:u.any,hashOverride:T},{name:"shape",type:f.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:f.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:f.cornerRadius},{name:"background-color",type:f.color},{name:"background-fill",type:f.fill},{name:"background-opacity",type:f.zeroOneNumber},{name:"background-blacken",type:f.nOneOneNumber},{name:"background-gradient-stop-colors",type:f.colors},{name:"background-gradient-stop-positions",type:f.percentages},{name:"background-gradient-direction",type:f.gradientDirection},{name:"padding",type:f.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:f.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:f.boundsExpansion,triggersBounds:u.any}],_=[{name:"border-color",type:f.color},{name:"border-opacity",type:f.zeroOneNumber},{name:"border-width",type:f.size,triggersBounds:u.any},{name:"border-style",type:f.borderStyle},{name:"border-cap",type:f.lineCap},{name:"border-join",type:f.lineJoin},{name:"border-dash-pattern",type:f.numbers},{name:"border-dash-offset",type:f.number},{name:"border-position",type:f.linePosition}],D=[{name:"outline-color",type:f.color},{name:"outline-opacity",type:f.zeroOneNumber},{name:"outline-width",type:f.size,triggersBounds:u.any},{name:"outline-style",type:f.borderStyle},{name:"outline-offset",type:f.size,triggersBounds:u.any}],R=[{name:"background-image",type:f.urls},{name:"background-image-crossorigin",type:f.bgCrossOrigin},{name:"background-image-opacity",type:f.zeroOneNumbers},{name:"background-image-containment",type:f.bgContainment},{name:"background-image-smoothing",type:f.bools},{name:"background-position-x",type:f.bgPos},{name:"background-position-y",type:f.bgPos},{name:"background-width-relative-to",type:f.bgRelativeTo},{name:"background-height-relative-to",type:f.bgRelativeTo},{name:"background-repeat",type:f.bgRepeat},{name:"background-fit",type:f.bgFit},{name:"background-clip",type:f.bgClip},{name:"background-width",type:f.bgWH},{name:"background-height",type:f.bgWH},{name:"background-offset-x",type:f.bgPos},{name:"background-offset-y",type:f.bgPos}],k=[{name:"position",type:f.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:f.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:f.size,triggersBounds:u.any},{name:"min-width-bias-left",type:f.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:f.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:f.size,triggersBounds:u.any},{name:"min-height-bias-top",type:f.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:f.sizeMaybePercent,triggersBounds:u.any}],B=[{name:"line-style",type:f.lineStyle},{name:"line-color",type:f.color},{name:"line-fill",type:f.fill},{name:"line-cap",type:f.lineCap},{name:"line-opacity",type:f.zeroOneNumber},{name:"line-dash-pattern",type:f.numbers},{name:"line-dash-offset",type:f.number},{name:"line-outline-width",type:f.size},{name:"line-outline-color",type:f.color},{name:"line-gradient-stop-colors",type:f.colors},{name:"line-gradient-stop-positions",type:f.percentages},{name:"curve-style",type:f.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelEdges:function(se,$){return se===$?!1:se==="bezier"||$==="bezier"}},{name:"haystack-radius",type:f.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:f.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:f.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:f.size,triggersBounds:u.any},{name:"control-point-distances",type:f.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:f.numbers,triggersBounds:u.any},{name:"segment-distances",type:f.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:f.numbers,triggersBounds:u.any},{name:"segment-radii",type:f.numbers,triggersBounds:u.any},{name:"radius-type",type:f.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:f.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:f.size,triggersBounds:u.any},{name:"taxi-direction",type:f.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:f.number,triggersBounds:u.any},{name:"edge-distances",type:f.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:f.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:f.angle,triggersBounds:u.any},{name:"loop-sweep",type:f.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:f.size,triggersBounds:u.any},{name:"target-distance-from-node",type:f.size,triggersBounds:u.any}],G=[{name:"ghost",type:f.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:f.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:f.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:f.zeroOneNumber}],F=[{name:"selection-box-color",type:f.color},{name:"selection-box-opacity",type:f.zeroOneNumber},{name:"selection-box-border-color",type:f.color},{name:"selection-box-border-width",type:f.size},{name:"active-bg-color",type:f.color},{name:"active-bg-opacity",type:f.zeroOneNumber},{name:"active-bg-size",type:f.size},{name:"outside-texture-bg-color",type:f.color},{name:"outside-texture-bg-opacity",type:f.zeroOneNumber}],q=[];Lr.pieBackgroundN=16,q.push({name:"pie-size",type:f.sizeMaybePercent}),q.push({name:"pie-hole",type:f.sizeMaybePercent}),q.push({name:"pie-start-angle",type:f.angle});for(var M=1;M<=Lr.pieBackgroundN;M++)q.push({name:"pie-"+M+"-background-color",type:f.color}),q.push({name:"pie-"+M+"-background-size",type:f.percent}),q.push({name:"pie-"+M+"-background-opacity",type:f.zeroOneNumber});var P=[];Lr.stripeBackgroundN=16,P.push({name:"stripe-size",type:f.sizeMaybePercent}),P.push({name:"stripe-direction",type:f.axisDirectionPrimary});for(var N=1;N<=Lr.stripeBackgroundN;N++)P.push({name:"stripe-"+N+"-background-color",type:f.color}),P.push({name:"stripe-"+N+"-background-size",type:f.percent}),P.push({name:"stripe-"+N+"-background-opacity",type:f.zeroOneNumber});var I=[],z=Lr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:f.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:f.color},{name:"arrow-fill",type:f.arrowFill},{name:"arrow-width",type:f.arrowWidth}].forEach(function(ie){z.forEach(function(se){var $=se+"-"+ie.name,ne=ie.type,le=ie.triggersBounds;I.push({name:$,type:ne,triggersBounds:le})})},{});var ae=Lr.properties=[].concat(E,w,x,v,C,G,g,y,c,h,p,A,_,D,R,q,P,k,B,I,F),re=Lr.propertyGroups={behavior:E,transition:w,visibility:x,overlay:v,underlay:C,ghost:G,commonLabel:g,labelDimensions:y,mainLabel:c,sourceLabel:h,targetLabel:p,nodeBody:A,nodeBorder:_,nodeOutline:D,backgroundImage:R,pie:q,stripe:P,compound:k,edgeLine:B,edgeArrow:I,core:F},K=Lr.propertyGroupNames={},W=Lr.propertyGroupKeys=Object.keys(re);W.forEach(function(ie){K[ie]=re[ie].map(function(se){return se.name}),re[ie].forEach(function(se){return se.groupKey=ie})});var Z=Lr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Lr.propertyNames=ae.map(function(ie){return ie.name});for(var U=0;U<ae.length;U++){var V=ae[U];ae[V.name]=V}for(var Y=0;Y<Z.length;Y++){var ee=Z[Y],oe=ae[ee.pointsTo],te={name:ee.name,alias:!0,pointsTo:oe};ae.push(te),ae[ee.name]=te}})();Lr.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Lr.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=xt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,f){for(var c=1;c<=Lr.pieBackgroundN;c++){var h=f.name.replace("{{i}}",c),p=f.value;u[h]=p}return u},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(u,f){for(var c=1;c<=Lr.stripeBackgroundN;c++){var h=f.name.replace("{{i}}",c),p=f.value;u[h]=p}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,f){return Lr.arrowPrefixes.forEach(function(c){var h=c+"-"+f.name,p=f.value;u[h]=p}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=e[i],l=this.parse(i,o);r[i]=l}}return t.defaultProperties=r,t.defaultProperties};Lr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Bc={};Bc.parse=function(t,e,r,n){var a=this;if(yr(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",l=""+e,u=QP(t,l,o,i),f=a.propCache=a.propCache||[],c;return(c=f[u])||(c=f[u]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=Ea(c),c&&(c.value=Ea(c.value))),c};Bc.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&$t("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&$t("The style value of `label` is deprecated for `"+a.name+"`"),a};Bc.parseImpl=function(t,e,r,n){var a=this;t=m1(t);var i=a.properties[t],o=e,l=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var u=mt(e);u&&(e=e.trim());var f=i.type;if(!f)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(yr(e))return{name:t,value:e,strValue:"fn",mapped:l.fn,bypass:r};var c,h;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(l.data.regex).exec(e))){if(r)return!1;var p=l.data;return{name:t,value:c,strValue:""+e,mapped:p,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(h=new RegExp(l.mapData.regex).exec(e))){if(r||f.multiple)return!1;var y=l.mapData;if(!(f.color||f.number))return!1;var g=this.parse(t,h[4]);if(!g||g.mapped)return!1;var E=this.parse(t,h[5]);if(!E||E.mapped)return!1;if(g.pfValue===E.pfValue||g.strValue===E.strValue)return $t("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(f.color){var x=g.value,v=E.value,C=x[0]===v[0]&&x[1]===v[1]&&x[2]===v[2]&&(x[3]===v[3]||(x[3]==null||x[3]===1)&&(v[3]==null||v[3]===1));if(C)return!1}return{name:t,value:h,strValue:""+e,mapped:y,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:g.value,valueMax:E.value,bypass:r}}}if(f.multiple&&n!=="multiple"){var w;if(u?w=e.split(/\s+/):ar(e)?w=e:w=[e],f.evenMultiple&&w.length%2!==0)return null;for(var T=[],A=[],_=[],D="",R=!1,k=0;k<w.length;k++){var B=a.parse(t,w[k],r,"multiple");R=R||mt(B.value),T.push(B.value),_.push(B.pfValue!=null?B.pfValue:B.value),A.push(B.units),D+=(k>0?" ":"")+B.strValue}return f.validate&&!f.validate(T,A)?null:f.singleEnum&&R?T.length===1&&mt(T[0])?{name:t,value:T[0],strValue:T[0],bypass:r}:null:{name:t,value:T,pfValue:_,strValue:D,bypass:r,units:A}}var G=function(){for(var te=0;te<f.enums.length;te++){var ie=f.enums[te];if(ie===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(f.number){var F,q="px";if(f.units&&(F=f.units),f.implicitUnits&&(q=f.implicitUnits),!f.unitless)if(u){var M="px|em"+(f.allowPercent?"|\\%":"");F&&(M=F);var P=e.match("^("+qr+")("+M+")?$");P&&(e=P[1],F=P[2]||q)}else(!F||f.implicitUnits)&&(F=q);if(e=parseFloat(e),isNaN(e)&&f.enums===void 0)return null;if(isNaN(e)&&f.enums!==void 0)return e=o,G();if(f.integer&&!_q(e)||f.min!==void 0&&(e<f.min||f.strictMin&&e===f.min)||f.max!==void 0&&(e>f.max||f.strictMax&&e===f.max))return null;var N={name:t,value:e,strValue:""+e+(F||""),units:F,bypass:r};return f.unitless||F!=="px"&&F!=="em"?N.pfValue=e:N.pfValue=F==="px"||!F?e:this.getEmSizeInPixels()*e,(F==="ms"||F==="s")&&(N.pfValue=F==="ms"?e:1e3*e),(F==="deg"||F==="rad")&&(N.pfValue=F==="rad"?e:Oz(e)),F==="%"&&(N.pfValue=e/100),N}else if(f.propList){var I=[],z=""+e;if(z!=="none"){for(var ae=z.split(/\s*,\s*|\s+/),re=0;re<ae.length;re++){var K=ae[re].trim();a.properties[K]?I.push(K):$t("`"+K+"` is not a valid property name")}if(I.length===0)return null}return{name:t,value:I,strValue:I.length===0?"none":I.join(" "),bypass:r}}else if(f.color){var W=VP(e);return W?{name:t,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:r}:null}else if(f.regex||f.regexes){if(f.enums){var Z=G();if(Z)return Z}for(var U=f.regexes?f.regexes:[f.regex],V=0;V<U.length;V++){var Y=new RegExp(U[V]),ee=Y.exec(e);if(ee)return{name:t,value:f.singleRegexMatchValue?ee[1]:ee,strValue:""+e,bypass:r}}return null}else return f.string?{name:t,value:""+e,strValue:""+e,bypass:r}:f.enums?G():null};var $r=function(e){if(!(this instanceof $r))return new $r(e);if(!y1(e)){pr("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},vn=$r.prototype;vn.instanceString=function(){return"style"};vn.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};vn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};vn.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};vn.selector=function(t){var e=t==="core"?null:new Ri(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};vn.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[Tc(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};vn.style=vn.css;vn.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};vn.append=function(t){return HP(t)?t.appendToStyle(this):ar(t)?this.appendFromJson(t):mt(t)&&this.appendFromString(t),this};$r.fromJson=function(t,e){var r=new $r(t);return r.fromJson(e),r};$r.fromString=function(t,e){return new $r(t).fromString(e)};[Xr,hu,k1,Aa,Fc,N1,Lr,Bc].forEach(function(t){xt(vn,t)});$r.types=vn.types;$r.properties=vn.properties;$r.propertyGroups=vn.propertyGroups;$r.propertyGroupNames=vn.propertyGroupNames;$r.propertyGroupKeys=vn.propertyGroupKeys;var qH={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return HP(e)?r.style=e.generateStyle(this):ar(e)?r.style=$r.fromJson(this,e):mt(e)?r.style=$r.fromString(this,e):r.style=$r(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},zH="single",wo={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=zH),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,o,l;switch(e.length){case 0:return r;case 1:if(mt(e[0]))return n=e[0],r[n];if(It(e[0])){if(!this._private.panningEnabled)return this;i=e[0],o=i.x,l=i.y,at(o)&&(r.x=o),at(l)&&(r.y=l),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&at(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,o,l,u,f;if(!this._private.panningEnabled)return this;switch(n.length){case 1:It(e)&&(l=n[0],u=l.x,f=l.y,at(u)&&(a.x+=u),at(f)&&(a.y+=f),this.emit("pan viewport"));break;case 2:i=e,o=r,(i==="x"||i==="y")&&at(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(at(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(mt(e)){var a=e;e=this.$(a)}else if(Rq(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else qn(e)||(e=this.mutableElements());if(!(qn(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),l=this.height(),u;if(r=at(r)?r:0,!isNaN(o)&&!isNaN(l)&&o>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((o-2*r)/n.w,(l-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var f={x:(o-u*(n.x1+n.x2))/2,y:(l-u*(n.y1+n.y2))/2};return{zoom:u,pan:f}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return at(e)&&at(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):at(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:at(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,o,l=!1;if(r.zoomingEnabled||(l=!0),at(e)?o=e:It(e)&&(o=e.level,e.position!=null?i=Lc(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(l=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,l||!at(o)||o===a||i!=null&&(!at(i.x)||!at(i.y)))return null;if(i!=null){var u=n,f=a,c=o,h={x:-c/f*(i.x-u.x)+i.x,y:-c/f*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:c,pan:h}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],o=!1,l=!1;if(!e)return this;if(at(e.zoom)||(n=!1),It(e.pan)||(a=!1),!n&&!a)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var f=e.pan;at(f.x)&&(r.pan.x=f.x,l=!1),at(f.y)&&(r.pan.y=f.y,l=!1),l||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(mt(e)){var n=e;e=this.mutableElements().filter(n)}else qn(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var l={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return l}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(l){return parseFloat(a.getPropertyValue(l))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};wo.centre=wo.center;wo.autolockNodes=wo.autolock;wo.autoungrabifyNodes=wo.autoungrabify;var Ql={data:Wt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Wt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Wt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Wt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ql.attr=Ql.data;Ql.removeAttr=Ql.removeData;var Jl=function(e){var r=this;e=xt({},e);var n=e.container;n&&!Kf(n)&&Kf(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=Fr!==void 0&&n!==void 0&&!e.headless,l=e;l.layout=xt({name:o?"grid":"null"},l.layout),l.renderer=xt({name:o?"canvas":"null"},l.renderer);var u=function(g,E,x){return E!==void 0?E:x!==void 0?x:g},f=this._private={container:n,ready:!1,options:l,elements:new rn(this),listeners:[],aniEles:new rn(this),data:l.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,l.zoomingEnabled),userZoomingEnabled:u(!0,l.userZoomingEnabled),panningEnabled:u(!0,l.panningEnabled),userPanningEnabled:u(!0,l.userPanningEnabled),boxSelectionEnabled:u(!0,l.boxSelectionEnabled),autolock:u(!1,l.autolock,l.autolockNodes),autoungrabify:u(!1,l.autoungrabify,l.autoungrabifyNodes),autounselectify:u(!1,l.autounselectify),styleEnabled:l.styleEnabled===void 0?o:l.styleEnabled,zoom:at(l.zoom)?l.zoom:1,pan:{x:It(l.pan)&&at(l.pan.x)?l.pan.x:0,y:It(l.pan)&&at(l.pan.y)?l.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,l.multiClickDebounceTime)};this.createEmitter(),this.selectionType(l.selectionType),this.zoomRange({min:l.minZoom,max:l.maxZoom});var c=function(g,E){var x=g.some(Pq);if(x)return Ls.all(g).then(E);E(g)};f.styleEnabled&&r.setStyle([]);var h=xt({},l,l.renderer);r.initRenderer(h);var p=function(g,E,x){r.notifications(!1);var v=r.mutableElements();v.length>0&&v.remove(),g!=null&&(It(g)||ar(g))&&r.add(g),r.one("layoutready",function(w){r.notifications(!0),r.emit(w),r.one("load",E),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var C=xt({},r._private.options.layout);C.eles=r.elements(),r.layout(C).run()};c([l.style,l.elements],function(y){var g=y[0],E=y[1];f.styleEnabled&&r.style().append(g),p(E,function(){r.startAnimationLoop(),f.ready=!0,yr(l.ready)&&r.on("ready",l.ready);for(var x=0;x<i.length;x++){var v=i[x];r.on("ready",v)}a&&(a.readies=[]),r.emit("ready")},l.done)})},rc=Jl.prototype;xt(rc,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Fr;var r=this._private.container.ownerDocument;return r===void 0||r==null?Fr:r.defaultView||Fr},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!Kf(e)&&Kf(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(xt({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Ea(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(T){return r.getElementById(T.id())};if(It(e)){if(r.startBatch(),e.elements){var o={},l=function(T,A){for(var _=[],D=[],R=0;R<T.length;R++){var k=T[R];if(!k.data.id){$t("cy.json() cannot handle elements without an ID attribute");continue}var B=""+k.data.id,G=r.getElementById(B);o[B]=!0,G.length!==0?D.push({ele:G,json:k}):(A&&(k.group=A),_.push(k))}r.add(_);for(var F=0;F<D.length;F++){var q=D[F],M=q.ele,P=q.json;M.json(P)}};if(ar(e.elements))l(e.elements);else for(var u=["nodes","edges"],f=0;f<u.length;f++){var c=u[f],h=e.elements[c];ar(h)&&l(h,c)}var p=r.collection();a.filter(function(w){return!o[w.id()]}).forEach(function(w){w.isParent()?p.merge(w):w.remove()}),p.forEach(function(w){return w.children().move({parent:null})}),p.forEach(function(w){return i(w).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var y=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<y.length;g++){var E=y[g];e[E]!=null&&r[E](e[E])}return r.endBatch(),this}else{var x=!!e,v={};x?v.elements=this.elements().map(function(w){return w.json()}):(v.elements={},a.forEach(function(w){var T=w.group();v.elements[T]||(v.elements[T]=[]),v.elements[T].push(w.json())})),this._private.styleEnabled&&(v.style=r.style().json()),v.data=Ea(r.data());var C=n.options;return v.zoomingEnabled=n.zoomingEnabled,v.userZoomingEnabled=n.userZoomingEnabled,v.zoom=n.zoom,v.minZoom=n.minZoom,v.maxZoom=n.maxZoom,v.panningEnabled=n.panningEnabled,v.userPanningEnabled=n.userPanningEnabled,v.pan=Ea(n.pan),v.boxSelectionEnabled=n.boxSelectionEnabled,v.renderer=Ea(C.renderer),v.hideEdgesOnViewport=C.hideEdgesOnViewport,v.textureOnViewport=C.textureOnViewport,v.wheelSensitivity=C.wheelSensitivity,v.motionBlur=C.motionBlur,v.multiClickDebounceTime=C.multiClickDebounceTime,v}}});rc.$id=rc.getElementById;[DH,NH,zk,Gb,Lf,IH,Hb,_f,qH,wo,Ql].forEach(function(t){xt(rc,t)});var GH={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},HH={maximal:!1,acyclic:!1},rs=function(e){return e.scratch("breadthfirst")},WT=function(e,r){return e.scratch("breadthfirst",r)};function Gk(t){this.options=xt({},GH,HH,t)}Gk.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(Te){return Te.isChildless()}),a=r,i=t.directed,o=t.acyclic||t.maximal||t.maximalAdjustments>0,l=!!t.boundingBox,u=e.extent(),f=Nn(l?t.boundingBox:{x1:u.x1,y1:u.y1,w:u.w,h:u.h}),c;if(qn(t.roots))c=t.roots;else if(ar(t.roots)){for(var h=[],p=0;p<t.roots.length;p++){var y=t.roots[p],g=e.getElementById(y);h.push(g)}c=e.collection(h)}else if(mt(t.roots))c=e.$(t.roots);else if(i)c=n.roots();else{var E=r.components();c=e.collection();for(var x=function(){var ve=E[v],de=ve.maxDegree(!1),ye=ve.filter(function(Ce){return Ce.degree(!1)===de});c=c.add(ye)},v=0;v<E.length;v++)x()}var C=[],w={},T=function(ve,de){C[de]==null&&(C[de]=[]);var ye=C[de].length;C[de].push(ve),WT(ve,{index:ye,depth:de})},A=function(ve,de){var ye=rs(ve),Ce=ye.depth,ue=ye.index;C[Ce][ue]=null,ve.isChildless()&&T(ve,de)};a.bfs({roots:c,directed:t.directed,visit:function(ve,de,ye,Ce,ue){var Ae=ve[0],Pe=Ae.id();Ae.isChildless()&&T(Ae,ue),w[Pe]=!0}});for(var _=[],D=0;D<n.length;D++){var R=n[D];w[R.id()]||_.push(R)}var k=function(ve){for(var de=C[ve],ye=0;ye<de.length;ye++){var Ce=de[ye];if(Ce==null){de.splice(ye,1),ye--;continue}WT(Ce,{depth:ve,index:ye})}},B=function(ve,de){for(var ye=rs(ve),Ce=ve.incomers().filter(function(Qe){return Qe.isNode()&&r.has(Qe)}),ue=-1,Ae=ve.id(),Pe=0;Pe<Ce.length;Pe++){var Fe=Ce[Pe],Ye=rs(Fe);ue=Math.max(ue,Ye.depth)}if(ye.depth<=ue){if(!t.acyclic&&de[Ae])return null;var We=ue+1;return A(ve,We),de[Ae]=We,!0}return!1};if(i&&o){var G=[],F={},q=function(ve){return G.push(ve)},M=function(){return G.shift()};for(n.forEach(function(Te){return G.push(Te)});G.length>0;){var P=M(),N=B(P,F);if(N)P.outgoers().filter(function(Te){return Te.isNode()&&r.has(Te)}).forEach(q);else if(N===null){$t("Detected double maximal shift for node `"+P.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var I=0;if(t.avoidOverlap)for(var z=0;z<n.length;z++){var ae=n[z],re=ae.layoutDimensions(t),K=re.w,W=re.h;I=Math.max(I,K,W)}var Z={},U=function(ve){if(Z[ve.id()])return Z[ve.id()];for(var de=rs(ve).depth,ye=ve.neighborhood(),Ce=0,ue=0,Ae=0;Ae<ye.length;Ae++){var Pe=ye[Ae];if(!(Pe.isEdge()||Pe.isParent()||!n.has(Pe))){var Fe=rs(Pe);if(Fe!=null){var Ye=Fe.index,We=Fe.depth;if(!(Ye==null||We==null)){var Qe=C[We].length;We<de&&(Ce+=Ye/Qe,ue++)}}}}return ue=Math.max(1,ue),Ce=Ce/ue,ue===0&&(Ce=0),Z[ve.id()]=Ce,Ce},V=function(ve,de){var ye=U(ve),Ce=U(de),ue=ye-Ce;return ue===0?WP(ve.id(),de.id()):ue};t.depthSort!==void 0&&(V=t.depthSort);for(var Y=C.length,ee=0;ee<Y;ee++)C[ee].sort(V),k(ee);for(var oe=[],te=0;te<_.length;te++)oe.push(_[te]);var ie=function(){for(var ve=0;ve<Y;ve++)k(ve)};oe.length&&(C.unshift(oe),Y=C.length,ie());for(var se=0,$=0;$<Y;$++)se=Math.max(C[$].length,se);var ne={x:f.x1+f.w/2,y:f.y1+f.h/2},le=n.reduce(function(Te,ve){return function(de){return{w:Te.w===-1?de.w:(Te.w+de.w)/2,h:Te.h===-1?de.h:(Te.h+de.h)/2}}(ve.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Se=Math.max(Y===1?0:l?(f.h-t.padding*2-le.h)/(Y-1):(f.h-t.padding*2-le.h)/(Y+1),I),_e=C.reduce(function(Te,ve){return Math.max(Te,ve.length)},0),be=function(ve){var de=rs(ve),ye=de.depth,Ce=de.index;if(t.circle){var ue=Math.min(f.w/2/Y,f.h/2/Y);ue=Math.max(ue,I);var Ae=ue*ye+ue-(Y>0&&C[0].length<=3?ue/2:0),Pe=2*Math.PI/C[ye].length*Ce;return ye===0&&C[0].length===1&&(Ae=1),{x:ne.x+Ae*Math.cos(Pe),y:ne.y+Ae*Math.sin(Pe)}}else{var Fe=C[ye].length,Ye=Math.max(Fe===1?0:l?(f.w-t.padding*2-le.w)/((t.grid?_e:Fe)-1):(f.w-t.padding*2-le.w)/((t.grid?_e:Fe)+1),I),We={x:ne.x+(Ce+1-(Fe+1)/2)*Ye,y:ne.y+(ye+1-(Y+1)/2)*Se};return We}};return r.nodes().layoutPositions(this,t,be),this};var UH={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Hk(t){this.options=xt({},UH,t)}Hk.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var o=Nn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:o.x1+o.w/2,y:o.y1+o.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,f=u/Math.max(1,i.length-1),c,h=0,p=0;p<i.length;p++){var y=i[p],g=y.layoutDimensions(e),E=g.w,x=g.h;h=Math.max(h,E,x)}if(at(e.radius)?c=e.radius:i.length<=1?c=0:c=Math.min(o.h,o.w)/2-h,i.length>1&&e.avoidOverlap){h*=1.75;var v=Math.cos(f)-Math.cos(0),C=Math.sin(f)-Math.sin(0),w=Math.sqrt(h*h/(v*v+C*C));c=Math.max(w,c)}var T=function(_,D){var R=e.startAngle+D*f*(a?1:-1),k=c*Math.cos(R),B=c*Math.sin(R),G={x:l.x+k,y:l.y+B};return G};return n.nodes().layoutPositions(this,e,T),this};var WH={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Uk(t){this.options=xt({},WH,t)}Uk.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),o=Nn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:o.x1+o.w/2,y:o.y1+o.h/2},u=[],f=0,c=0;c<i.length;c++){var h=i[c],p=void 0;p=e.concentric(h),u.push({value:p,node:h}),h._private.scratch.concentric=p}i.updateStyle();for(var y=0;y<i.length;y++){var g=i[y],E=g.layoutDimensions(e);f=Math.max(f,E.w,E.h)}u.sort(function(le,Se){return Se.value-le.value});for(var x=e.levelWidth(i),v=[[]],C=v[0],w=0;w<u.length;w++){var T=u[w];if(C.length>0){var A=Math.abs(C[0].value-T.value);A>=x&&(C=[],v.push(C))}C.push(T)}var _=f+e.minNodeSpacing;if(!e.avoidOverlap){var D=v.length>0&&v[0].length>1,R=Math.min(o.w,o.h)/2-_,k=R/(v.length+D?1:0);_=Math.min(_,k)}for(var B=0,G=0;G<v.length;G++){var F=v[G],q=e.sweep===void 0?2*Math.PI-2*Math.PI/F.length:e.sweep,M=F.dTheta=q/Math.max(1,F.length-1);if(F.length>1&&e.avoidOverlap){var P=Math.cos(M)-Math.cos(0),N=Math.sin(M)-Math.sin(0),I=Math.sqrt(_*_/(P*P+N*N));B=Math.max(I,B)}F.r=B,B+=_}if(e.equidistant){for(var z=0,ae=0,re=0;re<v.length;re++){var K=v[re],W=K.r-ae;z=Math.max(z,W)}ae=0;for(var Z=0;Z<v.length;Z++){var U=v[Z];Z===0&&(ae=U.r),U.r=ae,ae+=z}}for(var V={},Y=0;Y<v.length;Y++)for(var ee=v[Y],oe=ee.dTheta,te=ee.r,ie=0;ie<ee.length;ie++){var se=ee[ie],$=e.startAngle+(r?1:-1)*oe*ie,ne={x:l.x+te*Math.cos($),y:l.y+te*Math.sin($)};V[se.node.id()]=ne}return a.nodes().layoutPositions(this,e,function(le){var Se=le.id();return V[Se]}),this};var Pv,VH={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function qc(t){this.options=xt({},VH,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),l=e.some(function(f){return f.data("id")===i}),u=e.some(function(f){return f.data("id")===o});return!l||!u});this.options.eles=this.options.eles.not(n)}qc.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Pv=!0:Pv=!1;var n=$H(e,r,t);Pv&&XH(n),t.randomize&&KH(n);var a=Za(),i=function(){jH(n,e,t),t.fit===!0&&e.fit(t.padding)},o=function(p){return!(r.stopped||p>=t.numIter||(ZH(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},l=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var p=t.eles.nodes(),y=Vk(n,t,p);p.layoutPositions(r,t,y)}},u=0,f=!0;if(t.animate===!0){var c=function(){for(var p=0;f&&p<t.refresh;)f=o(u),u++,p++;if(!f)$T(n,t),l();else{var y=Za();y-a>=t.animationThreshold&&i(),jf(c)}};c()}else{for(;f;)f=o(u),u++;$T(n,t),l()}return this};qc.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};qc.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var $H=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=Nn(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),l={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},u=n.eles.components(),f={},c=0;c<u.length;c++)for(var h=u[c],p=0;p<h.length;p++){var y=h[p];f[y.id()]=c}for(var c=0;c<l.nodeSize;c++){var g=i[c],E=g.layoutDimensions(n),x={};x.isLocked=g.locked(),x.id=g.data("id"),x.parentId=g.data("parent"),x.cmptId=f[g.id()],x.children=[],x.positionX=g.position("x"),x.positionY=g.position("y"),x.offsetX=0,x.offsetY=0,x.height=E.w,x.width=E.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(g.style("padding")),x.padRight=parseFloat(g.style("padding")),x.padTop=parseFloat(g.style("padding")),x.padBottom=parseFloat(g.style("padding")),x.nodeRepulsion=yr(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,l.layoutNodes.push(x),l.idToIndex[x.id]=c}for(var v=[],C=0,w=-1,T=[],c=0;c<l.nodeSize;c++){var g=l.layoutNodes[c],A=g.parentId;A!=null?l.layoutNodes[l.idToIndex[A]].children.push(g.id):(v[++w]=g.id,T.push(g.id))}for(l.graphSet.push(T);C<=w;){var _=v[C++],D=l.idToIndex[_],y=l.layoutNodes[D],R=y.children;if(R.length>0){l.graphSet.push(R);for(var c=0;c<R.length;c++)v[++w]=R[c]}}for(var c=0;c<l.graphSet.length;c++)for(var k=l.graphSet[c],p=0;p<k.length;p++){var B=l.idToIndex[k[p]];l.indexToGraph[B]=c}for(var c=0;c<l.edgeSize;c++){var G=a[c],F={};F.id=G.data("id"),F.sourceId=G.data("source"),F.targetId=G.data("target");var q=yr(n.idealEdgeLength)?n.idealEdgeLength(G):n.idealEdgeLength,M=yr(n.edgeElasticity)?n.edgeElasticity(G):n.edgeElasticity,P=l.idToIndex[F.sourceId],N=l.idToIndex[F.targetId],I=l.indexToGraph[P],z=l.indexToGraph[N];if(I!=z){for(var ae=YH(F.sourceId,F.targetId,l),re=l.graphSet[ae],K=0,x=l.layoutNodes[P];re.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],K++;for(x=l.layoutNodes[N];re.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],K++;q*=K*n.nestingFactor}F.idealLength=q,F.elasticity=M,l.layoutEdges.push(F)}return l},YH=function(e,r,n){var a=Wk(e,r,0,n);return 2>a.count?0:a.graph},Wk=function(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,l=0;l<i.length;l++){var u=i[l],f=a.idToIndex[u],c=a.layoutNodes[f].children;if(c.length!==0){var h=a.indexToGraph[a.idToIndex[c[0]]],p=Wk(e,r,h,a);if(p.count!==0)if(p.count===1){if(o++,o===2)break}else return p}}return{count:o,graph:n}},XH,KH=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},Vk=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var l=e.layoutNodes[e.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,l.positionX),i.x2=Math.max(i.x2,l.positionX),i.y1=Math.min(i.y1,l.positionY),i.y2=Math.max(i.y2,l.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,l){var u=e.layoutNodes[e.idToIndex[o.data("id")]];if(r.boundingBox){var f=(u.positionX-i.x1)/i.w,c=(u.positionY-i.y1)/i.h;return{x:a.x1+f*a.w,y:a.y1+c*a.h}}else return{x:u.positionX,y:u.positionY}}},jH=function(e,r,n){var a=n.layout,i=n.eles.nodes(),o=Vk(e,n,i);i.positions(o),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},ZH=function(e,r,n){QH(e,r),tU(e),rU(e,r),nU(e),aU(e)},QH=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,o=0;o<i;o++)for(var l=e.layoutNodes[e.idToIndex[a[o]]],u=o+1;u<i;u++){var f=e.layoutNodes[e.idToIndex[a[u]]];JH(l,f,e,r)}},VT=function(e){return-1+2*e*Math.random()},JH=function(e,r,n,a){var i=e.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var l=r.positionX-e.positionX,u=r.positionY-e.positionY,f=1;l===0&&u===0&&(l=VT(f),u=VT(f));var c=eU(e,r,l,u);if(c>0)var h=a.nodeOverlap*c,p=Math.sqrt(l*l+u*u),y=h*l/p,g=h*u/p;else var E=nc(e,l,u),x=nc(r,-1*l,-1*u),v=x.x-E.x,C=x.y-E.y,w=v*v+C*C,p=Math.sqrt(w),h=(e.nodeRepulsion+r.nodeRepulsion)/w,y=h*v/p,g=h*C/p;e.isLocked||(e.offsetX-=y,e.offsetY-=g),r.isLocked||(r.offsetX+=y,r.offsetY+=g)}},eU=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var o=e.maxY-r.minY;else var o=r.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},nc=function(e,r,n){var a=e.positionX,i=e.positionY,o=e.height||1,l=e.width||1,u=n/r,f=o/l,c={};return r===0&&0<n||r===0&&0>n?(c.x=a,c.y=i+o/2,c):0<r&&-1*f<=u&&u<=f?(c.x=a+l/2,c.y=i+l*n/2/r,c):0>r&&-1*f<=u&&u<=f?(c.x=a-l/2,c.y=i-l*n/2/r,c):0<n&&(u<=-1*f||u>=f)?(c.x=a+o*r/2/n,c.y=i+o/2,c):(0>n&&(u<=-1*f||u>=f)&&(c.x=a-o*r/2/n,c.y=i-o/2),c)},tU=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],o=e.layoutNodes[i],l=e.idToIndex[a.targetId],u=e.layoutNodes[l],f=u.positionX-o.positionX,c=u.positionY-o.positionY;if(!(f===0&&c===0)){var h=nc(o,f,c),p=nc(u,-1*f,-1*c),y=p.x-h.x,g=p.y-h.y,E=Math.sqrt(y*y+g*g),x=Math.pow(a.idealLength-E,2)/a.elasticity;if(E!==0)var v=x*y/E,C=x*g/E;else var v=0,C=0;o.isLocked||(o.offsetX+=v,o.offsetY+=C),u.isLocked||(u.offsetX-=v,u.offsetY-=C)}}},rU=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],o=i.length;if(a===0)var l=e.clientHeight/2,u=e.clientWidth/2;else var f=e.layoutNodes[e.idToIndex[i[0]]],c=e.layoutNodes[e.idToIndex[f.parentId]],l=c.positionX,u=c.positionY;for(var h=0;h<o;h++){var p=e.layoutNodes[e.idToIndex[i[h]]];if(!p.isLocked){var y=l-p.positionX,g=u-p.positionY,E=Math.sqrt(y*y+g*g);if(E>n){var x=r.gravity*y/E,v=r.gravity*g/E;p.offsetX+=x,p.offsetY+=v}}}}},nU=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var o=n[a++],l=e.idToIndex[o],u=e.layoutNodes[l],f=u.children;if(0<f.length&&!u.isLocked){for(var c=u.offsetX,h=u.offsetY,p=0;p<f.length;p++){var y=e.layoutNodes[e.idToIndex[f[p]]];y.offsetX+=c,y.offsetY+=h,n[++i]=f[p]}u.offsetX=0,u.offsetY=0}}},aU=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=iU(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,$k(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},iU=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},$k=function(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return $k(a,r)}},$T=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],l=o.cmptId,u=a[l]=a[l]||[];u.push(o)}for(var f=0,i=0;i<a.length;i++){var c=a[i];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var h=0;h<c.length;h++){var p=c[h];c.x1=Math.min(c.x1,p.positionX-p.width/2),c.x2=Math.max(c.x2,p.positionX+p.width/2),c.y1=Math.min(c.y1,p.positionY-p.height/2),c.y2=Math.max(c.y2,p.positionY+p.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,f+=c.w*c.h}}a.sort(function(C,w){return w.w*w.h-C.w*C.h});for(var y=0,g=0,E=0,x=0,v=Math.sqrt(f)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var c=a[i];if(c){for(var h=0;h<c.length;h++){var p=c[h];p.isLocked||(p.positionX+=y-c.x1,p.positionY+=g-c.y1)}y+=c.w+r.componentSpacing,E+=c.w+r.componentSpacing,x=Math.max(x,c.h),E>v&&(g+=x+r.componentSpacing,y=0,E=0,x=0)}}},oU={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Yk(t){this.options=xt({},oU,t)}Yk.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=Nn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(Z){return{x:i.x1,y:i.y1}});else{var o=a.size(),l=Math.sqrt(o*i.h/i.w),u=Math.round(l),f=Math.round(i.w/i.h*l),c=function(U){if(U==null)return Math.min(u,f);var V=Math.min(u,f);V==u?u=U:f=U},h=function(U){if(U==null)return Math.max(u,f);var V=Math.max(u,f);V==u?u=U:f=U},p=e.rows,y=e.cols!=null?e.cols:e.columns;if(p!=null&&y!=null)u=p,f=y;else if(p!=null&&y==null)u=p,f=Math.ceil(o/u);else if(p==null&&y!=null)f=y,u=Math.ceil(o/f);else if(f*u>o){var g=c(),E=h();(g-1)*E>=o?c(g-1):(E-1)*g>=o&&h(E-1)}else for(;f*u<o;){var x=c(),v=h();(v+1)*x>=o?h(v+1):c(x+1)}var C=i.w/f,w=i.h/u;if(e.condense&&(C=0,w=0),e.avoidOverlap)for(var T=0;T<a.length;T++){var A=a[T],_=A._private.position;(_.x==null||_.y==null)&&(_.x=0,_.y=0);var D=A.layoutDimensions(e),R=e.avoidOverlapPadding,k=D.w+R,B=D.h+R;C=Math.max(C,k),w=Math.max(w,B)}for(var G={},F=function(U,V){return!!G["c-"+U+"-"+V]},q=function(U,V){G["c-"+U+"-"+V]=!0},M=0,P=0,N=function(){P++,P>=f&&(P=0,M++)},I={},z=0;z<a.length;z++){var ae=a[z],re=e.position(ae);if(re&&(re.row!==void 0||re.col!==void 0)){var K={row:re.row,col:re.col};if(K.col===void 0)for(K.col=0;F(K.row,K.col);)K.col++;else if(K.row===void 0)for(K.row=0;F(K.row,K.col);)K.row++;I[ae.id()]=K,q(K.row,K.col)}}var W=function(U,V){var Y,ee;if(U.locked()||U.isParent())return!1;var oe=I[U.id()];if(oe)Y=oe.col*C+C/2+i.x1,ee=oe.row*w+w/2+i.y1;else{for(;F(M,P);)N();Y=P*C+C/2+i.x1,ee=M*w+w/2+i.y1,q(M,P),N()}return{x:Y,y:ee}};a.layoutPositions(this,e,W)}return this};var sU={ready:function(){},stop:function(){}};function O1(t){this.options=xt({},sU,t)}O1.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};O1.prototype.stop=function(){return this};var lU={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Xk(t){this.options=xt({},lU,t)}Xk.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=yr(t.positions);function a(i){if(t.positions==null)return Mz(i.position());if(n)return t.positions(i);var o=t.positions[i._private.data.id];return o??null}return r.layoutPositions(this,t,function(i,o){var l=a(i);return i.locked()||l==null?!1:l}),this};var uU={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Kk(t){this.options=xt({},uU,t)}Kk.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Nn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(o,l){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var fU=[{name:"breadthfirst",impl:Gk},{name:"circle",impl:Hk},{name:"concentric",impl:Uk},{name:"cose",impl:qc},{name:"grid",impl:Yk},{name:"null",impl:O1},{name:"preset",impl:Xk},{name:"random",impl:Kk}];function jk(t){this.options=t,this.notifications=0}var YT=function(){},XT=function(){throw new Error("A headless instance can not render images")};jk.prototype={recalculateRenderedStyle:YT,notify:function(){this.notifications++},init:YT,isHeadless:function(){return!0},png:XT,jpg:XT};var I1={};I1.arrowShapeWidth=.3;I1.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(f,c,h,p,y,g,E){var x=y.x-h/2-E,v=y.x+h/2+E,C=y.y-h/2-E,w=y.y+h/2+E,T=x<=f&&f<=v&&C<=c&&c<=w;return T},n=function(f,c,h,p,y){var g=f*Math.cos(p)-c*Math.sin(p),E=f*Math.sin(p)+c*Math.cos(p),x=g*h,v=E*h,C=x+y.x,w=v+y.y;return{x:C,y:w}},a=function(f,c,h,p){for(var y=[],g=0;g<f.length;g+=2){var E=f[g],x=f[g+1];y.push(n(E,x,c,h,p))}return y},i=function(f){for(var c=[],h=0;h<f.length;h++){var p=f[h];c.push(p.x,p.y)}return c},o=function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").pfValue*2},l=function(f,c){mt(c)&&(c=t[c]),t[f]=xt({name:f,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,y,g,E,x,v){var C=i(a(this.points,g+2*v,E,x)),w=Rn(p,y,C);return w},roughCollide:r,draw:function(p,y,g,E){var x=a(this.points,y,g,E);e.arrowShapeImpl("polygon")(p,x)},spacing:function(p){return 0},gap:o},c)};l("none",{collide:Zf,roughCollide:Zf,draw:x1,spacing:fE,gap:fE}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(f,c,h,p,y){var g=a(this.points,c,h,p),E=this.controlPoint,x=n(E[0],E[1],c,h,p);e.arrowShapeImpl(this.name)(f,g,x)},gap:function(f){return o(f)*.8}}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(f,c,h,p,y,g,E){var x=i(a(this.points,h+2*E,p,y)),v=i(a(this.pointsTee,h+2*E,p,y)),C=Rn(f,c,x)||Rn(f,c,v);return C},draw:function(f,c,h,p,y){var g=a(this.points,c,h,p),E=a(this.pointsTee,c,h,p);e.arrowShapeImpl(this.name)(f,g,E)}}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(f,c,h,p,y,g,E){var x=y,v=Math.pow(x.x-f,2)+Math.pow(x.y-c,2)<=Math.pow((h+2*E)*this.radius,2),C=i(a(this.points,h+2*E,p,y));return Rn(f,c,C)||v},draw:function(f,c,h,p,y){var g=a(this.pointsTr,c,h,p);e.arrowShapeImpl(this.name)(f,g,p.x,p.y,this.radius*c)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(f,c){var h=this.baseCrossLinePts.slice(),p=c/f,y=3,g=5;return h[y]=h[y]-p,h[g]=h[g]-p,h},collide:function(f,c,h,p,y,g,E){var x=i(a(this.points,h+2*E,p,y)),v=i(a(this.crossLinePts(h,g),h+2*E,p,y)),C=Rn(f,c,x)||Rn(f,c,v);return C},draw:function(f,c,h,p,y){var g=a(this.points,c,h,p),E=a(this.crossLinePts(c,y),c,h,p);e.arrowShapeImpl(this.name)(f,g,E)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(f){return o(f)*.525}}),l("circle",{radius:.15,collide:function(f,c,h,p,y,g,E){var x=y,v=Math.pow(x.x-f,2)+Math.pow(x.y-c,2)<=Math.pow((h+2*E)*this.radius,2);return v},draw:function(f,c,h,p,y){e.arrowShapeImpl(this.name)(f,p.x,p.y,this.radius*c)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(f){return 1},gap:function(f){return 1}}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(f){return .95*f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}})};var Eo={};Eo.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],l=r.pan(),u=r.zoom(),f=((t-a)/o-l.x)/u,c=((e-i)/o-l.y)/u;return[f,c]};Eo.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(v){return parseFloat(r.getPropertyValue(v))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=t.clientWidth,l=t.clientHeight,u=a.left+a.right,f=a.top+a.bottom,c=i.left+i.right,h=e.width/(o+c),p=o-u,y=l-f,g=e.left+a.left+i.left,E=e.top+a.top+i.top;return this.containerBB=[g,E,p,y,h]};Eo.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Eo.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Eo.findNearestElements=function(t,e,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),l=[],u=i.cy.zoom(),f=i.cy.hasCompoundNodes(),c=(n?24:8)/u,h=(n?8:2)/u,p=(n?8:2)/u,y=1/0,g,E;r&&(o=o.interactive);function x(D,R){if(D.isNode()){if(E)return;E=D,l.push(D)}if(D.isEdge()&&(R==null||R<y))if(g){if(g.pstyle("z-compound-depth").value===D.pstyle("z-compound-depth").value&&g.pstyle("z-compound-depth").value===D.pstyle("z-compound-depth").value){for(var k=0;k<l.length;k++)if(l[k].isEdge()){l[k]=D,g=D,y=R??y;break}}}else l.push(D),g=D,y=R??y}function v(D){var R=D.outerWidth()+2*h,k=D.outerHeight()+2*h,B=R/2,G=k/2,F=D.position(),q=D.pstyle("corner-radius").value==="auto"?"auto":D.pstyle("corner-radius").pfValue,M=D._private.rscratch;if(F.x-B<=t&&t<=F.x+B&&F.y-G<=e&&e<=F.y+G){var P=i.nodeShapes[a.getNodeShape(D)];if(P.checkPoint(t,e,0,R,k,F.x,F.y,q,M))return x(D,0),!0}}function C(D){var R=D._private,k=R.rscratch,B=D.pstyle("width").pfValue,G=D.pstyle("arrow-scale").value,F=B/2+c,q=F*F,M=F*2,z=R.source,ae=R.target,P;if(k.edgeType==="segments"||k.edgeType==="straight"||k.edgeType==="haystack"){for(var N=k.allpts,I=0;I+3<N.length;I+=2)if(Wz(t,e,N[I],N[I+1],N[I+2],N[I+3],M)&&q>(P=Kz(t,e,N[I],N[I+1],N[I+2],N[I+3])))return x(D,P),!0}else if(k.edgeType==="bezier"||k.edgeType==="multibezier"||k.edgeType==="self"||k.edgeType==="compound"){for(var N=k.allpts,I=0;I+5<k.allpts.length;I+=4)if(Vz(t,e,N[I],N[I+1],N[I+2],N[I+3],N[I+4],N[I+5],M)&&q>(P=Xz(t,e,N[I],N[I+1],N[I+2],N[I+3],N[I+4],N[I+5])))return x(D,P),!0}for(var z=z||R.source,ae=ae||R.target,re=a.getArrowWidth(B,G),K=[{name:"source",x:k.arrowStartX,y:k.arrowStartY,angle:k.srcArrowAngle},{name:"target",x:k.arrowEndX,y:k.arrowEndY,angle:k.tgtArrowAngle},{name:"mid-source",x:k.midX,y:k.midY,angle:k.midsrcArrowAngle},{name:"mid-target",x:k.midX,y:k.midY,angle:k.midtgtArrowAngle}],I=0;I<K.length;I++){var W=K[I],Z=i.arrowShapes[D.pstyle(W.name+"-arrow-shape").value],U=D.pstyle("width").pfValue;if(Z.roughCollide(t,e,re,W.angle,{x:W.x,y:W.y},U,c)&&Z.collide(t,e,re,W.angle,{x:W.x,y:W.y},U,c))return x(D),!0}f&&l.length>0&&(v(z),v(ae))}function w(D,R,k){return Mn(D,R,k)}function T(D,R){var k=D._private,B=p,G;R?G=R+"-":G="",D.boundingBox();var F=k.labelBounds[R||"main"],q=D.pstyle(G+"label").value,M=D.pstyle("text-events").strValue==="yes";if(!(!M||!q)){var P=w(k.rscratch,"labelX",R),N=w(k.rscratch,"labelY",R),I=w(k.rscratch,"labelAngle",R),z=D.pstyle(G+"text-margin-x").pfValue,ae=D.pstyle(G+"text-margin-y").pfValue,re=F.x1-B-z,K=F.x2+B-z,W=F.y1-B-ae,Z=F.y2+B-ae;if(I){var U=Math.cos(I),V=Math.sin(I),Y=function(ne,le){return ne=ne-P,le=le-N,{x:ne*U-le*V+P,y:ne*V+le*U+N}},ee=Y(re,W),oe=Y(re,Z),te=Y(K,W),ie=Y(K,Z),se=[ee.x+z,ee.y+ae,te.x+z,te.y+ae,ie.x+z,ie.y+ae,oe.x+z,oe.y+ae];if(Rn(t,e,se))return x(D),!0}else if(Es(F,t,e))return x(D),!0}}for(var A=o.length-1;A>=0;A--){var _=o[A];_.isNode()?v(_)||T(_):C(_)||T(_)||T(_,"source")||T(_,"target")}return l};Eo.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=this.cy.zoom(),o=2/i,l=[],u=Math.min(t,r),f=Math.max(t,r),c=Math.min(e,n),h=Math.max(e,n);t=u,r=f,e=c,n=h;var p=Nn({x1:t,y1:e,x2:r,y2:n});function y(q,M,P){return Mn(q,M,P)}function g(q,M){var P=q._private,N=o,I="";q.boundingBox();var z=P.labelBounds.main,ae=y(P.rscratch,"labelX",M),re=y(P.rscratch,"labelY",M),K=y(P.rscratch,"labelAngle",M),W=q.pstyle(I+"text-margin-x").pfValue,Z=q.pstyle(I+"text-margin-y").pfValue,U=z.x1-N-W,V=z.x2+N-W,Y=z.y1-N-Z,ee=z.y2+N-Z;if(K){var oe=Math.cos(K),te=Math.sin(K),ie=function($,ne){return $=$-ae,ne=ne-re,{x:$*oe-ne*te+ae,y:$*te+ne*oe+re}};return[ie(U,Y),ie(V,Y),ie(V,ee),ie(U,ee)]}else return[{x:U,y:Y},{x:V,y:Y},{x:V,y:ee},{x:U,y:ee}]}for(var E=0;E<a.length;E++){var x=a[E];if(x.isNode()){var v=x,C=v.pstyle("text-events").strValue==="yes",w=v.pstyle("box-select-labels").strValue==="yes",T=v.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:w&&C});if(S1(p,T)){var A=g(v),_=[{x:p.x1,y:p.y1},{x:p.x2,y:p.y1},{x:p.x2,y:p.y2},{x:p.x1,y:p.y2}];eG(A,_)&&l.push(v)}}else{var D=x,R=D._private,k=R.rscratch;if(k.startX!=null&&k.startY!=null&&!Es(p,k.startX,k.startY)||k.endX!=null&&k.endY!=null&&!Es(p,k.endX,k.endY))continue;if(k.edgeType==="bezier"||k.edgeType==="multibezier"||k.edgeType==="self"||k.edgeType==="compound"||k.edgeType==="segments"||k.edgeType==="haystack"){for(var B=R.rstyle.bezierPts||R.rstyle.linePts||R.rstyle.haystackPts,G=!0,F=0;F<B.length;F++)if(!Hz(p,B[F])){G=!1;break}G&&l.push(D)}else(k.edgeType==="haystack"||k.edgeType==="straight")&&l.push(D)}}return l};var ac={};ac.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",o=e.edgeType==="compound",l=e.edgeType==="self",u,f,c,h,p,y,v,C;if(r?(c=e.haystackPts[0],h=e.haystackPts[1],p=e.haystackPts[2],y=e.haystackPts[3]):(c=e.arrowStartX,h=e.arrowStartY,p=e.arrowEndX,y=e.arrowEndY),v=e.midX,C=e.midY,i)u=c-e.segpts[0],f=h-e.segpts[1];else if(a||o||l||n){var g=e.allpts,E=Wr(g[0],g[2],g[4],.1),x=Wr(g[1],g[3],g[5],.1);u=c-E,f=h-x}else u=c-v,f=h-C;e.srcArrowAngle=af(u,f);var v=e.midX,C=e.midY;if(r&&(v=(c+p)/2,C=(h+y)/2),u=p-c,f=y-h,i){var g=e.allpts;if(g.length/2%2===0){var w=g.length/2,T=w-2;u=g[w]-g[T],f=g[w+1]-g[T+1]}else if(e.isRound)u=e.midVector[1],f=-e.midVector[0];else{var w=g.length/2-1,T=w-2;u=g[w]-g[T],f=g[w+1]-g[T+1]}}else if(a||o||l){var g=e.allpts,A=e.ctrlpts,_,D,R,k;if(A.length/2%2===0){var B=g.length/2-1,G=B+2,F=G+2;_=Wr(g[B],g[G],g[F],0),D=Wr(g[B+1],g[G+1],g[F+1],0),R=Wr(g[B],g[G],g[F],1e-4),k=Wr(g[B+1],g[G+1],g[F+1],1e-4)}else{var G=g.length/2-1,B=G-2,F=G+2;_=Wr(g[B],g[G],g[F],.4999),D=Wr(g[B+1],g[G+1],g[F+1],.4999),R=Wr(g[B],g[G],g[F],.5),k=Wr(g[B+1],g[G+1],g[F+1],.5)}u=R-_,f=k-D}if(e.midtgtArrowAngle=af(u,f),e.midDispX=u,e.midDispY=f,u*=-1,f*=-1,i){var g=e.allpts;if(g.length/2%2!==0){if(!e.isRound){var w=g.length/2-1,q=w+2;u=-(g[q]-g[w]),f=-(g[q+1]-g[w+1])}}}if(e.midsrcArrowAngle=af(u,f),i)u=p-e.segpts[e.segpts.length-2],f=y-e.segpts[e.segpts.length-1];else if(a||o||l||n){var g=e.allpts,M=g.length,E=Wr(g[M-6],g[M-4],g[M-2],.9),x=Wr(g[M-5],g[M-3],g[M-1],.9);u=p-E,f=y-x}else u=p-v,f=y-C;e.tgtArrowAngle=af(u,f)};ac.getArrowWidth=ac.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Ub,Wb,wa={},Un={},KT,jT,ho,Df,Ha,ro,lo,ya,ns,hf,Zk,Qk,Vb,$b,ZT,QT=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},cU=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},dU=function(e,r,n,a,i){if(e!==ZT?QT(r,e,wa):cU(Un,wa),QT(r,n,Un),KT=wa.nx*Un.ny-wa.ny*Un.nx,jT=wa.nx*Un.nx-wa.ny*-Un.ny,Ha=Math.asin(Math.max(-1,Math.min(1,KT))),Math.abs(Ha)<1e-6){Ub=r.x,Wb=r.y,lo=ns=0;return}ho=1,Df=!1,jT<0?Ha<0?Ha=Math.PI+Ha:(Ha=Math.PI-Ha,ho=-1,Df=!0):Ha>0&&(ho=-1,Df=!0),r.radius!==void 0?ns=r.radius:ns=a,ro=Ha/2,hf=Math.min(wa.len/2,Un.len/2),i?(ya=Math.abs(Math.cos(ro)*ns/Math.sin(ro)),ya>hf?(ya=hf,lo=Math.abs(ya*Math.sin(ro)/Math.cos(ro))):lo=ns):(ya=Math.min(hf,ns),lo=Math.abs(ya*Math.sin(ro)/Math.cos(ro))),Vb=r.x+Un.nx*ya,$b=r.y+Un.ny*ya,Ub=Vb-Un.ny*lo*ho,Wb=$b+Un.nx*lo*ho,Zk=r.x+wa.nx*ya,Qk=r.y+wa.ny*ya,ZT=r};function Jk(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function F1(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(dU(t,e,r,n,a),{cx:Ub,cy:Wb,radius:lo,startX:Zk,startY:Qk,stopX:Vb,stopY:$b,startAngle:wa.ang+Math.PI/2*ho,endAngle:Un.ang-Math.PI/2*ho,counterClockwise:Df})}var eu=.01,hU=Math.sqrt(2*eu),pn={};pn.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,o=t.pstyle("source-endpoint"),l=t.pstyle("target-endpoint"),u=o.units!=null&&l.units!=null,f=function(A,_,D,R){var k=R-_,B=D-A,G=Math.sqrt(B*B+k*k);return{x:-k/G,y:B/G}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(u){var h=this.manualEndptToPx(t.source()[0],o),p=Br(h,2),y=p[0],g=p[1],E=this.manualEndptToPx(t.target()[0],l),x=Br(E,2),v=x[0],C=x[1],w={x1:y,y1:g,x2:v,y2:C};a=f(y,g,v,C),i=w}else $t("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};pn.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,l=n.target,u=o.position(),f=l.position(),c=o.width(),h=l.width(),p=o.height(),y=l.height(),g=r.pstyle("haystack-radius").value,E=g/2;a.haystackPts=a.allpts=[a.source.x*c*E+u.x,a.source.y*p*E+u.y,a.target.x*h*E+f.x,a.target.y*y*E+f.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};pn.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),i=t.pstyle("segment-radii"),o=t.pstyle("radius-type"),l=Math.min(n.pfValue.length,a.pfValue.length),u=i.pfValue[i.pfValue.length-1],f=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<l;c++){var h=n.pfValue[c],p=a.pfValue[c],y=1-h,g=h,E=this.findMidptPtsEtc(t,e),x=E.midptPts,v=E.vectorNormInverse,C={x:x.x1*y+x.x2*g,y:x.y1*y+x.y2*g};r.segpts.push(C.x+v.x*p,C.y+v.y*p),r.radii.push(i.pfValue[c]!==void 0?i.pfValue[c]:u),r.isArcRadius.push((o.pfValue[c]!==void 0?o.pfValue[c]:f)==="arc-radius")}};pn.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,o=e.srcPos,l=t.pstyle("control-point-distances"),u=l?l.pfValue[0]:void 0,f=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,h=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var p=r,y=h;n&&(p=0,y=u);var g=f-Math.PI/2,E=g-c/2,x=g+c/2,v=f+"_"+c;p=i[v]===void 0?i[v]=0:++i[v],a.ctrlpts=[o.x+Math.cos(E)*1.4*y*(p/3+1),o.y+Math.sin(E)*1.4*y*(p/3+1),o.x+Math.cos(x)*1.4*y*(p/3+1),o.y+Math.sin(x)*1.4*y*(p/3+1)]};pn.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,o=e.tgtPos,l=e.srcW,u=e.srcH,f=e.tgtW,c=e.tgtH,h=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),y=p?p.pfValue[0]:void 0,g=r,E=h;n&&(g=0,E=y);var x=50,v={x:i.x-l/2,y:i.y-u/2},C={x:o.x-f/2,y:o.y-c/2},w={x:Math.min(v.x,C.x),y:Math.min(v.y,C.y)},T=.5,A=Math.max(T,Math.log(l*eu)),_=Math.max(T,Math.log(f*eu));a.ctrlpts=[w.x,w.y-(1+Math.pow(x,1.12)/100)*E*(g/3+1)*A,w.x-(1+Math.pow(x,1.12)/100)*E*(g/3+1)*_,w.y]};pn.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};pn.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,o=t.pstyle("control-point-step-size").pfValue,l=t.pstyle("control-point-distances"),u=t.pstyle("control-point-weights"),f=l&&u?Math.min(l.value.length,u.value.length):1,c=l?l.pfValue[0]:void 0,h=u.value[0],p=n;i.edgeType=p?"multibezier":"bezier",i.ctrlpts=[];for(var y=0;y<f;y++){var g=(.5-e.eles.length/2+r)*o*(a?-1:1),E=void 0,x=T1(g);p&&(c=l?l.pfValue[y]:o,h=u.value[y]),n?E=c:E=c!==void 0?x*c:void 0;var v=E!==void 0?E:g,C=1-h,w=h,T=this.findMidptPtsEtc(t,e),A=T.midptPts,_=T.vectorNormInverse,D={x:A.x1*C+A.x2*w,y:A.y1*C+A.y2*w};i.ctrlpts.push(D.x+_.x*v,D.y+_.y*v)}};pn.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",l="downward",u="upward",f="auto",c=e.posPts,h=e.srcW,p=e.srcH,y=e.tgtW,g=e.tgtH,E=t.pstyle("edge-distances").value,x=E!=="node-position",v=t.pstyle("taxi-direction").value,C=v,w=t.pstyle("taxi-turn"),T=w.units==="%",A=w.pfValue,_=A<0,D=t.pstyle("taxi-turn-min-distance").pfValue,R=x?(h+y)/2:0,k=x?(p+g)/2:0,B=c.x2-c.x1,G=c.y2-c.y1,F=function(j,pe){return j>0?Math.max(j-pe,0):Math.min(j+pe,0)},q=F(B,R),M=F(G,k),P=!1;C===f?v=Math.abs(q)>Math.abs(M)?a:n:C===u||C===l?(v=n,P=!0):(C===i||C===o)&&(v=a,P=!0);var N=v===n,I=N?M:q,z=N?G:B,ae=T1(z),re=!1;!(P&&(T||_))&&(C===l&&z<0||C===u&&z>0||C===i&&z>0||C===o&&z<0)&&(ae*=-1,I=ae*Math.abs(I),re=!0);var K;if(T){var W=A<0?1+A:A;K=W*I}else{var Z=A<0?I:0;K=Z+A*ae}var U=function(j){return Math.abs(j)<D||Math.abs(j)>=Math.abs(I)},V=U(K),Y=U(Math.abs(I)-Math.abs(K)),ee=V||Y;if(ee&&!re)if(N){var oe=Math.abs(z)<=p/2,te=Math.abs(B)<=y/2;if(oe){var ie=(c.x1+c.x2)/2,se=c.y1,$=c.y2;r.segpts=[ie,se,ie,$]}else if(te){var ne=(c.y1+c.y2)/2,le=c.x1,Se=c.x2;r.segpts=[le,ne,Se,ne]}else r.segpts=[c.x1,c.y2]}else{var _e=Math.abs(z)<=h/2,be=Math.abs(G)<=g/2;if(_e){var Te=(c.y1+c.y2)/2,ve=c.x1,de=c.x2;r.segpts=[ve,Te,de,Te]}else if(be){var ye=(c.x1+c.x2)/2,Ce=c.y1,ue=c.y2;r.segpts=[ye,Ce,ye,ue]}else r.segpts=[c.x2,c.y1]}else if(N){var Ae=c.y1+K+(x?p/2*ae:0),Pe=c.x1,Fe=c.x2;r.segpts=[Pe,Ae,Fe,Ae]}else{var Ye=c.x1+K+(x?h/2*ae:0),We=c.y1,Qe=c.y2;r.segpts=[Ye,We,Ye,Qe]}if(r.isRound){var Xe=t.pstyle("taxi-radius").value,Ve=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Xe),r.isArcRadius=new Array(r.segpts.length/2).fill(Ve)}};pn.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,o=e.srcH,l=e.tgtW,u=e.tgtH,f=e.srcShape,c=e.tgtShape,h=e.srcCornerRadius,p=e.tgtCornerRadius,y=e.srcRs,g=e.tgtRs,E=!at(r.startX)||!at(r.startY),x=!at(r.arrowStartX)||!at(r.arrowStartY),v=!at(r.endX)||!at(r.endY),C=!at(r.arrowEndX)||!at(r.arrowEndY),w=3,T=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,A=w*T,_=mo({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),D=_<A,R=mo({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),k=R<A,B=!1;if(E||x||D){B=!0;var G={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},F=Math.sqrt(G.x*G.x+G.y*G.y),q={x:G.x/F,y:G.y/F},M=Math.max(i,o),P={x:r.ctrlpts[0]+q.x*2*M,y:r.ctrlpts[1]+q.y*2*M},N=f.intersectLine(n.x,n.y,i,o,P.x,P.y,0,h,y);D?(r.ctrlpts[0]=r.ctrlpts[0]+q.x*(A-_),r.ctrlpts[1]=r.ctrlpts[1]+q.y*(A-_)):(r.ctrlpts[0]=N[0]+q.x*A,r.ctrlpts[1]=N[1]+q.y*A)}if(v||C||k){B=!0;var I={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},z=Math.sqrt(I.x*I.x+I.y*I.y),ae={x:I.x/z,y:I.y/z},re=Math.max(i,o),K={x:r.ctrlpts[0]+ae.x*2*re,y:r.ctrlpts[1]+ae.y*2*re},W=c.intersectLine(a.x,a.y,l,u,K.x,K.y,0,p,g);k?(r.ctrlpts[0]=r.ctrlpts[0]+ae.x*(A-R),r.ctrlpts[1]=r.ctrlpts[1]+ae.y*(A-R)):(r.ctrlpts[0]=W[0]+ae.x*A,r.ctrlpts[1]=W[1]+ae.y*A)}B&&this.findEndpoints(t)}};pn.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=Wr(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=Wr(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var o=e.radii[i/2-1],l=e.isArcRadius[i/2-1];e.roundCorners.push(F1({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:o},{x:e.allpts[i+2],y:e.allpts[i+3]},o,l))}}if(e.segpts.length%4===0){var u=e.segpts.length/2,f=u-2;e.midX=(e.segpts[f]+e.segpts[u])/2,e.midY=(e.segpts[f+1]+e.segpts[u+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var h={x:e.segpts[c],y:e.segpts[c+1]},p=e.roundCorners[c/2];if(p.radius===0){var y={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=h.x,e.midY=h.y,e.midVector=[h.y-y.y,y.x-h.x]}else{var g=[h.x-p.cx,h.y-p.cy],E=p.radius/Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2));g=g.map(function(x){return x*E}),e.midX=p.cx+g[0],e.midY=p.cy+g[1],e.midVector=g}}}}};pn.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||at(e.startX)&&at(e.startY)&&at(e.endX)&&at(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,$t("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};pn.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i=new Ya,o=function(k,B){return[].concat(Xf(k),[B?1:0]).join("-")},l=[],u=[],f=0;f<t.length;f++){var c=t[f],h=c._private,p=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(p==="haystack"){u.push(c);continue}var y=p==="unbundled-bezier"||p.endsWith("segments")||p==="straight"||p==="straight-triangle"||p.endsWith("taxi"),g=p==="unbundled-bezier"||p==="bezier",E=h.source,x=h.target,v=E.poolIndex(),C=x.poolIndex(),w=[v,C].sort(),T=o(w,y),A=i.get(T);A==null&&(A={eles:[]},l.push({pairId:w,edgeIsUnbundled:y}),i.set(T,A)),A.eles.push(c),y&&(A.hasUnbundled=!0),g&&(A.hasBezier=!0)}}for(var _=function(){var k=l[D],B=k.pairId,G=k.edgeIsUnbundled,F=o(B,G),q=i.get(F),M;if(!q.hasUnbundled){var P=q.eles[0].parallelEdges().filter(function(Ve){return Ve.isBundledBezier()});C1(q.eles),P.forEach(function(Ve){return q.eles.push(Ve)}),q.eles.sort(function(Ve,he){return Ve.poolIndex()-he.poolIndex()})}var N=q.eles[0],I=N.source(),z=N.target();if(I.poolIndex()>z.poolIndex()){var ae=I;I=z,z=ae}var re=q.srcPos=I.position(),K=q.tgtPos=z.position(),W=q.srcW=I.outerWidth(),Z=q.srcH=I.outerHeight(),U=q.tgtW=z.outerWidth(),V=q.tgtH=z.outerHeight(),Y=q.srcShape=r.nodeShapes[e.getNodeShape(I)],ee=q.tgtShape=r.nodeShapes[e.getNodeShape(z)],oe=q.srcCornerRadius=I.pstyle("corner-radius").value==="auto"?"auto":I.pstyle("corner-radius").pfValue,te=q.tgtCornerRadius=z.pstyle("corner-radius").value==="auto"?"auto":z.pstyle("corner-radius").pfValue,ie=q.tgtRs=z._private.rscratch,se=q.srcRs=I._private.rscratch;q.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var $=0;$<q.eles.length;$++){var ne=q.eles[$],le=ne[0]._private.rscratch,Se=ne.pstyle("curve-style").value,_e=Se==="unbundled-bezier"||Se.endsWith("segments")||Se.endsWith("taxi"),be=!I.same(ne.source());if(!q.calculatedIntersection&&I!==z&&(q.hasBezier||q.hasUnbundled)){q.calculatedIntersection=!0;var Te=Y.intersectLine(re.x,re.y,W,Z,K.x,K.y,0,oe,se),ve=q.srcIntn=Te,de=ee.intersectLine(K.x,K.y,U,V,re.x,re.y,0,te,ie),ye=q.tgtIntn=de,Ce=q.intersectionPts={x1:Te[0],x2:de[0],y1:Te[1],y2:de[1]},ue=q.posPts={x1:re.x,x2:K.x,y1:re.y,y2:K.y},Ae=de[1]-Te[1],Pe=de[0]-Te[0],Fe=Math.sqrt(Pe*Pe+Ae*Ae);at(Fe)&&Fe>=hU||(Fe=Math.sqrt(Math.max(Pe*Pe,eu)+Math.max(Ae*Ae,eu)));var Ye=q.vector={x:Pe,y:Ae},We=q.vectorNorm={x:Ye.x/Fe,y:Ye.y/Fe},Qe={x:-We.y,y:We.x};q.nodesOverlap=!at(Fe)||ee.checkPoint(Te[0],Te[1],0,U,V,K.x,K.y,te,ie)||Y.checkPoint(de[0],de[1],0,W,Z,re.x,re.y,oe,se),q.vectorNormInverse=Qe,M={nodesOverlap:q.nodesOverlap,dirCounts:q.dirCounts,calculatedIntersection:!0,hasBezier:q.hasBezier,hasUnbundled:q.hasUnbundled,eles:q.eles,srcPos:K,srcRs:ie,tgtPos:re,tgtRs:se,srcW:U,srcH:V,tgtW:W,tgtH:Z,srcIntn:ye,tgtIntn:ve,srcShape:ee,tgtShape:Y,posPts:{x1:ue.x2,y1:ue.y2,x2:ue.x1,y2:ue.y1},intersectionPts:{x1:Ce.x2,y1:Ce.y2,x2:Ce.x1,y2:Ce.y1},vector:{x:-Ye.x,y:-Ye.y},vectorNorm:{x:-We.x,y:-We.y},vectorNormInverse:{x:-Qe.x,y:-Qe.y}}}var Xe=be?M:q;le.nodesOverlap=Xe.nodesOverlap,le.srcIntn=Xe.srcIntn,le.tgtIntn=Xe.tgtIntn,le.isRound=Se.startsWith("round"),a&&(I.isParent()||I.isChild()||z.isParent()||z.isChild())&&(I.parents().anySame(z)||z.parents().anySame(I)||I.same(z)&&I.isParent())?e.findCompoundLoopPoints(ne,Xe,$,_e):I===z?e.findLoopPoints(ne,Xe,$,_e):Se.endsWith("segments")?e.findSegmentsPoints(ne,Xe):Se.endsWith("taxi")?e.findTaxiPoints(ne,Xe):Se==="straight"||!_e&&q.eles.length%2===1&&$===Math.floor(q.eles.length/2)?e.findStraightEdgePoints(ne):e.findBezierPoints(ne,Xe,$,_e,be),e.findEndpoints(ne),e.tryToCorrectInvalidPoints(ne,Xe),e.checkForInvalidEdgeWarning(ne),e.storeAllpts(ne),e.storeEdgeProjections(ne),e.calculateArrowAngles(ne),e.recalculateEdgeLabelProjections(ne),e.calculateLabelAngles(ne)}},D=0;D<l.length;D++)_();this.findHaystackPoints(u)}};function eN(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}pn.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return eN(e.segpts)};pn.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return eN(e.ctrlpts)};pn.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var vu={};vu.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight(),o=t._private.rscratch;if(e.value.length===2){var l=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(l[0]=l[0]*a),e.units[1]==="%"&&(l[1]=l[1]*i),l[0]+=n.x,l[1]+=n.y,l}else{var u=e.pfValue[0];u=-Math.PI/2+u;var f=2*Math.max(a,i),c=[n.x+Math.cos(u)*f,n.y+Math.sin(u)*f];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,o)}};vu.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],i=n.position(),o=a.position(),l=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,f=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,h=n._private.rscratch,p=a._private.rscratch,y=t.pstyle("curve-style").value,g=t._private.rscratch,E=g.edgeType,x=y==="taxi",v=E==="self"||E==="compound",C=E==="bezier"||E==="multibezier"||v,w=E!=="bezier",T=E==="straight"||E==="segments",A=E==="segments",_=C||w||T,D=v||x,R=t.pstyle("source-endpoint"),k=D?"outside-to-node":R.value,B=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,G=t.pstyle("target-endpoint"),F=D?"outside-to-node":G.value,q=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;g.srcManEndpt=R,g.tgtManEndpt=G;var M,P,N,I;if(C){var z=[g.ctrlpts[0],g.ctrlpts[1]],ae=w?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:z;M=ae,P=z}else if(T){var re=A?g.segpts.slice(0,2):[o.x,o.y],K=A?g.segpts.slice(g.segpts.length-2):[i.x,i.y];M=K,P=re}if(F==="inside-to-node")r=[o.x,o.y];else if(G.units)r=this.manualEndptToPx(a,G);else if(F==="outside-to-line")r=g.tgtIntn;else if(F==="outside-to-node"||F==="outside-to-node-or-label"?N=M:(F==="outside-to-line"||F==="outside-to-line-or-label")&&(N=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(o.x,o.y,a.outerWidth(),a.outerHeight(),N[0],N[1],0,q,p),F==="outside-to-node-or-label"||F==="outside-to-line-or-label"){var W=a._private.rscratch,Z=W.labelWidth,U=W.labelHeight,V=W.labelX,Y=W.labelY,ee=Z/2,oe=U/2,te=a.pstyle("text-valign").value;te==="top"?Y-=oe:te==="bottom"&&(Y+=oe);var ie=a.pstyle("text-halign").value;ie==="left"?V-=ee:ie==="right"&&(V+=ee);var se=Kl(N[0],N[1],[V-ee,Y-oe,V+ee,Y-oe,V+ee,Y+oe,V-ee,Y+oe],o.x,o.y);if(se.length>0){var $=i,ne=oo($,us(r)),le=oo($,us(se)),Se=ne;if(le<ne&&(r=se,Se=le),se.length>2){var _e=oo($,{x:se[2],y:se[3]});_e<Se&&(r=[se[2],se[3]])}}}var be=of(r,M,e.arrowShapes[l].spacing(t)+f),Te=of(r,M,e.arrowShapes[l].gap(t)+f);if(g.endX=Te[0],g.endY=Te[1],g.arrowEndX=be[0],g.arrowEndY=be[1],k==="inside-to-node")r=[i.x,i.y];else if(R.units)r=this.manualEndptToPx(n,R);else if(k==="outside-to-line")r=g.srcIntn;else if(k==="outside-to-node"||k==="outside-to-node-or-label"?I=P:(k==="outside-to-line"||k==="outside-to-line-or-label")&&(I=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),I[0],I[1],0,B,h),k==="outside-to-node-or-label"||k==="outside-to-line-or-label"){var ve=n._private.rscratch,de=ve.labelWidth,ye=ve.labelHeight,Ce=ve.labelX,ue=ve.labelY,Ae=de/2,Pe=ye/2,Fe=n.pstyle("text-valign").value;Fe==="top"?ue-=Pe:Fe==="bottom"&&(ue+=Pe);var Ye=n.pstyle("text-halign").value;Ye==="left"?Ce-=Ae:Ye==="right"&&(Ce+=Ae);var We=Kl(I[0],I[1],[Ce-Ae,ue-Pe,Ce+Ae,ue-Pe,Ce+Ae,ue+Pe,Ce-Ae,ue+Pe],i.x,i.y);if(We.length>0){var Qe=o,Xe=oo(Qe,us(r)),Ve=oo(Qe,us(We)),he=Xe;if(Ve<Xe&&(r=[We[0],We[1]],he=Ve),We.length>2){var j=oo(Qe,{x:We[2],y:We[3]});j<he&&(r=[We[2],We[3]])}}}var pe=of(r,P,e.arrowShapes[u].spacing(t)+c),me=of(r,P,e.arrowShapes[u].gap(t)+c);g.startX=me[0],g.startY=me[1],g.arrowStartX=pe[0],g.arrowStartY=pe[1],_&&(!at(g.startX)||!at(g.startY)||!at(g.endX)||!at(g.endY)?g.badLine=!0:g.badLine=!1)};vu.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};vu.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var B1={};function vU(t,e,r){for(var n=function(f,c,h,p){return Wr(f,c,h,p)},a=e._private,i=a.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var l=t.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}B1.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)vU(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};B1.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Da={};Da.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!_i(e)){var r,n,a=t._private,i=t.width(),o=t.height(),l=t.padding(),u=t.position(),f=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,h=a.rscratch,p=a.rstyle;switch(f){case"left":r=u.x-i/2-l;break;case"right":r=u.x+i/2+l;break;default:r=u.x}switch(c){case"top":n=u.y-o/2-l;break;case"bottom":n=u.y+o/2+l;break;default:n=u.y}h.labelX=r,h.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var tN=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},rN=function(e,r){var n=r.x-e.x,a=r.y-e.y;return tN(n,a)},pU=function(e,r,n,a){var i=Xl(0,a-.001,1),o=Xl(0,a+.001,1),l=ms(e,r,n,i),u=ms(e,r,n,o);return rN(l,u)};Da.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var o=function(h,p,y){Wa(r.rscratch,h,p,y),Wa(r.rstyle,h,p,y)};o("labelX",null,e.x),o("labelY",null,e.y);var l=tN(n.midDispX,n.midDispY);o("labelAutoAngle",null,l);var u=function(){if(u.cache)return u.cache;for(var h=[],p=0;p+5<n.allpts.length;p+=4){var y={x:n.allpts[p],y:n.allpts[p+1]},g={x:n.allpts[p+2],y:n.allpts[p+3]},E={x:n.allpts[p+4],y:n.allpts[p+5]};h.push({p0:y,p1:g,p2:E,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,v=a.bezierProjPcts.length;function C(D,R,k,B,G){var F=mo(R,k),q=D.segments[D.segments.length-1],M={p0:R,p1:k,t0:B,t1:G,startDist:q?q.startDist+q.length:0,length:F};D.segments.push(M),D.length+=F}for(var w=0;w<h.length;w++){var T=h[w],A=h[w-1];A&&(T.startDist=A.startDist+A.length),C(T,T.p0,x[w*v],0,a.bezierProjPcts[0]);for(var _=0;_<v-1;_++)C(T,x[w*v+_],x[w*v+_+1],a.bezierProjPcts[_],a.bezierProjPcts[_+1]);C(T,x[w*v+v-1],T.p2,a.bezierProjPcts[v-1],1)}return u.cache=h},f=function(h){var p,y=h==="source";if(i[h]){var g=t.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var E=u(),x,v=0,C=0,w=0;w<E.length;w++){for(var T=E[y?w:E.length-1-w],A=0;A<T.segments.length;A++){var _=T.segments[y?A:T.segments.length-1-A],D=w===E.length-1&&A===T.segments.length-1;if(v=C,C+=_.length,C>=g||D){x={cp:T,segment:_};break}}if(x)break}var R=x.cp,k=x.segment,B=(g-v)/k.length,G=k.t1-k.t0,F=y?k.t0+G*B:k.t1-G*B;F=Xl(0,F,1),e=ms(R.p0,R.p1,R.p2,F),p=pU(R.p0,R.p1,R.p2,F);break}case"straight":case"segments":case"haystack":{for(var q=0,M,P,N,I,z=n.allpts.length,ae=0;ae+3<z&&(y?(N={x:n.allpts[ae],y:n.allpts[ae+1]},I={x:n.allpts[ae+2],y:n.allpts[ae+3]}):(N={x:n.allpts[z-2-ae],y:n.allpts[z-1-ae]},I={x:n.allpts[z-4-ae],y:n.allpts[z-3-ae]}),M=mo(N,I),P=q,q+=M,!(q>=g));ae+=2);var re=g-P,K=re/M;K=Xl(0,K,1),e=Fz(N,I,K),p=rN(N,I);break}}o("labelX",h,e.x),o("labelY",h,e.y),o("labelAutoAngle",h,p)}};f("source"),f("target"),this.applyLabelDimensions(t)}};Da.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Da.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=yo(n,t._private.labelDimsKey);if(Mn(r.rscratch,"prefixedLabelDimsKey",e)!==a){Wa(r.rscratch,"prefixedLabelDimsKey",e,a);var i=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,l=t.pstyle("text-wrap").strValue,u=Mn(r.rscratch,"labelWrapCachedLines",e)||[],f=l!=="wrap"?1:Math.max(u.length,1),c=i.height/f,h=c*o,p=i.width,y=i.height+(f-1)*(o-1)*c;Wa(r.rstyle,"labelWidth",e,p),Wa(r.rscratch,"labelWidth",e,p),Wa(r.rstyle,"labelHeight",e,y),Wa(r.rscratch,"labelHeight",e,y),Wa(r.rscratch,"labelLineHeight",e,h)}};Da.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,o=function(Z,U){return U?(Wa(r.rscratch,Z,e,U),U):Mn(r.rscratch,Z,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var l=t.pstyle("text-wrap").value;if(l==="wrap"){var u=o("labelKey");if(u!=null&&o("labelWrapKey")===u)return o("labelWrapCachedText");for(var f="​",c=a.split(`
`),h=t.pstyle("text-max-width").pfValue,p=t.pstyle("text-overflow-wrap").value,y=p==="anywhere",g=[],E=/[\s\u200b]+|$/g,x=0;x<c.length;x++){var v=c[x],C=this.calculateLabelDimensions(t,v),w=C.width;if(y){var T=v.split("").join(f);v=T}if(w>h){var A=v.matchAll(E),_="",D=0,R=Pn(A),k;try{for(R.s();!(k=R.n()).done;){var B=k.value,G=B[0],F=v.substring(D,B.index);D=B.index+G.length;var q=_.length===0?F:_+F+G,M=this.calculateLabelDimensions(t,q),P=M.width;P<=h?_+=F+G:(_&&g.push(_),_=F+G)}}catch(W){R.e(W)}finally{R.f()}_.match(/^[\s\u200b]+$/)||g.push(_)}else g.push(v)}o("labelWrapCachedLines",g),a=o("labelWrapCachedText",g.join(`
`)),o("labelWrapKey",u)}else if(l==="ellipsis"){var N=t.pstyle("text-max-width").pfValue,I="",z="…",ae=!1;if(this.calculateLabelDimensions(t,a).width<N)return a;for(var re=0;re<a.length;re++){var K=this.calculateLabelDimensions(t,I+a[re]+z).width;if(K>N)break;I+=a[re],re===a.length-1&&(ae=!0)}return ae||(I+=z),I}return a};Da.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Da.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),a=n.document,i=0,o=t.pstyle("font-style").strValue,l=t.pstyle("font-size").pfValue,u=t.pstyle("font-family").strValue,f=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=a.createElement("canvas"),h=this.labelCalcCanvasContext=c.getContext("2d");var p=c.style;p.position="absolute",p.left="-9999px",p.top="-9999px",p.zIndex="-1",p.visibility="hidden",p.pointerEvents="none"}h.font="".concat(o," ").concat(f," ").concat(l,"px ").concat(u);for(var y=0,g=0,E=e.split(`
`),x=0;x<E.length;x++){var v=E[x],C=h.measureText(v),w=Math.ceil(C.width),T=l;y=Math.max(w,y),g+=T}return y+=i,g+=i,{width:y,height:g}};Da.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),l=o.strValue;return l==="none"?0:a&&l==="autorotate"?n.labelAutoAngle:l==="autorotate"?0:o.pfValue};Da.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var nN={},JT=28,eS=!1;nN.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<JT||t.height()<JT))return eS||($t("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),eS=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var zc={};zc.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),l)for(var u=0;u<o.length;u++){var f=o[u],c=f._private,h=c.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){var l=o.target;n(l)}).on("style.* background.*",function(o){var l=o.target;n(l,!1)});var a=function(o){if(o){var l=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var f=e[u],c=f._private.rstyle;f.isNode()&&!c.cleanConnected&&(n(f.connectedEdges()),c.cleanConnected=!0)}if(l)for(var h=0;h<l.length;h++){var p=l[h];p(o,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};zc.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};zc.recalculateRenderedStyle=function(t,e){var r=function(T){return T._private.rstyle.cleanConnected};if(t.length!==0){var n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var o=t[i],l=o._private,u=l.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(u.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(w){return!w._private.rstyle.clean&&w.isBundledBezier()})&&(u.clean=!1),!(e&&u.clean||o.removed())&&o.pstyle("display").value!=="none"&&(l.group==="nodes"?a.push(o):n.push(o),u.clean=!0)}for(var f=0;f<a.length;f++){var c=a[f],h=c._private,p=h.rstyle,y=c.position();this.recalculateNodeLabelProjection(c),p.nodeX=y.x,p.nodeY=y.y,p.nodeW=c.pstyle("width").pfValue,p.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var g=0;g<n.length;g++){var E=n[g],x=E._private,v=x.rstyle,C=x.rscratch;v.srcX=C.arrowStartX,v.srcY=C.arrowStartY,v.tgtX=C.arrowEndX,v.tgtY=C.arrowEndY,v.midX=C.midX,v.midY=C.midY,v.labelAngle=C.labelAngle,v.sourceLabelAngle=C.sourceLabelAngle,v.targetLabelAngle=C.targetLabelAngle}}}};var Gc={};Gc.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Gc.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Gc.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Bk),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var aN={};[Eo,ac,pn,vu,B1,Da,nN,zc,Gc].forEach(function(t){xt(aN,t)});var iN={};iN.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var l="data:",u=t.substring(0,l.length).toLowerCase()===l;return u||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var Ms={};Ms.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var i=[],o=0;o<t.length;o++){var l=t[o];if(l!==void 0){var u=this.binder(l);i.push(u.on.apply(u,a))}}return i}var u=this.binder(t);return u.on.apply(u,a)};Ms.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||Mq(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var o=function(u,f,c){var h=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(h[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:h}),(t.addEventListener||t.on).apply(t,h),this};return{on:o,addEventListener:o,addListener:o,bind:o}};Ms.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Ms.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Ms.load=function(){var t=this,e=t.cy.window(),r=function(j){return j.selected()},n=function(j){var pe=j.getRootNode();if(pe&&pe.nodeType===11&&pe.host!==void 0)return pe},a=function(j,pe,me,we){j==null&&(j=t.cy);for(var xe=0;xe<pe.length;xe++){var qe=pe[xe];j.emit({originalEvent:me,type:qe,position:we})}},i=function(j){return j.shiftKey||j.metaKey||j.ctrlKey},o=function(j,pe){var me=!0;if(t.cy.hasCompoundNodes()&&j&&j.pannable())for(var we=0;pe&&we<pe.length;we++){var j=pe[we];if(j.isNode()&&j.isParent()&&!j.pannable()){me=!1;break}}else me=!0;return me},l=function(j){j[0]._private.grabbed=!0},u=function(j){j[0]._private.grabbed=!1},f=function(j){j[0]._private.rscratch.inDragLayer=!0},c=function(j){j[0]._private.rscratch.inDragLayer=!1},h=function(j){j[0]._private.rscratch.isGrabTarget=!0},p=function(j){j[0]._private.rscratch.isGrabTarget=!1},y=function(j,pe){var me=pe.addToList,we=me.has(j);!we&&j.grabbable()&&!j.locked()&&(me.merge(j),l(j))},g=function(j,pe){if(j.cy().hasCompoundNodes()&&!(pe.inDragLayer==null&&pe.addToList==null)){var me=j.descendants();pe.inDragLayer&&(me.forEach(f),me.connectedEdges().forEach(f)),pe.addToList&&y(me,pe)}},E=function(j,pe){pe=pe||{};var me=j.cy().hasCompoundNodes();pe.inDragLayer&&(j.forEach(f),j.neighborhood().stdFilter(function(we){return!me||we.isEdge()}).forEach(f)),pe.addToList&&j.forEach(function(we){y(we,pe)}),g(j,pe),C(j,{inDragLayer:pe.inDragLayer}),t.updateCachedGrabbedEles()},x=E,v=function(j){j&&(t.getCachedZSortedEles().forEach(function(pe){u(pe),c(pe),p(pe)}),t.updateCachedGrabbedEles())},C=function(j,pe){if(!(pe.inDragLayer==null&&pe.addToList==null)&&j.cy().hasCompoundNodes()){var me=j.ancestors().orphans();if(!me.same(j)){var we=me.descendants().spawnSelf().merge(me).unmerge(j).unmerge(j.descendants()),xe=we.connectedEdges();pe.inDragLayer&&(xe.forEach(f),we.forEach(f)),pe.addToList&&we.forEach(function(qe){y(qe,pe)})}}},w=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},T=typeof MutationObserver<"u",A=typeof ResizeObserver<"u";T?(t.removeObserver=new MutationObserver(function(he){for(var j=0;j<he.length;j++){var pe=he[j],me=pe.removedNodes;if(me)for(var we=0;we<me.length;we++){var xe=me[we];if(xe===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(he){t.destroy()});var _=fu(function(){t.cy.resize()},100);T&&(t.styleObserver=new MutationObserver(_),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",_),A&&(t.resizeObserver=new ResizeObserver(_),t.resizeObserver.observe(t.container));var D=function(j,pe){for(;j!=null;)pe(j),j=j.parentNode},R=function(){t.invalidateContainerClientCoordsCache()};D(t.container,function(he){t.registerBinding(he,"transitionend",R),t.registerBinding(he,"animationend",R),t.registerBinding(he,"scroll",R)}),t.registerBinding(t.container,"contextmenu",function(he){he.preventDefault()});var k=function(){return t.selection[4]!==0},B=function(j){for(var pe=t.findContainerClientCoords(),me=pe[0],we=pe[1],xe=pe[2],qe=pe[3],Ee=j.touches?j.touches:[j],Oe=!1,Ie=0;Ie<Ee.length;Ie++){var He=Ee[Ie];if(me<=He.clientX&&He.clientX<=me+xe&&we<=He.clientY&&He.clientY<=we+qe){Oe=!0;break}}if(!Oe)return!1;for(var Ue=t.container,je=j.target,Je=je.parentNode,Ge=!1;Je;){if(Je===Ue){Ge=!0;break}Je=Je.parentNode}return!!Ge};t.registerBinding(t.container,"mousedown",function(j){if(B(j)&&!(t.hoverData.which===1&&j.which!==1)){j.preventDefault(),w(),t.hoverData.capture=!0,t.hoverData.which=j.which;var pe=t.cy,me=[j.clientX,j.clientY],we=t.projectIntoViewport(me[0],me[1]),xe=t.selection,qe=t.findNearestElements(we[0],we[1],!0,!1),Ee=qe[0],Oe=t.dragData.possibleDragElements;t.hoverData.mdownPos=we,t.hoverData.mdownGPos=me;var Ie=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var $e=t.hoverData.down;$e?$e.emit({originalEvent:j,type:"taphold",position:{x:we[0],y:we[1]}}):pe.emit({originalEvent:j,type:"taphold",position:{x:we[0],y:we[1]}})}},t.tapholdDuration)};if(j.which==3){t.hoverData.cxtStarted=!0;var He={originalEvent:j,type:"cxttapstart",position:{x:we[0],y:we[1]}};Ee?(Ee.activate(),Ee.emit(He),t.hoverData.down=Ee):pe.emit(He),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(j.which==1){Ee&&Ee.activate();{if(Ee!=null&&t.nodeIsGrabbable(Ee)){var Ue=function($e){return{originalEvent:j,type:$e,position:{x:we[0],y:we[1]}}},je=function($e){$e.emit(Ue("grab"))};if(h(Ee),!Ee.selected())Oe=t.dragData.possibleDragElements=pe.collection(),x(Ee,{addToList:Oe}),Ee.emit(Ue("grabon")).emit(Ue("grab"));else{Oe=t.dragData.possibleDragElements=pe.collection();var Je=pe.$(function(Ge){return Ge.isNode()&&Ge.selected()&&t.nodeIsGrabbable(Ge)});E(Je,{addToList:Oe}),Ee.emit(Ue("grabon")),Je.forEach(je)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Ee,t.hoverData.downs=qe,t.hoverData.downTime=new Date().getTime()}a(Ee,["mousedown","tapstart","vmousedown"],j,{x:we[0],y:we[1]}),Ee==null?(xe[4]=1,t.data.bgActivePosistion={x:we[0],y:we[1]},t.redrawHint("select",!0),t.redraw()):Ee.pannable()&&(xe[4]=1),Ie()}xe[0]=xe[2]=we[0],xe[1]=xe[3]=we[1]}},!1);var G=n(t.container);t.registerBinding([e,G],"mousemove",function(j){var pe=t.hoverData.capture;if(!(!pe&&!B(j))){var me=!1,we=t.cy,xe=we.zoom(),qe=[j.clientX,j.clientY],Ee=t.projectIntoViewport(qe[0],qe[1]),Oe=t.hoverData.mdownPos,Ie=t.hoverData.mdownGPos,He=t.selection,Ue=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Ue=t.findNearestElement(Ee[0],Ee[1],!0,!1));var je=t.hoverData.last,Je=t.hoverData.down,Ge=[Ee[0]-He[2],Ee[1]-He[3]],$e=t.dragData.possibleDragElements,vt;if(Ie){var nt=qe[0]-Ie[0],it=nt*nt,Et=qe[1]-Ie[1],ct=Et*Et,gt=it+ct;t.hoverData.isOverThresholdDrag=vt=gt>=t.desktopTapThreshold2}var Dt=i(j);vt&&(t.hoverData.tapholdCancelled=!0);var Mt=function(){var tr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];tr.length===0?(tr.push(Ge[0]),tr.push(Ge[1])):(tr[0]+=Ge[0],tr[1]+=Ge[1])};me=!0,a(Ue,["mousemove","vmousemove","tapdrag"],j,{x:Ee[0],y:Ee[1]});var Kt=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||we.emit({originalEvent:j,type:"boxstart",position:{x:Ee[0],y:Ee[1]}}),He[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(vt){var Lt={originalEvent:j,type:"cxtdrag",position:{x:Ee[0],y:Ee[1]}};Je?Je.emit(Lt):we.emit(Lt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Ue!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:j,type:"cxtdragout",position:{x:Ee[0],y:Ee[1]}}),t.hoverData.cxtOver=Ue,Ue&&Ue.emit({originalEvent:j,type:"cxtdragover",position:{x:Ee[0],y:Ee[1]}}))}}else if(t.hoverData.dragging){if(me=!0,we.panningEnabled()&&we.userPanningEnabled()){var Gt;if(t.hoverData.justStartedPan){var Sr=t.hoverData.mdownPos;Gt={x:(Ee[0]-Sr[0])*xe,y:(Ee[1]-Sr[1])*xe},t.hoverData.justStartedPan=!1}else Gt={x:Ge[0]*xe,y:Ge[1]*xe};we.panBy(Gt),we.emit("dragpan"),t.hoverData.dragged=!0}Ee=t.projectIntoViewport(j.clientX,j.clientY)}else if(He[4]==1&&(Je==null||Je.pannable())){if(vt){if(!t.hoverData.dragging&&we.boxSelectionEnabled()&&(Dt||!we.panningEnabled()||!we.userPanningEnabled()))Kt();else if(!t.hoverData.selecting&&we.panningEnabled()&&we.userPanningEnabled()){var on=o(Je,t.hoverData.downs);on&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,He[4]=0,t.data.bgActivePosistion=us(Oe),t.redrawHint("select",!0),t.redraw())}Je&&Je.pannable()&&Je.active()&&Je.unactivate()}}else{if(Je&&Je.pannable()&&Je.active()&&Je.unactivate(),(!Je||!Je.grabbed())&&Ue!=je&&(je&&a(je,["mouseout","tapdragout"],j,{x:Ee[0],y:Ee[1]}),Ue&&a(Ue,["mouseover","tapdragover"],j,{x:Ee[0],y:Ee[1]}),t.hoverData.last=Ue),Je)if(vt){if(we.boxSelectionEnabled()&&Dt)Je&&Je.grabbed()&&(v($e),Je.emit("freeon"),$e.emit("free"),t.dragData.didDrag&&(Je.emit("dragfreeon"),$e.emit("dragfree"))),Kt();else if(Je&&Je.grabbed()&&t.nodeIsDraggable(Je)){var Rt=!t.dragData.didDrag;Rt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||E($e,{inDragLayer:!0});var er={x:0,y:0};if(at(Ge[0])&&at(Ge[1])&&(er.x+=Ge[0],er.y+=Ge[1],Rt)){var jt=t.hoverData.dragDelta;jt&&at(jt[0])&&at(jt[1])&&(er.x+=jt[0],er.y+=jt[1])}t.hoverData.draggingEles=!0,$e.silentShift(er).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Mt();me=!0}if(He[2]=Ee[0],He[3]=Ee[1],me)return j.stopPropagation&&j.stopPropagation(),j.preventDefault&&j.preventDefault(),!1}},!1);var F,q,M;t.registerBinding(e,"mouseup",function(j){if(!(t.hoverData.which===1&&j.which!==1&&t.hoverData.capture)){var pe=t.hoverData.capture;if(pe){t.hoverData.capture=!1;var me=t.cy,we=t.projectIntoViewport(j.clientX,j.clientY),xe=t.selection,qe=t.findNearestElement(we[0],we[1],!0,!1),Ee=t.dragData.possibleDragElements,Oe=t.hoverData.down,Ie=i(j);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Oe&&Oe.unactivate(),t.hoverData.which===3){var He={originalEvent:j,type:"cxttapend",position:{x:we[0],y:we[1]}};if(Oe?Oe.emit(He):me.emit(He),!t.hoverData.cxtDragged){var Ue={originalEvent:j,type:"cxttap",position:{x:we[0],y:we[1]}};Oe?Oe.emit(Ue):me.emit(Ue)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(a(qe,["mouseup","tapend","vmouseup"],j,{x:we[0],y:we[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(a(Oe,["click","tap","vclick"],j,{x:we[0],y:we[1]}),q=!1,j.timeStamp-M<=me.multiClickDebounceTime()?(F&&clearTimeout(F),q=!0,M=null,a(Oe,["dblclick","dbltap","vdblclick"],j,{x:we[0],y:we[1]})):(F=setTimeout(function(){q||a(Oe,["oneclick","onetap","voneclick"],j,{x:we[0],y:we[1]})},me.multiClickDebounceTime()),M=j.timeStamp)),Oe==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!i(j)&&(me.$(r).unselect(["tapunselect"]),Ee.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Ee=me.collection()),qe==Oe&&!t.dragData.didDrag&&!t.hoverData.selecting&&qe!=null&&qe._private.selectable&&(t.hoverData.dragging||(me.selectionType()==="additive"||Ie?qe.selected()?qe.unselect(["tapunselect"]):qe.select(["tapselect"]):Ie||(me.$(r).unmerge(qe).unselect(["tapunselect"]),qe.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var je=me.collection(t.getAllInBox(xe[0],xe[1],xe[2],xe[3]));t.redrawHint("select",!0),je.length>0&&t.redrawHint("eles",!0),me.emit({type:"boxend",originalEvent:j,position:{x:we[0],y:we[1]}});var Je=function(vt){return vt.selectable()&&!vt.selected()};me.selectionType()==="additive"||Ie||me.$(r).unmerge(je).unselect(),je.emit("box").stdFilter(Je).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!xe[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ge=Oe&&Oe.grabbed();v(Ee),Ge&&(Oe.emit("freeon"),Ee.emit("free"),t.dragData.didDrag&&(Oe.emit("dragfreeon"),Ee.emit("dragfree")))}}xe[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var P=[],N=4,I,z=1e5,ae=function(j,pe){for(var me=0;me<j.length;me++)if(j[me]%pe!==0)return!1;return!0},re=function(j){for(var pe=Math.abs(j[0]),me=1;me<j.length;me++)if(Math.abs(j[me])!==pe)return!1;return!0},K=function(j){var pe=!1,me=j.deltaY;if(me==null&&(j.wheelDeltaY!=null?me=j.wheelDeltaY/4:j.wheelDelta!=null&&(me=j.wheelDelta/4)),I==null)if(P.length>=N){var we=P;if(I=ae(we,5),!I){var xe=Math.abs(we[0]);I=re(we)&&xe>5}if(I)for(var qe=0;qe<we.length;qe++)z=Math.min(Math.abs(we[qe]),z)}else P.push(me),pe=!0;else I&&(z=Math.min(Math.abs(me),z));if(!t.scrollingPage){var Ee=t.cy,Oe=Ee.zoom(),Ie=Ee.pan(),He=t.projectIntoViewport(j.clientX,j.clientY),Ue=[He[0]*Oe+Ie.x,He[1]*Oe+Ie.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||k()){j.preventDefault();return}if(Ee.panningEnabled()&&Ee.userPanningEnabled()&&Ee.zoomingEnabled()&&Ee.userZoomingEnabled()){j.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var je;pe&&Math.abs(me)>5&&(me=T1(me)*5),je=me/-250,I&&(je/=z,je*=3),je=je*t.wheelSensitivity;var Je=j.deltaMode===1;Je&&(je*=33);var Ge=Ee.zoom()*Math.pow(10,je);j.type==="gesturechange"&&(Ge=t.gestureStartZoom*j.scale),Ee.zoom({level:Ge,renderedPosition:{x:Ue[0],y:Ue[1]}}),Ee.emit(j.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",K,!0),t.registerBinding(e,"scroll",function(j){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(j){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||j.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(he){t.hasTouchStarted||K(he)},!0),t.registerBinding(t.container,"mouseout",function(j){var pe=t.projectIntoViewport(j.clientX,j.clientY);t.cy.emit({originalEvent:j,type:"mouseout",position:{x:pe[0],y:pe[1]}})},!1),t.registerBinding(t.container,"mouseover",function(j){var pe=t.projectIntoViewport(j.clientX,j.clientY);t.cy.emit({originalEvent:j,type:"mouseover",position:{x:pe[0],y:pe[1]}})},!1);var W,Z,U,V,Y,ee,oe,te,ie,se,$,ne,le,Se=function(j,pe,me,we){return Math.sqrt((me-j)*(me-j)+(we-pe)*(we-pe))},_e=function(j,pe,me,we){return(me-j)*(me-j)+(we-pe)*(we-pe)},be;t.registerBinding(t.container,"touchstart",be=function(j){if(t.hasTouchStarted=!0,!!B(j)){w(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var pe=t.cy,me=t.touchData.now,we=t.touchData.earlier;if(j.touches[0]){var xe=t.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);me[0]=xe[0],me[1]=xe[1]}if(j.touches[1]){var xe=t.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);me[2]=xe[0],me[3]=xe[1]}if(j.touches[2]){var xe=t.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);me[4]=xe[0],me[5]=xe[1]}if(j.touches[1]){t.touchData.singleTouchMoved=!0,v(t.dragData.touchDragEles);var qe=t.findContainerClientCoords();ie=qe[0],se=qe[1],$=qe[2],ne=qe[3],W=j.touches[0].clientX-ie,Z=j.touches[0].clientY-se,U=j.touches[1].clientX-ie,V=j.touches[1].clientY-se,le=0<=W&&W<=$&&0<=U&&U<=$&&0<=Z&&Z<=ne&&0<=V&&V<=ne;var Ee=pe.pan(),Oe=pe.zoom();Y=Se(W,Z,U,V),ee=_e(W,Z,U,V),oe=[(W+U)/2,(Z+V)/2],te=[(oe[0]-Ee.x)/Oe,(oe[1]-Ee.y)/Oe];var Ie=200,He=Ie*Ie;if(ee<He&&!j.touches[2]){var Ue=t.findNearestElement(me[0],me[1],!0,!0),je=t.findNearestElement(me[2],me[3],!0,!0);Ue&&Ue.isNode()?(Ue.activate().emit({originalEvent:j,type:"cxttapstart",position:{x:me[0],y:me[1]}}),t.touchData.start=Ue):je&&je.isNode()?(je.activate().emit({originalEvent:j,type:"cxttapstart",position:{x:me[0],y:me[1]}}),t.touchData.start=je):pe.emit({originalEvent:j,type:"cxttapstart",position:{x:me[0],y:me[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(j.touches[2])pe.boxSelectionEnabled()&&j.preventDefault();else if(!j.touches[1]){if(j.touches[0]){var Je=t.findNearestElements(me[0],me[1],!0,!0),Ge=Je[0];if(Ge!=null&&(Ge.activate(),t.touchData.start=Ge,t.touchData.starts=Je,t.nodeIsGrabbable(Ge))){var $e=t.dragData.touchDragEles=pe.collection(),vt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ge.selected()?(vt=pe.$(function(gt){return gt.selected()&&t.nodeIsGrabbable(gt)}),E(vt,{addToList:$e})):x(Ge,{addToList:$e}),h(Ge);var nt=function(Dt){return{originalEvent:j,type:Dt,position:{x:me[0],y:me[1]}}};Ge.emit(nt("grabon")),vt?vt.forEach(function(gt){gt.emit(nt("grab"))}):Ge.emit(nt("grab"))}a(Ge,["touchstart","tapstart","vmousedown"],j,{x:me[0],y:me[1]}),Ge==null&&(t.data.bgActivePosistion={x:xe[0],y:xe[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&a(t.touchData.start,["taphold"],j,{x:me[0],y:me[1]})},t.tapholdDuration)}}if(j.touches.length>=1){for(var it=t.touchData.startPosition=[null,null,null,null,null,null],Et=0;Et<me.length;Et++)it[Et]=we[Et]=me[Et];var ct=j.touches[0];t.touchData.startGPosition=[ct.clientX,ct.clientY]}}},!1);var Te;t.registerBinding(e,"touchmove",Te=function(j){var pe=t.touchData.capture;if(!(!pe&&!B(j))){var me=t.selection,we=t.cy,xe=t.touchData.now,qe=t.touchData.earlier,Ee=we.zoom();if(j.touches[0]){var Oe=t.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);xe[0]=Oe[0],xe[1]=Oe[1]}if(j.touches[1]){var Oe=t.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);xe[2]=Oe[0],xe[3]=Oe[1]}if(j.touches[2]){var Oe=t.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);xe[4]=Oe[0],xe[5]=Oe[1]}var Ie=t.touchData.startGPosition,He;if(pe&&j.touches[0]&&Ie){for(var Ue=[],je=0;je<xe.length;je++)Ue[je]=xe[je]-qe[je];var Je=j.touches[0].clientX-Ie[0],Ge=Je*Je,$e=j.touches[0].clientY-Ie[1],vt=$e*$e,nt=Ge+vt;He=nt>=t.touchTapThreshold2}if(pe&&t.touchData.cxt){j.preventDefault();var it=j.touches[0].clientX-ie,Et=j.touches[0].clientY-se,ct=j.touches[1].clientX-ie,gt=j.touches[1].clientY-se,Dt=_e(it,Et,ct,gt),Mt=Dt/ee,Kt=150,Lt=Kt*Kt,Gt=1.5,Sr=Gt*Gt;if(Mt>=Sr||Dt>=Lt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var on={originalEvent:j,type:"cxttapend",position:{x:xe[0],y:xe[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(on),t.touchData.start=null):we.emit(on)}}if(pe&&t.touchData.cxt){var on={originalEvent:j,type:"cxtdrag",position:{x:xe[0],y:xe[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(on):we.emit(on),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Rt=t.findNearestElement(xe[0],xe[1],!0,!0);(!t.touchData.cxtOver||Rt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:j,type:"cxtdragout",position:{x:xe[0],y:xe[1]}}),t.touchData.cxtOver=Rt,Rt&&Rt.emit({originalEvent:j,type:"cxtdragover",position:{x:xe[0],y:xe[1]}}))}else if(pe&&j.touches[2]&&we.boxSelectionEnabled())j.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||we.emit({originalEvent:j,type:"boxstart",position:{x:xe[0],y:xe[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,me[4]=1,!me||me.length===0||me[0]===void 0?(me[0]=(xe[0]+xe[2]+xe[4])/3,me[1]=(xe[1]+xe[3]+xe[5])/3,me[2]=(xe[0]+xe[2]+xe[4])/3+1,me[3]=(xe[1]+xe[3]+xe[5])/3+1):(me[2]=(xe[0]+xe[2]+xe[4])/3,me[3]=(xe[1]+xe[3]+xe[5])/3),t.redrawHint("select",!0),t.redraw();else if(pe&&j.touches[1]&&!t.touchData.didSelect&&we.zoomingEnabled()&&we.panningEnabled()&&we.userZoomingEnabled()&&we.userPanningEnabled()){j.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var er=t.dragData.touchDragEles;if(er){t.redrawHint("drag",!0);for(var jt=0;jt<er.length;jt++){var fr=er[jt]._private;fr.grabbed=!1,fr.rscratch.inDragLayer=!1}}var tr=t.touchData.start,it=j.touches[0].clientX-ie,Et=j.touches[0].clientY-se,ct=j.touches[1].clientX-ie,gt=j.touches[1].clientY-se,jr=Se(it,Et,ct,gt),gn=jr/Y;if(le){var jn=it-W,Ln=Et-Z,Zn=ct-U,sn=gt-V,Pa=(jn+Zn)/2,Gn=(Ln+sn)/2,Ft=we.zoom(),ft=Ft*gn,Hr=we.pan(),Qn=te[0]*Ft+Hr.x,Pt=te[1]*Ft+Hr.y,Q={x:-ft/Ft*(Qn-Hr.x-Pa)+Qn,y:-ft/Ft*(Pt-Hr.y-Gn)+Pt};if(tr&&tr.active()){var er=t.dragData.touchDragEles;v(er),t.redrawHint("drag",!0),t.redrawHint("eles",!0),tr.unactivate().emit("freeon"),er.emit("free"),t.dragData.didDrag&&(tr.emit("dragfreeon"),er.emit("dragfree"))}we.viewport({zoom:ft,pan:Q,cancelOnFailedZoom:!0}),we.emit("pinchzoom"),Y=jr,W=it,Z=Et,U=ct,V=gt,t.pinching=!0}if(j.touches[0]){var Oe=t.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);xe[0]=Oe[0],xe[1]=Oe[1]}if(j.touches[1]){var Oe=t.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);xe[2]=Oe[0],xe[3]=Oe[1]}if(j.touches[2]){var Oe=t.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);xe[4]=Oe[0],xe[5]=Oe[1]}}else if(j.touches[0]&&!t.touchData.didSelect){var fe=t.touchData.start,ke=t.touchData.last,Rt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Rt=t.findNearestElement(xe[0],xe[1],!0,!0)),pe&&fe!=null&&j.preventDefault(),pe&&fe!=null&&t.nodeIsDraggable(fe))if(He){var er=t.dragData.touchDragEles,ze=!t.dragData.didDrag;ze&&E(er,{inDragLayer:!0}),t.dragData.didDrag=!0;var Re={x:0,y:0};if(at(Ue[0])&&at(Ue[1])&&(Re.x+=Ue[0],Re.y+=Ue[1],ze)){t.redrawHint("eles",!0);var Ze=t.touchData.dragDelta;Ze&&at(Ze[0])&&at(Ze[1])&&(Re.x+=Ze[0],Re.y+=Ze[1])}t.hoverData.draggingEles=!0,er.silentShift(Re).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==qe[0]&&t.touchData.startPosition[1]==qe[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Ze=t.touchData.dragDelta=t.touchData.dragDelta||[];Ze.length===0?(Ze.push(Ue[0]),Ze.push(Ue[1])):(Ze[0]+=Ue[0],Ze[1]+=Ue[1])}if(a(fe||Rt,["touchmove","tapdrag","vmousemove"],j,{x:xe[0],y:xe[1]}),(!fe||!fe.grabbed())&&Rt!=ke&&(ke&&ke.emit({originalEvent:j,type:"tapdragout",position:{x:xe[0],y:xe[1]}}),Rt&&Rt.emit({originalEvent:j,type:"tapdragover",position:{x:xe[0],y:xe[1]}})),t.touchData.last=Rt,pe)for(var jt=0;jt<xe.length;jt++)xe[jt]&&t.touchData.startPosition[jt]&&He&&(t.touchData.singleTouchMoved=!0);if(pe&&(fe==null||fe.pannable())&&we.panningEnabled()&&we.userPanningEnabled()){var kt=o(fe,t.touchData.starts);kt&&(j.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=us(t.touchData.startPosition)),t.swipePanning?(we.panBy({x:Ue[0]*Ee,y:Ue[1]*Ee}),we.emit("dragpan")):He&&(t.swipePanning=!0,we.panBy({x:Je*Ee,y:$e*Ee}),we.emit("dragpan"),fe&&(fe.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Oe=t.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);xe[0]=Oe[0],xe[1]=Oe[1]}}for(var je=0;je<xe.length;je++)qe[je]=xe[je];pe&&j.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ve;t.registerBinding(e,"touchcancel",ve=function(j){var pe=t.touchData.start;t.touchData.capture=!1,pe&&pe.unactivate()});var de,ye,Ce,ue;if(t.registerBinding(e,"touchend",de=function(j){var pe=t.touchData.start,me=t.touchData.capture;if(me)j.touches.length===0&&(t.touchData.capture=!1),j.preventDefault();else return;var we=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var xe=t.cy,qe=xe.zoom(),Ee=t.touchData.now,Oe=t.touchData.earlier;if(j.touches[0]){var Ie=t.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);Ee[0]=Ie[0],Ee[1]=Ie[1]}if(j.touches[1]){var Ie=t.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);Ee[2]=Ie[0],Ee[3]=Ie[1]}if(j.touches[2]){var Ie=t.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);Ee[4]=Ie[0],Ee[5]=Ie[1]}pe&&pe.unactivate();var He;if(t.touchData.cxt){if(He={originalEvent:j,type:"cxttapend",position:{x:Ee[0],y:Ee[1]}},pe?pe.emit(He):xe.emit(He),!t.touchData.cxtDragged){var Ue={originalEvent:j,type:"cxttap",position:{x:Ee[0],y:Ee[1]}};pe?pe.emit(Ue):xe.emit(Ue)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!j.touches[2]&&xe.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var je=xe.collection(t.getAllInBox(we[0],we[1],we[2],we[3]));we[0]=void 0,we[1]=void 0,we[2]=void 0,we[3]=void 0,we[4]=0,t.redrawHint("select",!0),xe.emit({type:"boxend",originalEvent:j,position:{x:Ee[0],y:Ee[1]}});var Je=function(Lt){return Lt.selectable()&&!Lt.selected()};je.emit("box").stdFilter(Je).select().emit("boxselect"),je.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(pe!=null&&pe.unactivate(),j.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!j.touches[1]){if(!j.touches[0]){if(!j.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ge=t.dragData.touchDragEles;if(pe!=null){var $e=pe._private.grabbed;v(Ge),t.redrawHint("drag",!0),t.redrawHint("eles",!0),$e&&(pe.emit("freeon"),Ge.emit("free"),t.dragData.didDrag&&(pe.emit("dragfreeon"),Ge.emit("dragfree"))),a(pe,["touchend","tapend","vmouseup","tapdragout"],j,{x:Ee[0],y:Ee[1]}),pe.unactivate(),t.touchData.start=null}else{var vt=t.findNearestElement(Ee[0],Ee[1],!0,!0);a(vt,["touchend","tapend","vmouseup","tapdragout"],j,{x:Ee[0],y:Ee[1]})}var nt=t.touchData.startPosition[0]-Ee[0],it=nt*nt,Et=t.touchData.startPosition[1]-Ee[1],ct=Et*Et,gt=it+ct,Dt=gt*qe*qe;t.touchData.singleTouchMoved||(pe||xe.$(":selected").unselect(["tapunselect"]),a(pe,["tap","vclick"],j,{x:Ee[0],y:Ee[1]}),ye=!1,j.timeStamp-ue<=xe.multiClickDebounceTime()?(Ce&&clearTimeout(Ce),ye=!0,ue=null,a(pe,["dbltap","vdblclick"],j,{x:Ee[0],y:Ee[1]})):(Ce=setTimeout(function(){ye||a(pe,["onetap","voneclick"],j,{x:Ee[0],y:Ee[1]})},xe.multiClickDebounceTime()),ue=j.timeStamp)),pe!=null&&!t.dragData.didDrag&&pe._private.selectable&&Dt<t.touchTapThreshold2&&!t.pinching&&(xe.selectionType()==="single"?(xe.$(r).unmerge(pe).unselect(["tapunselect"]),pe.select(["tapselect"])):pe.selected()?pe.unselect(["tapunselect"]):pe.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Mt=0;Mt<Ee.length;Mt++)Oe[Mt]=Ee[Mt];t.dragData.didDrag=!1,j.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),j.touches.length<2&&(j.touches.length===1&&(t.touchData.startGPosition=[j.touches[0].clientX,j.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Ae=[],Pe=function(j){return{clientX:j.clientX,clientY:j.clientY,force:1,identifier:j.pointerId,pageX:j.pageX,pageY:j.pageY,radiusX:j.width/2,radiusY:j.height/2,screenX:j.screenX,screenY:j.screenY,target:j.target}},Fe=function(j){return{event:j,touch:Pe(j)}},Ye=function(j){Ae.push(Fe(j))},We=function(j){for(var pe=0;pe<Ae.length;pe++){var me=Ae[pe];if(me.event.pointerId===j.pointerId){Ae.splice(pe,1);return}}},Qe=function(j){var pe=Ae.filter(function(me){return me.event.pointerId===j.pointerId})[0];pe.event=j,pe.touch=Pe(j)},Xe=function(j){j.touches=Ae.map(function(pe){return pe.touch})},Ve=function(j){return j.pointerType==="mouse"||j.pointerType===4};t.registerBinding(t.container,"pointerdown",function(he){Ve(he)||(he.preventDefault(),Ye(he),Xe(he),be(he))}),t.registerBinding(t.container,"pointerup",function(he){Ve(he)||(We(he),Xe(he),de(he))}),t.registerBinding(t.container,"pointercancel",function(he){Ve(he)||(We(he),Xe(he),ve(he))}),t.registerBinding(t.container,"pointermove",function(he){Ve(he)||(he.preventDefault(),Qe(he),Xe(he),Te(he))})}};var ei={};ei.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,o,l,u){this.renderer.nodeShapeImpl("polygon",n,a,i,o,l,this.points)},intersectLine:function(n,a,i,o,l,u,f,c){return Kl(l,u,this.points,n,a,i/2,o/2,f)},checkPoint:function(n,a,i,o,l,u,f,c){return Qa(n,a,this.points,u,f,o,l,[0,-1],i)}}};ei.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,l,u){return Zz(i,o,e,r,n/2+l,a/2+l)},checkPoint:function(e,r,n,a,i,o,l,u){return vo(e,r,a,i,o,l,n)}}};ei.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,a,i,o,l,u,f){if(u[f]!==void 0&&u[f+"-cx"]===n&&u[f+"-cy"]===a)return u[f];u[f]=new Array(e.length/2),u[f+"-cx"]=n,u[f+"-cy"]=a;var c=i/2,h=o/2;l=l==="auto"?sk(i,o):l;for(var p=new Array(e.length/2),y=0;y<e.length/2;y++)p[y]={x:n+c*e[y*2],y:a+h*e[y*2+1]};var g,E,x,v,C=p.length;for(E=p[C-1],g=0;g<C;g++)x=p[g%C],v=p[(g+1)%C],u[f][g]=F1(E,x,v,l),E=x,x=v;return u[f]},draw:function(n,a,i,o,l,u,f){this.renderer.nodeShapeImpl("round-polygon",n,a,i,o,l,this.points,this.getOrCreateCorners(a,i,o,l,u,f,"drawCorners"))},intersectLine:function(n,a,i,o,l,u,f,c,h){return Qz(l,u,this.points,n,a,i,o,f,this.getOrCreateCorners(n,a,i,o,c,h,"corners"))},checkPoint:function(n,a,i,o,l,u,f,c,h){return jz(n,a,this.points,u,f,o,l,this.getOrCreateCorners(u,f,o,l,c,h,"corners"))}}};ei.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Tn(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,o)},intersectLine:function(e,r,n,a,i,o,l,u){return ik(i,o,e,r,n,a,l,u)},checkPoint:function(e,r,n,a,i,o,l,u){var f=a/2,c=i/2;u=u==="auto"?Mi(a,i):u,u=Math.min(f,c,u);var h=u*2;return!!(Qa(e,r,this.points,o,l,a,i-h,[0,-1],n)||Qa(e,r,this.points,o,l,a-h,i,[0,-1],n)||vo(e,r,h,h,o-f+u,l-c+u,n)||vo(e,r,h,h,o+f-u,l-c+u,n)||vo(e,r,h,h,o+f-u,l+c-u,n)||vo(e,r,h,h,o-f+u,l+c-u,n))}}};ei.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:A1(),points:Tn(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,null,o)},generateCutTrianglePts:function(e,r,n,a,i){var o=i==="auto"?this.cornerLength:i,l=r/2,u=e/2,f=n-u,c=n+u,h=a-l,p=a+l;return{topLeft:[f,h+o,f+o,h,f+o,h+o],topRight:[c-o,h,c,h+o,c-o,h+o],bottomRight:[c,p-o,c-o,p,c-o,p-o],bottomLeft:[f+o,p,f,p-o,f+o,p-o]}},intersectLine:function(e,r,n,a,i,o,l,u){var f=this.generateCutTrianglePts(n+2*l,a+2*l,e,r,u),c=[].concat.apply([],[f.topLeft.splice(0,4),f.topRight.splice(0,4),f.bottomRight.splice(0,4),f.bottomLeft.splice(0,4)]);return Kl(i,o,c,e,r)},checkPoint:function(e,r,n,a,i,o,l,u){var f=u==="auto"?this.cornerLength:u;if(Qa(e,r,this.points,o,l,a,i-2*f,[0,-1],n)||Qa(e,r,this.points,o,l,a-2*f,i,[0,-1],n))return!0;var c=this.generateCutTrianglePts(a,i,o,l);return Rn(e,r,c.topLeft)||Rn(e,r,c.topRight)||Rn(e,r,c.bottomRight)||Rn(e,r,c.bottomLeft)}}};ei.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Tn(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,l,u){var f=.15,c=.5,h=.85,p=this.generateBarrelBezierPts(n+2*l,a+2*l,e,r),y=function(x){var v=ms({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},f),C=ms({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},c),w=ms({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},h);return[x[0],x[1],v.x,v.y,C.x,C.y,w.x,w.y,x[4],x[5]]},g=[].concat(y(p.topLeft),y(p.topRight),y(p.bottomRight),y(p.bottomLeft));return Kl(i,o,g,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,o=e/2,l=n-o,u=n+o,f=a-i,c=a+i,h=Nb(e,r),p=h.heightOffset,y=h.widthOffset,g=h.ctrlPtOffsetPct*e,E={topLeft:[l,f+p,l+g,f,l+y,f],topRight:[u-y,f,u-g,f,u,f+p],bottomRight:[u,c-p,u-g,c,u-y,c],bottomLeft:[l+y,c,l+g,c,l,c-p]};return E.topLeft.isTop=!0,E.topRight.isTop=!0,E.bottomLeft.isBottom=!0,E.bottomRight.isBottom=!0,E},checkPoint:function(e,r,n,a,i,o,l,u){var f=Nb(a,i),c=f.heightOffset,h=f.widthOffset;if(Qa(e,r,this.points,o,l,a,i-2*c,[0,-1],n)||Qa(e,r,this.points,o,l,a-2*h,i,[0,-1],n))return!0;for(var p=this.generateBarrelBezierPts(a,i,o,l),y=function(R,k,B){var G=B[4],F=B[2],q=B[0],M=B[5],P=B[1],N=Math.min(G,q),I=Math.max(G,q),z=Math.min(M,P),ae=Math.max(M,P);if(N<=R&&R<=I&&z<=k&&k<=ae){var re=Jz(G,F,q),K=$z(re[0],re[1],re[2],R),W=K.filter(function(Z){return 0<=Z&&Z<=1});if(W.length>0)return W[0]}return null},g=Object.keys(p),E=0;E<g.length;E++){var x=g[E],v=p[x],C=y(e,r,v);if(C!=null){var w=v[5],T=v[3],A=v[1],_=Wr(w,T,A,C);if(v.isTop&&_<=r||v.isBottom&&r<=_)return!0}}return!1}}};ei.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Tn(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,o)},intersectLine:function(e,r,n,a,i,o,l,u){var f=e-(n/2+l),c=r-(a/2+l),h=c,p=e+(n/2+l),y=wi(i,o,e,r,f,c,p,h,!1);return y.length>0?y:ik(i,o,e,r,n,a,l,u)},checkPoint:function(e,r,n,a,i,o,l,u){u=u==="auto"?Mi(a,i):u;var f=2*u;if(Qa(e,r,this.points,o,l,a,i-f,[0,-1],n)||Qa(e,r,this.points,o,l,a-f,i,[0,-1],n))return!0;var c=a/2+2*n,h=i/2+2*n,p=[o-c,l-h,o-c,l,o+c,l,o+c,l-h];return!!(Rn(e,r,p)||vo(e,r,f,f,o+a/2-u,l+i/2-u,n)||vo(e,r,f,f,o-a/2+u,l+i/2-u,n))}}};ei.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Tn(3,0)),this.generateRoundPolygon("round-triangle",Tn(3,0)),this.generatePolygon("rectangle",Tn(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Tn(5,0)),this.generateRoundPolygon("round-pentagon",Tn(5,0)),this.generatePolygon("hexagon",Tn(6,0)),this.generateRoundPolygon("round-hexagon",Tn(6,0)),this.generatePolygon("heptagon",Tn(7,0)),this.generateRoundPolygon("round-heptagon",Tn(7,0)),this.generatePolygon("octagon",Tn(8,0)),this.generateRoundPolygon("round-octagon",Tn(8,0));var n=new Array(20);{var a=kb(5,0),i=kb(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var l=0;l<i.length/2;l++)i[l*2]*=o,i[l*2+1]*=o;for(var l=0;l<20/4;l++)n[l*4]=a[l*2],n[l*4+1]=a[l*2+1],n[l*4+2]=i[l*2],n[l*4+3]=i[l*2+1]}n=ok(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(f){var c=f.join("$"),h="polygon-"+c,p;return(p=this[h])?p:e.generatePolygon(h,f)}};var pu={};pu.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};pu.redraw=function(t){t=t||rk();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};pu.beforeRender=function(t,e){if(!this.destroyed){e==null&&pr("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var tS=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};pu.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){tS(t,!0,a);var i=Za();t.render(t.renderOptions);var o=t.lastDrawTime=Za();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var l=o-i;t.redrawTotalTime+=l,t.lastRedrawTime=l,t.averageRedrawTime=t.averageRedrawTime/2+l/2,t.requestedFrame=!1}else tS(t,!1,a);t.skipFrame=!1,jf(r)}};jf(r)}};var gU=function(e){this.init(e)},oN=gU,Rs=oN.prototype;Rs.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Rs.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",l="__________cytoscape_container",u=a.getElementById(o)!=null;if(r.className.indexOf(l)<0&&(r.className=(r.className||"")+" "+l),!u){var f=a.createElement("style");f.id=o,f.textContent="."+l+" { position: relative; }",i.insertBefore(f,i.children[0])}var c=n.getComputedStyle(r),h=c.getPropertyValue("position");h==="static"&&$t("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=at(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Rs.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Rs.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Rs.isHeadless=function(){return!1};[I1,aN,iN,Ms,ei,pu].forEach(function(t){xt(Rs,t)});var kv=1e3/60,sN={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=fu(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),o=function(f,c){var h=Za(),p=a.averageRedrawTime,y=a.lastRedrawTime,g=[],E=a.cy.extent(),x=a.getPixelRatio();for(f||a.flushRenderedStyleQueue();;){var v=Za(),C=v-h,w=v-c;if(y<kv){var T=kv-(f?p:0);if(w>=e.deqFastCost*T)break}else if(f){if(C>=e.deqCost*y||C>=e.deqAvgCost*p)break}else if(w>=e.deqNoDrawCost*kv)break;var A=e.deq(n,x,E);if(A.length>0)for(var _=0;_<A.length;_++)g.push(A[_]);else break}g.length>0&&(e.onDeqd(n,g),!f&&e.shouldRedraw(n,g,x,E)&&i())},l=e.priority||x1;a.beforeRender(o,l(n))}}}},yU=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zf;Oi(this,t),this.idsByKey=new Ya,this.keyForId=new Ya,this.cachesByLvl=new Ya,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Ii(t,[{key:"getIdsFor",value:function(r){r==null&&pr("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new As,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new Ya,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])}(),rS=25,vf=50,Mf=-4,Yb=3,lN=7.99,mU=8,bU=1024,wU=1024,xU=1024,CU=.2,EU=.8,TU=10,SU=.15,AU=.1,LU=.9,_U=.9,DU=100,MU=1,cs={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},RU=nn({getKey:null,doesEleInvalidateKey:Zf,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:JP,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),El=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=RU(r);xt(n,a),n.lookup=new yU(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Gr=El.prototype;Gr.reasons=cs;Gr.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Gr.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Gr.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new cu(function(r,n){return n.reqs-r.reqs});return e};Gr.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Gr.getElement=function(t,e,r,n,a){var i=this,o=this.renderer,l=o.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(E1(l*r))),n<Mf)n=Mf;else if(l>=lN||n>Yb)return null;var f=Math.pow(2,n),c=e.h*f,h=e.w*f,p=o.eleTextBiggerThanMin(t,f);if(!this.isVisible(t,p))return null;var y=u.get(t,n);if(y&&y.invalidated&&(y.invalidated=!1,y.texture.invalidatedWidth-=y.width),y)return y;var g;if(c<=rS?g=rS:c<=vf?g=vf:g=Math.ceil(c/vf)*vf,c>xU||h>wU)return null;var E=i.getTextureQueue(g),x=E[E.length-2],v=function(){return i.recycleTexture(g,h)||i.addTexture(g,h)};x||(x=E[E.length-1]),x||(x=v()),x.width-x.usedWidth<h&&(x=v());for(var C=function(N){return N&&N.scaledLabelShown===p},w=a&&a===cs.dequeue,T=a&&a===cs.highQuality,A=a&&a===cs.downscale,_,D=n+1;D<=Yb;D++){var R=u.get(t,D);if(R){_=R;break}}var k=_&&_.level===n+1?_:null,B=function(){x.context.drawImage(k.texture.canvas,k.x,0,k.width,k.height,x.usedWidth,0,h,c)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,h,g),C(k))B();else if(C(_))if(T){for(var G=_.level;G>n;G--)k=i.getElement(t,e,r,G,cs.downscale);B()}else return i.queueElement(t,_.level-1),_;else{var F;if(!w&&!T&&!A)for(var q=n-1;q>=Mf;q--){var M=u.get(t,q);if(M){F=M;break}}if(C(F))return i.queueElement(t,n),F;x.context.translate(x.usedWidth,0),x.context.scale(f,f),this.drawElement(x.context,t,e,p,!1),x.context.scale(1/f,1/f),x.context.translate(-x.usedWidth,0)}return y={x:x.usedWidth,texture:x,level:n,scale:f,width:h,height:c,scaledLabelShown:p},x.usedWidth+=Math.ceil(h+mU),x.eleCaches.push(y),u.set(t,n,y),i.checkTextureFullness(x),y};Gr.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Gr.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=Mf;i<=Yb;i++){var o=r.getForCachedKey(t,i);o&&n.push(o)}var l=r.invalidate(t);if(l)for(var u=0;u<n.length;u++){var f=n[u],c=f.texture;c.invalidatedWidth+=f.width,f.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};Gr.checkTextureUtility=function(t){t.invalidatedWidth>=CU*t.width&&this.retireTexture(t)};Gr.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>EU&&t.fullnessChecks>=TU?Di(r,t):t.fullnessChecks++};Gr.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;Di(n,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var l=i[o];a.deleteCache(l.key,l.level)}C1(i);var u=e.getRetiredTextureQueue(r);u.push(t)};Gr.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(bU,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};Gr.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var o=a[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,C1(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Di(a,o),n.push(o),o}};Gr.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),o=a[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var l={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(l),a[i]=l}};Gr.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,o=0;o<MU&&r.size()>0;o++){var l=r.pop(),u=l.key,f=l.eles[0],c=i.hasCache(f,l.level);if(n[u]=null,c)continue;a.push(l);var h=e.getBoundingBox(f);e.getElement(f,h,t,l.level,cs.dequeue)}return a};Gr.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=w1,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};Gr.onDequeue=function(t){this.onDequeues.push(t)};Gr.offDequeue=function(t){Di(this.onDequeues,t)};Gr.setupDequeueing=sN.setupDequeueing({deqRedrawThreshold:DU,deqCost:SU,deqAvgCost:AU,deqNoDrawCost:LU,deqFastCost:_U,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,l=0;l<o.length;l++){var u=o[l].boundingBox();if(S1(u,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var PU=1,Ol=-4,ic=2,kU=3.99,NU=50,OU=50,IU=.15,FU=.1,BU=.9,qU=.9,zU=1,nS=250,GU=4e3*4e3,aS=32767,HU=!0,uN=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Za()-2*nS,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=fu(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},OU),n.beforeRender(function(o,l){l-r.lastInvalidationTime<=nS?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(l,u){return u.reqs-l.reqs};r.layersQueue=new cu(i),r.setupDequeueing()},an=uN.prototype,iS=0,UU=Math.pow(2,53)-1;an.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:iS=++iS%UU,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=o.context,u=-o.bb.x1,f=-o.bb.y1;return l.scale(r,r),l.translate(u,f),o};an.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),l=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(E1(o*e)),r<Ol)r=Ol;else if(o>=kU||r>ic)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,f=Math.pow(2,r),c=u[r]=u[r]||[],h,p=n.levelIsComplete(r,t),y,g=function(){var B=function(P){if(n.validateLayersElesOrdering(P,t),n.levelIsComplete(P,t))return y=u[P],!0},G=function(P){if(!y)for(var N=r+P;Ol<=N&&N<=ic&&!B(N);N+=P);};G(1),G(-1);for(var F=c.length-1;F>=0;F--){var q=c[F];q.invalid&&Di(c,q)}};if(!p)g();else return c;var E=function(){if(!h){h=Nn();for(var B=0;B<t.length;B++)ak(h,t[B].boundingBox())}return h},x=function(B){B=B||{};var G=B.after;E();var F=Math.ceil(h.w*f),q=Math.ceil(h.h*f);if(F>aS||q>aS)return null;var M=F*q;if(M>GU)return null;var P=n.makeLayer(h,r);if(G!=null){var N=c.indexOf(G)+1;c.splice(N,0,P)}else(B.insert===void 0||B.insert)&&c.unshift(P);return P};if(n.skipping&&!l)return null;for(var v=null,C=t.length/PU,w=!l,T=0;T<t.length;T++){var A=t[T],_=A._private.rscratch,D=_.imgLayerCaches=_.imgLayerCaches||{},R=D[r];if(R){v=R;continue}if((!v||v.eles.length>=C||!Uz(v.bb,A.boundingBox()))&&(v=x({insert:!0,after:v}),!v))return null;y||w?n.queueLayer(v,A):n.drawEleInLayer(v,A,r,e),v.eles.push(A),D[r]=v}return y||(w?null:c)};an.getEleLevelForLayerLevel=function(t,e){return t};an.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,o=t.context,l=e.boundingBox();l.w===0||l.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,r,HU),i.setImgSmoothing(o,!0))};an.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===e.length};an.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<e.length;o++)if(a.eles[0]===e[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var l=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==e[l+o]){this.invalidateLayer(a);break}}};an.updateElementsInLayers=function(t,e){for(var r=this,n=ou(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],o=n?t[a]:t[a].ele,l=o._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},f=Ol;f<=ic;f++){var c=u[f];c&&(i&&r.getEleLevelForLayerLevel(c.level)!==i.level||e(c,o,i))}};an.haveLayers=function(){for(var t=this,e=!1,r=Ol;r<=ic;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};an.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Za(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};an.invalidateLayer=function(t){if(this.lastInvalidationTime=Za(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Di(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};an.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var l=0;l<o.eles.length;l++)e.queueLayer(o,o.eles[l])})};an.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};an.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};an.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<zU&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(e.drawEleInLayer(i,o,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};an.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,l=o.imgLayerCaches=o.imgLayerCaches||{};l&&(l[t.level]=t)}e.requestRedraw()}};an.requestRedraw=fu(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);an.setupDequeueing=sN.setupDequeueing({deqRedrawThreshold:NU,deqCost:IU,deqAvgCost:FU,deqNoDrawCost:BU,deqFastCost:qU,deq:function(e,r){return e.dequeue(r)},onDeqd:x1,shouldRedraw:JP,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var fN={},oS;function WU(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function VU(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function sS(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var o=r,l=r[0];t.moveTo(l.x,l.y);for(var a=1;a<o.length;a++){var i=o[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function $U(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,o=i[0];t.moveTo(o.x,o.y);for(var l=0;l<i.length;l++){var u=i[l];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function YU(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}fN.arrowShapeImpl=function(t){return(oS||(oS={polygon:WU,"triangle-backcurve":VU,"triangle-tee":sS,"circle-triangle":$U,"triangle-cross":sS,circle:YU}))[t]};var Ma={};Ma.drawElement=function(t,e,r,n,a,i){var o=this;e.isNode()?o.drawNode(t,e,r,n,a,i):o.drawEdge(t,e,r,n,a,i)};Ma.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};Ma.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};Ma.drawCachedElementPortion=function(t,e,r,n,a,i,o,l){var u=this,f=r.getBoundingBox(e);if(!(f.w===0||f.h===0)){var c=r.getElement(e,f,n,a,i);if(c!=null){var h=l(u,e);if(h===0)return;var p=o(u,e),y=f.x1,g=f.y1,E=f.w,x=f.h,v,C,w,T,A;if(p!==0){var _=r.getRotationPoint(e);w=_.x,T=_.y,t.translate(w,T),t.rotate(p),A=u.getImgSmoothing(t),A||u.setImgSmoothing(t,!0);var D=r.getRotationOffset(e);v=D.x,C=D.y}else v=y,C=g;var R;h!==1&&(R=t.globalAlpha,t.globalAlpha=R*h),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,v,C,E,x),h!==1&&(t.globalAlpha=R),p!==0&&(t.rotate(-p),t.translate(-w,-T),A||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var XU=function(){return 0},KU=function(e,r){return e.getTextAngle(r,null)},jU=function(e,r){return e.getTextAngle(r,"source")},ZU=function(e,r){return e.getTextAngle(r,"target")},QU=function(e,r){return r.effectiveOpacity()},Nv=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Ma.drawCachedElement=function(t,e,r,n,a,i){var o=this,l=o.data,u=l.eleTxrCache,f=l.lblTxrCache,c=l.slbTxrCache,h=l.tlbTxrCache,p=e.boundingBox(),y=i===!0?u.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||S1(p,n))){var g=e.isEdge(),E=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,u,r,a,y,XU,QU),(!g||!E)&&o.drawCachedElementPortion(t,e,f,r,a,y,KU,Nv),g&&!E&&(o.drawCachedElementPortion(t,e,c,r,a,y,jU,Nv),o.drawCachedElementPortion(t,e,h,r,a,y,ZU,Nv)),o.drawElementOverlay(t,e)}};Ma.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};Ma.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];a.drawCachedElement(t,o,r,n)}};Ma.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];o.isNode()&&a.drawCachedElement(t,o,r,n)}};Ma.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var o=0;o<i.length;o++){var l=i[o],u=l.bb;u.w===0||u.h===0||t.drawImage(l.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(t,e,r,n)};var ti={};ti.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,l=e._private.rscratch;if(!(i&&!e.visible())&&!(l.badLine||l.allpts==null||isNaN(l.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var f=i?e.pstyle("opacity").value:1,c=i?e.pstyle("line-opacity").value:1,h=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,y=e.pstyle("width").pfValue,g=e.pstyle("line-cap").value,E=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,v=f*c,C=f*c,w=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;h==="straight-triangle"?(o.eleStrokeStyle(t,e,P),o.drawEdgeTrianglePath(e,t,l.allpts)):(t.lineWidth=y,t.lineCap=g,o.eleStrokeStyle(t,e,P),o.drawEdgePath(e,t,l.allpts,p),t.lineCap="butt")},T=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(t.lineWidth=y+E,t.lineCap=g,E>0)o.colorStrokeStyle(t,x[0],x[1],x[2],P);else{t.lineCap="butt";return}h==="straight-triangle"?o.drawEdgeTrianglePath(e,t,l.allpts):(o.drawEdgePath(e,t,l.allpts,p),t.lineCap="butt")},A=function(){a&&o.drawEdgeOverlay(t,e)},_=function(){a&&o.drawEdgeUnderlay(t,e)},D=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C;o.drawArrowheads(t,e,P)},R=function(){o.drawElementText(t,e,null,n)};t.lineJoin="round";var k=e.pstyle("ghost").value==="yes";if(k){var B=e.pstyle("ghost-offset-x").pfValue,G=e.pstyle("ghost-offset-y").pfValue,F=e.pstyle("ghost-opacity").value,q=v*F;t.translate(B,G),w(q),D(q),t.translate(-B,-G)}else T();_(),w(),D(),A(),R(),r&&t.translate(u.x1,u.y1)}};var cN=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),l=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,f=2*u,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=f,l.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,c[0],c[1],c[2],a),i.drawEdgePath(n,r,l.allpts,"solid")}}}};ti.drawEdgeOverlay=cN("overlay");ti.drawEdgeUnderlay=cN("underlay");ti.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,o,l=!1,u=this.usePaths(),f=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(u){var h=r.join("$"),p=a.pathCacheKey&&a.pathCacheKey===h;p?(o=e=a.pathCache,l=!0):(o=e=new Path2D,a.pathCacheKey=h,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(f),i.lineDashOffset=c;break;case"solid":i.setLineDash([]);break}if(!l&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var y=2;y+3<r.length;y+=4)e.quadraticCurveTo(r[y],r[y+1],r[y+2],r[y+3]);break;case"straight":case"haystack":for(var g=2;g+1<r.length;g+=2)e.lineTo(r[g],r[g+1]);break;case"segments":if(a.isRound){var E=Pn(a.roundCorners),x;try{for(E.s();!(x=E.n()).done;){var v=x.value;Jk(e,v)}}catch(w){E.e(w)}finally{E.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var C=2;C+1<r.length;C+=2)e.lineTo(r[C],r[C+1]);break}e=i,u?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};ti.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=[i[1]/o,-i[0]/o],u=[l[0]*n/2,l[1]*n/2];e.beginPath(),e.moveTo(r[a]-u[0],r[a+1]-u[1]),e.lineTo(r[a]+u[0],r[a+1]+u[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};ti.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};ti.drawArrowhead=function(t,e,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var l=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var f=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,h=e.pstyle("width").pfValue,p=e.pstyle(r+"-arrow-width"),y=p.value==="match-line"?h:p.pfValue;p.units==="%"&&(y*=h);var g=e.pstyle("opacity").value;o===void 0&&(o=g);var E=t.globalCompositeOperation;(o!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",l.colorFillStyle(t,255,255,255,1),l.colorStrokeStyle(t,255,255,255,1),l.drawArrowShape(e,t,f,h,u,y,n,a,i),t.globalCompositeOperation=E);var x=e.pstyle(r+"-arrow-color").value;l.colorFillStyle(t,x[0],x[1],x[2],o),l.colorStrokeStyle(t,x[0],x[1],x[2],o),l.drawArrowShape(e,t,c,h,u,y,n,a,i)}}};ti.drawArrowShape=function(t,e,r,n,a,i,o,l,u){var f=this,c=this.usePaths()&&a!=="triangle-cross",h=!1,p,y=e,g={x:o,y:l},E=t.pstyle("arrow-scale").value,x=this.getArrowWidth(n,E),v=f.arrowShapes[a];if(c){var C=f.arrowPathCache=f.arrowPathCache||[],w=yo(a),T=C[w];T!=null?(p=e=T,h=!0):(p=e=new Path2D,C[w]=p)}h||(e.beginPath&&e.beginPath(),c?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,x,u,g,n),e.closePath&&e.closePath()),e=y,c&&(e.translate(o,l),e.rotate(u),e.scale(x,x)),(r==="filled"||r==="both")&&(c?e.fill(p):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=i/(c?x:1),e.lineJoin="miter",c?e.stroke(p):e.stroke()),c&&(e.scale(1/x,1/x),e.rotate(-u),e.translate(-o,-l))};var q1={};q1.safeDrawImage=function(t,e,r,n,a,i,o,l,u,f){if(!(a<=0||i<=0||u<=0||f<=0))try{t.drawImage(e,r,n,a,i,o,l,u,f)}catch(c){$t(c)}};q1.drawInscribedImage=function(t,e,r,n,a){var i=this,o=r.position(),l=o.x,u=o.y,f=r.cy().style(),c=f.getIndexedStyle.bind(f),h=c(r,"background-fit","value",n),p=c(r,"background-repeat","value",n),y=r.width(),g=r.height(),E=r.padding()*2,x=y+(c(r,"background-width-relative-to","value",n)==="inner"?0:E),v=g+(c(r,"background-height-relative-to","value",n)==="inner"?0:E),C=r._private.rscratch,w=c(r,"background-clip","value",n),T=w==="node",A=c(r,"background-image-opacity","value",n)*a,_=c(r,"background-image-smoothing","value",n),D=r.pstyle("corner-radius").value;D!=="auto"&&(D=r.pstyle("corner-radius").pfValue);var R=e.width||e.cachedW,k=e.height||e.cachedH;(R==null||k==null)&&(document.body.appendChild(e),R=e.cachedW=e.width||e.offsetWidth,k=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var B=R,G=k;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?B=c(r,"background-width","pfValue",n)*x:B=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?G=c(r,"background-height","pfValue",n)*v:G=c(r,"background-height","pfValue",n)),!(B===0||G===0)){if(h==="contain"){var F=Math.min(x/B,v/G);B*=F,G*=F}else if(h==="cover"){var F=Math.max(x/B,v/G);B*=F,G*=F}var q=l-x/2,M=c(r,"background-position-x","units",n),P=c(r,"background-position-x","pfValue",n);M==="%"?q+=(x-B)*P:q+=P;var N=c(r,"background-offset-x","units",n),I=c(r,"background-offset-x","pfValue",n);N==="%"?q+=(x-B)*I:q+=I;var z=u-v/2,ae=c(r,"background-position-y","units",n),re=c(r,"background-position-y","pfValue",n);ae==="%"?z+=(v-G)*re:z+=re;var K=c(r,"background-offset-y","units",n),W=c(r,"background-offset-y","pfValue",n);K==="%"?z+=(v-G)*W:z+=W,C.pathCache&&(q-=l,z-=u,l=0,u=0);var Z=t.globalAlpha;t.globalAlpha=A;var U=i.getImgSmoothing(t),V=!1;if(_==="no"&&U?(i.setImgSmoothing(t,!1),V=!0):_==="yes"&&!U&&(i.setImgSmoothing(t,!0),V=!0),p==="no-repeat")T&&(t.save(),C.pathCache?t.clip(C.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,l,u,x,v,D,C),t.clip())),i.safeDrawImage(t,e,0,0,R,k,q,z,B,G),T&&t.restore();else{var Y=t.createPattern(e,p);t.fillStyle=Y,i.nodeShapes[i.getNodeShape(r)].draw(t,l,u,x,v,D,C),t.translate(q,z),t.fill(),t.translate(-q,-z)}t.globalAlpha=Z,V&&i.setImgSmoothing(t,U)}};var To={};To.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(E1(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};To.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var l=e.pstyle("label");if(!l||!l.value)return;var u=o.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var f=e.element()._private.rscratch.badLine,c=e.pstyle("label"),h=e.pstyle("source-label"),p=e.pstyle("target-label");if(f||(!c||!c.value)&&(!h||!h.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var y=!r,g;r&&(g=r,t.translate(-g.x1,-g.y1)),a==null?(o.drawText(t,e,null,y,i),e.isEdge()&&(o.drawText(t,e,"source",y,i),o.drawText(t,e,"target",y,i))):o.drawText(t,e,a,y,i),r&&t.translate(g.x1,g.y1)};To.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};To.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,l=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*l,f=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+o+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,f[0],f[1],f[2],l),this.colorStrokeStyle(t,c[0],c[1],c[2],u)};function Ov(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+i,r),t.lineTo(e+n-i,r),t.quadraticCurveTo(e+n,r,e+n,r+i),t.lineTo(e+n,r+a-i),t.quadraticCurveTo(e+n,r+a,e+n-i,r+a),t.lineTo(e+i,r+a),t.quadraticCurveTo(e,r+a,e,r+a-i),t.lineTo(e,r+i),t.quadraticCurveTo(e,r,e+i,r),t.closePath(),o?t.stroke():t.fill()}To.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",o=t.pstyle(i+"text-rotation");if(o.strValue==="autorotate"){var l=Mn(a,"labelAngle",e);r=t.isEdge()?l:0}else o.strValue==="none"?r=0:r=o.pfValue;return r};To.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,o=i.rscratch,l=a?e.effectiveOpacity():1;if(!(a&&(l===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Mn(o,"labelX",r),f=Mn(o,"labelY",r),c,h,p=this.getLabelText(e,r);if(p!=null&&p!==""&&!isNaN(u)&&!isNaN(f)){this.setupTextStyle(t,e,a);var y=r?r+"-":"",g=Mn(o,"labelWidth",r),E=Mn(o,"labelHeight",r),x=e.pstyle(y+"text-margin-x").pfValue,v=e.pstyle(y+"text-margin-y").pfValue,C=e.isEdge(),w=e.pstyle("text-halign").value,T=e.pstyle("text-valign").value;C&&(w="center",T="center"),u+=x,f+=v;var A;switch(n?A=this.getTextAngle(e,r):A=0,A!==0&&(c=u,h=f,t.translate(c,h),t.rotate(A),u=0,f=0),T){case"top":break;case"center":f+=E/2;break;case"bottom":f+=E;break}var _=e.pstyle("text-background-opacity").value,D=e.pstyle("text-border-opacity").value,R=e.pstyle("text-border-width").pfValue,k=e.pstyle("text-background-padding").pfValue,B=e.pstyle("text-background-shape").strValue,G=B.indexOf("round")===0,F=2;if(_>0||R>0&&D>0){var q=u-k;switch(w){case"left":q-=g;break;case"center":q-=g/2;break}var M=f-E-k,P=g+2*k,N=E+2*k;if(_>0){var I=t.fillStyle,z=e.pstyle("text-background-color").value;t.fillStyle="rgba("+z[0]+","+z[1]+","+z[2]+","+_*l+")",G?Ov(t,q,M,P,N,F):t.fillRect(q,M,P,N),t.fillStyle=I}if(R>0&&D>0){var ae=t.strokeStyle,re=t.lineWidth,K=e.pstyle("text-border-color").value,W=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+K[0]+","+K[1]+","+K[2]+","+D*l+")",t.lineWidth=R,t.setLineDash)switch(W){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=R/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(G?Ov(t,q,M,P,N,F,"stroke"):t.strokeRect(q,M,P,N),W==="double"){var Z=R/2;G?Ov(t,q+Z,M+Z,P-Z*2,N-Z*2,F,"stroke"):t.strokeRect(q+Z,M+Z,P-Z*2,N-Z*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=re,t.strokeStyle=ae}}var U=2*e.pstyle("text-outline-width").pfValue;if(U>0&&(t.lineWidth=U),e.pstyle("text-wrap").value==="wrap"){var V=Mn(o,"labelWrapCachedLines",r),Y=Mn(o,"labelLineHeight",r),ee=g/2,oe=this.getLabelJustification(e);switch(oe==="auto"||(w==="left"?oe==="left"?u+=-g:oe==="center"&&(u+=-ee):w==="center"?oe==="left"?u+=-ee:oe==="right"&&(u+=ee):w==="right"&&(oe==="center"?u+=ee:oe==="right"&&(u+=g))),T){case"top":f-=(V.length-1)*Y;break;case"center":case"bottom":f-=(V.length-1)*Y;break}for(var te=0;te<V.length;te++)U>0&&t.strokeText(V[te],u,f),t.fillText(V[te],u,f),f+=Y}else U>0&&t.strokeText(p,u,f),t.fillText(p,u,f);A!==0&&(t.rotate(-A),t.translate(-c,-h))}}};var Bi={};Bi.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,l,u,f=e._private,c=f.rscratch,h=e.position();if(!(!at(h.x)||!at(h.y))&&!(i&&!e.visible())){var p=i?e.effectiveOpacity():1,y=o.usePaths(),g,E=!1,x=e.padding();l=e.width()+2*x,u=e.height()+2*x;var v;r&&(v=r,t.translate(-v.x1,-v.y1));for(var C=e.pstyle("background-image"),w=C.value,T=new Array(w.length),A=new Array(w.length),_=0,D=0;D<w.length;D++){var R=w[D],k=T[D]=R!=null&&R!=="none";if(k){var B=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",D);_++,A[D]=o.getCachedImage(R,B,function(){f.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var G=e.pstyle("background-blacken").value,F=e.pstyle("border-width").pfValue,q=e.pstyle("background-opacity").value*p,M=e.pstyle("border-color").value,P=e.pstyle("border-style").value,N=e.pstyle("border-join").value,I=e.pstyle("border-cap").value,z=e.pstyle("border-position").value,ae=e.pstyle("border-dash-pattern").pfValue,re=e.pstyle("border-dash-offset").pfValue,K=e.pstyle("border-opacity").value*p,W=e.pstyle("outline-width").pfValue,Z=e.pstyle("outline-color").value,U=e.pstyle("outline-style").value,V=e.pstyle("outline-opacity").value*p,Y=e.pstyle("outline-offset").value,ee=e.pstyle("corner-radius").value;ee!=="auto"&&(ee=e.pstyle("corner-radius").pfValue);var oe=function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q;o.eleFillStyle(t,e,Ve)},te=function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K;o.colorStrokeStyle(t,M[0],M[1],M[2],Ve)},ie=function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V;o.colorStrokeStyle(t,Z[0],Z[1],Z[2],Ve)},se=function(Ve,he,j,pe){var me=o.nodePathCache=o.nodePathCache||[],we=QP(j==="polygon"?j+","+pe.join(","):j,""+he,""+Ve,""+ee),xe=me[we],qe,Ee=!1;return xe!=null?(qe=xe,Ee=!0,c.pathCache=qe):(qe=new Path2D,me[we]=c.pathCache=qe),{path:qe,cacheHit:Ee}},$=e.pstyle("shape").strValue,ne=e.pstyle("shape-polygon-points").pfValue;if(y){t.translate(h.x,h.y);var le=se(l,u,$,ne);g=le.path,E=le.cacheHit}var Se=function(){if(!E){var Ve=h;y&&(Ve={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(g||t,Ve.x,Ve.y,l,u,ee,c)}y?t.fill(g):t.fill()},_e=function(){for(var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,j=f.backgrounding,pe=0,me=0;me<A.length;me++){var we=e.cy().style().getIndexedStyle(e,"background-image-containment","value",me);if(he&&we==="over"||!he&&we==="inside"){pe++;continue}T[me]&&A[me].complete&&!A[me].error&&(pe++,o.drawInscribedImage(t,A[me],e,me,Ve))}f.backgrounding=pe!==_,j!==f.backgrounding&&e.updateStyle(!1)},be=function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;o.hasPie(e)&&(o.drawPie(t,e,he),Ve&&(y||o.nodeShapes[o.getNodeShape(e)].draw(t,h.x,h.y,l,u,ee,c)))},Te=function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;o.hasStripe(e)&&(t.save(),y?t.clip(c.pathCache):(o.nodeShapes[o.getNodeShape(e)].draw(t,h.x,h.y,l,u,ee,c),t.clip()),o.drawStripe(t,e,he),t.restore(),Ve&&(y||o.nodeShapes[o.getNodeShape(e)].draw(t,h.x,h.y,l,u,ee,c)))},ve=function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,he=(G>0?G:-G)*Ve,j=G>0?0:255;G!==0&&(o.colorFillStyle(t,j,j,j,he),y?t.fill(g):t.fill())},de=function(){if(F>0){if(t.lineWidth=F,t.lineCap=I,t.lineJoin=N,t.setLineDash)switch(P){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(ae),t.lineDashOffset=re;break;case"solid":case"double":t.setLineDash([]);break}if(z!=="center"){if(t.save(),t.lineWidth*=2,z==="inside")y?t.clip(g):t.clip();else{var Ve=new Path2D;Ve.rect(-l/2-F,-u/2-F,l+2*F,u+2*F),Ve.addPath(g),t.clip(Ve,"evenodd")}y?t.stroke(g):t.stroke(),t.restore()}else y?t.stroke(g):t.stroke();if(P==="double"){t.lineWidth=F/3;var he=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",y?t.stroke(g):t.stroke(),t.globalCompositeOperation=he}t.setLineDash&&t.setLineDash([])}},ye=function(){if(W>0){if(t.lineWidth=W,t.lineCap="butt",t.setLineDash)switch(U){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var Ve=h;y&&(Ve={x:0,y:0});var he=o.getNodeShape(e),j=F;z==="inside"&&(j=0),z==="outside"&&(j*=2);var pe=(l+j+(W+Y))/l,me=(u+j+(W+Y))/u,we=l*pe,xe=u*me,qe=o.nodeShapes[he].points,Ee;if(y){var Oe=se(we,xe,he,qe);Ee=Oe.path}if(he==="ellipse")o.drawEllipsePath(Ee||t,Ve.x,Ve.y,we,xe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(he)){var Ie=0,He=0,Ue=0;he==="round-diamond"?Ie=(j+Y+W)*1.4:he==="round-heptagon"?(Ie=(j+Y+W)*1.075,Ue=-(j/2+Y+W)/35):he==="round-hexagon"?Ie=(j+Y+W)*1.12:he==="round-pentagon"?(Ie=(j+Y+W)*1.13,Ue=-(j/2+Y+W)/15):he==="round-tag"?(Ie=(j+Y+W)*1.12,He=(j/2+W+Y)*.07):he==="round-triangle"&&(Ie=(j+Y+W)*(Math.PI/2),Ue=-(j+Y/2+W)/Math.PI),Ie!==0&&(pe=(l+Ie)/l,we=l*pe,["round-hexagon","round-tag"].includes(he)||(me=(u+Ie)/u,xe=u*me)),ee=ee==="auto"?sk(we,xe):ee;for(var je=we/2,Je=xe/2,Ge=ee+(j+W+Y)/2,$e=new Array(qe.length/2),vt=new Array(qe.length/2),nt=0;nt<qe.length/2;nt++)$e[nt]={x:Ve.x+He+je*qe[nt*2],y:Ve.y+Ue+Je*qe[nt*2+1]};var it,Et,ct,gt,Dt=$e.length;for(Et=$e[Dt-1],it=0;it<Dt;it++)ct=$e[it%Dt],gt=$e[(it+1)%Dt],vt[it]=F1(Et,ct,gt,Ge),Et=ct,ct=gt;o.drawRoundPolygonPath(Ee||t,Ve.x+He,Ve.y+Ue,l*pe,u*me,qe,vt)}else if(["roundrectangle","round-rectangle"].includes(he))ee=ee==="auto"?Mi(we,xe):ee,o.drawRoundRectanglePath(Ee||t,Ve.x,Ve.y,we,xe,ee+(j+W+Y)/2);else if(["cutrectangle","cut-rectangle"].includes(he))ee=ee==="auto"?A1():ee,o.drawCutRectanglePath(Ee||t,Ve.x,Ve.y,we,xe,null,ee+(j+W+Y)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(he))ee=ee==="auto"?Mi(we,xe):ee,o.drawBottomRoundRectanglePath(Ee||t,Ve.x,Ve.y,we,xe,ee+(j+W+Y)/2);else if(he==="barrel")o.drawBarrelPath(Ee||t,Ve.x,Ve.y,we,xe);else if(he.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(he)){var Mt=(j+W+Y)/l;qe=Qf(Jf(qe,Mt)),o.drawPolygonPath(Ee||t,Ve.x,Ve.y,l,u,qe)}else{var Kt=(j+W+Y)/l;qe=Qf(Jf(qe,-Kt)),o.drawPolygonPath(Ee||t,Ve.x,Ve.y,l,u,qe)}if(y?t.stroke(Ee):t.stroke(),U==="double"){t.lineWidth=j/3;var Lt=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",y?t.stroke(Ee):t.stroke(),t.globalCompositeOperation=Lt}t.setLineDash&&t.setLineDash([])}},Ce=function(){a&&o.drawNodeOverlay(t,e,h,l,u)},ue=function(){a&&o.drawNodeUnderlay(t,e,h,l,u)},Ae=function(){o.drawElementText(t,e,null,n)},Pe=e.pstyle("ghost").value==="yes";if(Pe){var Fe=e.pstyle("ghost-offset-x").pfValue,Ye=e.pstyle("ghost-offset-y").pfValue,We=e.pstyle("ghost-opacity").value,Qe=We*p;t.translate(Fe,Ye),ie(),ye(),oe(We*q),Se(),_e(Qe,!0),te(We*K),de(),be(G!==0||F!==0),Te(G!==0||F!==0),_e(Qe,!1),ve(Qe),t.translate(-Fe,-Ye)}y&&t.translate(-h.x,-h.y),ue(),y&&t.translate(h.x,h.y),ie(),ye(),oe(),Se(),_e(p,!0),te(),de(),be(G!==0||F!==0),Te(G!==0||F!==0),_e(p,!1),ve(),y&&t.translate(-h.x,-h.y),Ae(),Ce(),r&&t.translate(v.x1,v.y1)}};var dN=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,o){var l=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,f=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,h=n.pstyle("".concat(e,"-shape")).value,p=n.pstyle("".concat(e,"-corner-radius")).value;if(f>0){if(a=a||n.position(),i==null||o==null){var y=n.padding();i=n.width()+2*y,o=n.height()+2*y}l.colorFillStyle(r,c[0],c[1],c[2],f),l.nodeShapes[h].draw(r,a.x,a.y,i+u*2,o+u*2,p),r.fill()}}}};Bi.drawNodeOverlay=dN("overlay");Bi.drawNodeUnderlay=dN("underlay");Bi.hasPie=function(t){return t=t[0],t._private.hasPie};Bi.hasStripe=function(t){return t=t[0],t._private.hasStripe};Bi.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),o=e.pstyle("pie-hole"),l=e.pstyle("pie-start-angle").pfValue,u=n.x,f=n.y,c=e.width(),h=e.height(),p=Math.min(c,h)/2,y,g=0,E=this.usePaths();if(E&&(u=0,f=0),i.units==="%"?p=p*i.pfValue:i.pfValue!==void 0&&(p=i.pfValue/2),o.units==="%"?y=p*o.pfValue:o.pfValue!==void 0&&(y=o.pfValue/2),!(y>=p))for(var x=1;x<=a.pieBackgroundN;x++){var v=e.pstyle("pie-"+x+"-background-size").value,C=e.pstyle("pie-"+x+"-background-color").value,w=e.pstyle("pie-"+x+"-background-opacity").value*r,T=v/100;T+g>1&&(T=1-g);var A=1.5*Math.PI+2*Math.PI*g;A+=l;var _=2*Math.PI*T,D=A+_;v===0||g>=1||g+T>1||(y===0?(t.beginPath(),t.moveTo(u,f),t.arc(u,f,p,A,D),t.closePath()):(t.beginPath(),t.arc(u,f,p,A,D),t.arc(u,f,y,D,A,!0),t.closePath()),this.colorFillStyle(t,C[0],C[1],C[2],w),t.fill(),g+=T)}};Bi.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=n.x,o=n.y,l=e.width(),u=e.height(),f=0,c=this.usePaths();t.save();var h=e.pstyle("stripe-direction").value,p=e.pstyle("stripe-size");switch(h){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var y=l,g=u;p.units==="%"?(y=y*p.pfValue,g=g*p.pfValue):p.pfValue!==void 0&&(y=p.pfValue,g=p.pfValue),c&&(i=0,o=0),o-=y/2,i-=g/2;for(var E=1;E<=a.stripeBackgroundN;E++){var x=e.pstyle("stripe-"+E+"-background-size").value,v=e.pstyle("stripe-"+E+"-background-color").value,C=e.pstyle("stripe-"+E+"-background-opacity").value*r,w=x/100;w+f>1&&(w=1-f),!(x===0||f>=1||f+w>1)&&(t.beginPath(),t.rect(i,o+g*f,y,g*w),t.closePath(),this.colorFillStyle(t,v[0],v[1],v[2],C),t.fill(),f+=w)}t.restore()};var An={},JU=100;An.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};An.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};An.createGradientStyleFor=function(t,e,r,n,a){var i,o=this.usePaths(),l=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var f=r.sourceEndpoint(),c=r.targetEndpoint(),h=r.midpoint(),p=mo(f,h),y=mo(c,h);i=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(p,y))}else{var g=o?{x:0,y:0}:r.position(),E=r.paddedWidth(),x=r.paddedHeight();i=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(E,x))}else if(r.isEdge()){var v=r.sourceEndpoint(),C=r.targetEndpoint();i=t.createLinearGradient(v.x,v.y,C.x,C.y)}else{var w=o?{x:0,y:0}:r.position(),T=r.paddedWidth(),A=r.paddedHeight(),_=T/2,D=A/2,R=r.pstyle("background-gradient-direction").value;switch(R){case"to-bottom":i=t.createLinearGradient(w.x,w.y-D,w.x,w.y+D);break;case"to-top":i=t.createLinearGradient(w.x,w.y+D,w.x,w.y-D);break;case"to-left":i=t.createLinearGradient(w.x+_,w.y,w.x-_,w.y);break;case"to-right":i=t.createLinearGradient(w.x-_,w.y,w.x+_,w.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(w.x-_,w.y-D,w.x+_,w.y+D);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(w.x-_,w.y+D,w.x+_,w.y-D);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(w.x+_,w.y-D,w.x-_,w.y+D);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(w.x+_,w.y+D,w.x-_,w.y-D);break}}if(!i)return null;for(var k=u.length===l.length,B=l.length,G=0;G<B;G++)i.addColorStop(k?u[G]:G/(B-1),"rgba("+l[G][0]+","+l[G][1]+","+l[G][2]+","+a+")");return i};An.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};An.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};An.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};An.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};An.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};An.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};An.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],o=e.getPixelRatio(),l=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=l);var u=a*o,f=i*o,c;if(!(u===e.canvasWidth&&f===e.canvasHeight)){e.fontCaches=null;var h=r.canvasContainer;h.style.width=a+"px",h.style.height=i+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)c=r.canvases[p],c.width=u,c.height=f,c.style.width=a+"px",c.style.height=i+"px";for(var p=0;p<e.BUFFER_COUNT;p++)c=r.bufferCanvases[p],c.width=u,c.height=f,c.style.width=a+"px",c.style.height=i+"px";e.textureMult=1,o<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=u*e.textureMult,c.height=f*e.textureMult),e.canvasWidth=u,e.canvasHeight=f,e.pixelRatio=o}};An.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};An.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};An.render=function(t){var e=this;t=t||rk();var r=e.cy,n=t.forcedContext,a=t.drawAllLayers,i=t.drawOnlyNodeLayer,o=t.forcedZoom,l=t.forcedPan,u=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,f=e.data,c=f.canvasNeedsRedraw,h=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,y=e.motionBlurPxRatio,g=r.hasCompoundNodes(),E=e.hoverData.draggingEles,x=!!(e.hoverData.selecting||e.touchData.selecting);p=p&&!n&&e.motionBlurEnabled&&!x;var v=p;n||(e.prevPxRatio!==u&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=u),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),p&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(v=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!h&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var C=r.style(),w=r.zoom(),T=o!==void 0?o:w,A=r.pan(),_={x:A.x,y:A.y},D={zoom:w,pan:{x:A.x,y:A.y}},R=e.prevViewport,k=R===void 0||D.zoom!==R.zoom||D.pan.x!==R.pan.x||D.pan.y!==R.pan.y;!k&&!(E&&!g)&&(e.motionBlurPxRatio=1),l&&(_=l),T*=u,_.x*=u,_.y*=u;var B=e.getCachedZSortedEles();function G(te,ie,se,$,ne){var le=te.globalCompositeOperation;te.globalCompositeOperation="destination-out",e.colorFillStyle(te,255,255,255,e.motionBlurTransparency),te.fillRect(ie,se,$,ne),te.globalCompositeOperation=le}function F(te,ie){var se,$,ne,le;!e.clearingMotionBlur&&(te===f.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||te===f.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(se={x:A.x*y,y:A.y*y},$=w*y,ne=e.canvasWidth*y,le=e.canvasHeight*y):(se=_,$=T,ne=e.canvasWidth,le=e.canvasHeight),te.setTransform(1,0,0,1,0,0),ie==="motionBlur"?G(te,0,0,ne,le):!n&&(ie===void 0||ie)&&te.clearRect(0,0,ne,le),a||(te.translate(se.x,se.y),te.scale($,$)),l&&te.translate(l.x,l.y),o&&te.scale(o,o)}if(h||(e.textureDrawLastFrame=!1),h){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var q=e.data.bufferContexts[e.TEXTURE_BUFFER];q.setTransform(1,0,0,1,0,0),q.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:q,drawOnlyNodeLayer:!0,forcedPxRatio:u*e.textureMult});var D=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};D.mpan={x:(0-D.pan.x)/D.zoom,y:(0-D.pan.y)/D.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var M=f.contexts[e.NODE],P=e.textureCache.texture,D=e.textureCache.viewport;M.setTransform(1,0,0,1,0,0),p?G(M,0,0,D.width,D.height):M.clearRect(0,0,D.width,D.height);var N=C.core("outside-texture-bg-color").value,I=C.core("outside-texture-bg-opacity").value;e.colorFillStyle(M,N[0],N[1],N[2],I),M.fillRect(0,0,D.width,D.height);var w=r.zoom();F(M,!1),M.clearRect(D.mpan.x,D.mpan.y,D.width/D.zoom/u,D.height/D.zoom/u),M.drawImage(P,D.mpan.x,D.mpan.y,D.width/D.zoom/u,D.height/D.zoom/u)}else e.textureOnViewport&&!n&&(e.textureCache=null);var z=r.extent(),ae=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),re=e.hideEdgesOnViewport&&ae,K=[];if(K[e.NODE]=!c[e.NODE]&&p&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,K[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),K[e.DRAG]=!c[e.DRAG]&&p&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,K[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||a||i||K[e.NODE]){var W=p&&!K[e.NODE]&&y!==1,M=n||(W?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:f.contexts[e.NODE]),Z=p&&!W?"motionBlur":void 0;F(M,Z),re?e.drawCachedNodes(M,B.nondrag,u,z):e.drawLayeredElements(M,B.nondrag,u,z),e.debug&&e.drawDebugPoints(M,B.nondrag),!a&&!p&&(c[e.NODE]=!1)}if(!i&&(c[e.DRAG]||a||K[e.DRAG])){var W=p&&!K[e.DRAG]&&y!==1,M=n||(W?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:f.contexts[e.DRAG]);F(M,p&&!W?"motionBlur":void 0),re?e.drawCachedNodes(M,B.drag,u,z):e.drawCachedElements(M,B.drag,u,z),e.debug&&e.drawDebugPoints(M,B.drag),!a&&!p&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,F),p&&y!==1){var U=f.contexts[e.NODE],V=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],Y=f.contexts[e.DRAG],ee=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],oe=function(ie,se,$){ie.setTransform(1,0,0,1,0,0),$||!v?ie.clearRect(0,0,e.canvasWidth,e.canvasHeight):G(ie,0,0,e.canvasWidth,e.canvasHeight);var ne=y;ie.drawImage(se,0,0,e.canvasWidth*ne,e.canvasHeight*ne,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||K[e.NODE])&&(oe(U,V,K[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||K[e.DRAG])&&(oe(Y,ee,K[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=D,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),p&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!h,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},JU)),n||r.emit("render")};var yl;An.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,a=r.data,i=n.style(),o=t.drawOnlyNodeLayer,l=t.drawAllLayers,u=a.canvasNeedsRedraw,f=t.forcedContext;if(r.showFps||!o&&u[r.SELECT_BOX]&&!l){var c=f||a.contexts[r.SELECT_BOX];if(e(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var h=r.cy.zoom(),p=i.core("selection-box-border-width").value/h;c.lineWidth=p,c.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),p>0&&(c.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var h=r.cy.zoom(),y=a.bgActivePosistion;c.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",c.beginPath(),c.arc(y.x,y.y,i.core("active-bg-size").pfValue/h,0,2*Math.PI),c.fill()}var g=r.lastRedrawTime;if(r.showFps&&g){g=Math.round(g);var E=Math.round(1e3/g),x="1 frame = "+g+" ms = "+E+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!yl){var v=c.measureText(x);yl=v.actualBoundingBoxAscent}c.fillText(x,0,yl);var C=60;c.strokeRect(0,yl+10,250,20),c.fillRect(0,yl+10,250*Math.min(E/C,1),20)}l||(u[r.SELECT_BOX]=!1)}};function lS(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function eW(t,e,r){var n=lS(t,t.VERTEX_SHADER,e),a=lS(t,t.FRAGMENT_SHADER,r),i=t.createProgram();if(t.attachShader(i,n),t.attachShader(i,a),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function tW(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function z1(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function rW(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function nW(t,e,r,n,a){var i=n*r+e.x,o=a*r+e.y;return o=Math.round(t.canvasHeight-o),[i,o]}function aW(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function iW(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function no(t,e,r){var n=t[0]/255,a=t[1]/255,i=t[2]/255,o=e,l=r||new Array(4);return l[0]=n*o,l[1]=a*o,l[2]=i*o,l[3]=o,l}function as(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function oW(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function sW(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function hN(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function vN(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function lW(t,e,r,n,a,i){switch(e){case t.FLOAT:return new Float32Array(r.buffer,i*n,a);case t.INT:return new Int32Array(r.buffer,i*n,a)}}function uW(t,e,r,n){var a=hN(t,e),i=Br(a,2),o=i[0],l=i[1],u=vN(t,l,n),f=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,u,t.STATIC_DRAW),l===t.FLOAT?t.vertexAttribPointer(r,o,l,!1,0,0):l===t.INT&&t.vertexAttribIPointer(r,o,l,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),f}function ma(t,e,r,n){var a=hN(t,r),i=Br(a,3),o=i[0],l=i[1],u=i[2],f=vN(t,l,e*o),c=o*u,h=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferData(t.ARRAY_BUFFER,e*c,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),l===t.FLOAT?t.vertexAttribPointer(n,o,l,!1,c,0):l===t.INT&&t.vertexAttribIPointer(n,o,l,c,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var p=new Array(e),y=0;y<e;y++)p[y]=lW(t,l,f,c,o,y);return h.dataArray=f,h.stride=c,h.size=o,h.getView=function(g){return p[g]},h.setPoint=function(g,E,x){var v=p[g];v[0]=E,v[1]=x},h.bufferSubData=function(g){t.bindBuffer(t.ARRAY_BUFFER,h),g?t.bufferSubData(t.ARRAY_BUFFER,0,f,0,g*o):t.bufferSubData(t.ARRAY_BUFFER,0,f)},h}function fW(t,e,r){for(var n=9,a=new Float32Array(e*n),i=new Array(e),o=0;o<e;o++){var l=o*n*4;i[o]=new Float32Array(a.buffer,l,n)}var u=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,a.byteLength,t.DYNAMIC_DRAW);for(var f=0;f<3;f++){var c=r+f;t.enableVertexAttribArray(c),t.vertexAttribPointer(c,3,t.FLOAT,!1,3*12,f*12),t.vertexAttribDivisor(c,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),u.getMatrixView=function(h){return i[h]},u.setData=function(h,p){i[p].set(h,0)},u.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferSubData(t.ARRAY_BUFFER,0,a)},u}function cW(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,a){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,a,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var uS=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Iv(){var t=new uS(9);return uS!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function fS(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function dW(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],l=e[4],u=e[5],f=e[6],c=e[7],h=e[8],p=r[0],y=r[1],g=r[2],E=r[3],x=r[4],v=r[5],C=r[6],w=r[7],T=r[8];return t[0]=p*n+y*o+g*f,t[1]=p*a+y*l+g*c,t[2]=p*i+y*u+g*h,t[3]=E*n+x*o+v*f,t[4]=E*a+x*l+v*c,t[5]=E*i+x*u+v*h,t[6]=C*n+w*o+T*f,t[7]=C*a+w*l+T*c,t[8]=C*i+w*u+T*h,t}function Rf(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],l=e[4],u=e[5],f=e[6],c=e[7],h=e[8],p=r[0],y=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=l,t[5]=u,t[6]=p*n+y*o+f,t[7]=p*a+y*l+c,t[8]=p*i+y*u+h,t}function cS(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],l=e[4],u=e[5],f=e[6],c=e[7],h=e[8],p=Math.sin(r),y=Math.cos(r);return t[0]=y*n+p*o,t[1]=y*a+p*l,t[2]=y*i+p*u,t[3]=y*o-p*n,t[4]=y*l-p*a,t[5]=y*u-p*i,t[6]=f,t[7]=c,t[8]=h,t}function Xb(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function hW(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var vW=function(){function t(e,r,n,a){Oi(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(e,r,r),this.scratch=a(e,r,this.texHeight,"scratch")}return Ii(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,i=this.texHeight,o=this.texSize,l=i/a,u=n*l,f=a*l;return u>o&&(l=o/n,u=n*l,f=a*l),{scale:l,texW:u,texH:f}}},{key:"draw",value:function(r,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,l=this.texRows,u=this.texHeight,f=this.getScale(n),c=f.scale,h=f.texW,p=f.texH,y=function(w,T){if(a&&T){var A=T.context,_=w.x,D=w.row,R=_,k=u*D;A.save(),A.translate(R,k),A.scale(c,c),a(A,n),A.restore()}},g=[null,null],E=function(){y(i.freePointer,i.canvas),g[0]={x:i.freePointer.x,y:i.freePointer.row*u,w:h,h:p},g[1]={x:i.freePointer.x+h,y:i.freePointer.row*u,w:0,h:p},i.freePointer.x+=h,i.freePointer.x==o&&(i.freePointer.x=0,i.freePointer.row++)},x=function(){var w=i.scratch,T=i.canvas;w.clear(),y({x:0,row:0},w);var A=o-i.freePointer.x,_=h-A,D=u;{var R=i.freePointer.x,k=i.freePointer.row*u,B=A;T.context.drawImage(w,0,0,B,D,R,k,B,D),g[0]={x:R,y:k,w:B,h:p}}{var G=A,F=(i.freePointer.row+1)*u,q=_;T&&T.context.drawImage(w,G,0,q,D,0,F,q,D),g[1]={x:0,y:F,w:q,h:p}}i.freePointer.x=_,i.freePointer.row++},v=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+h<=o)E();else{if(this.freePointer.row>=l-1)return!1;this.freePointer.x===o?(v(),E()):this.enableWrapping?x():(v(),E())}return this.keyToLocation.set(r,g),this.needsBuffer=!0,g}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(r),o=i.texW;return this.freePointer.x+o>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=sW(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),pW=function(){function t(e,r,n,a){Oi(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Ii(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new vW(r,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,o=Math.floor(n/a);this.scratch=i(r,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a){var i=this.styleKeyToAtlas.get(r);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(r,n,a),this.styleKeyToAtlas.set(r,i)),i}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,o=null,l=Pn(this.atlases),u;try{var f=function(){var h=u.value,p=h.getKeys(),y=gW(n,p);if(y.size===0)return a.push(h),p.forEach(function(A){return i.set(A,h)}),1;o||(o=r._createAtlas(),a.push(o));var g=Pn(p),E;try{for(g.s();!(E=g.n()).done;){var x=E.value;if(!y.has(x)){var v=h.getOffsets(x),C=Br(v,2),w=C[0],T=C[1];o.canFit({w:w.w+T.w,h:w.h})||(o.lock(),o=r._createAtlas(),a.push(o)),h.canvas&&(r._copyTextureToNewAtlas(x,h,o),i.set(x,o))}}}catch(A){g.e(A)}finally{g.f()}h.dispose()};for(l.s();!(u=l.n()).done;)f()}catch(c){l.e(c)}finally{l.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var i=n.getOffsets(r),o=Br(i,2),l=o[0],u=o[1];if(u.w===0)a.draw(r,l,function(p){p.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h)});else{var f=this._getScratchCanvas();f.clear(),f.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h),f.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,l.w,0,u.w,u.h);var c=l.w+u.w,h=l.h;a.draw(r,{w:c,h},function(p){p.drawImage(f,0,0,c,h,0,0,c,h)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function gW(t,e){return t.intersection?t.intersection(e):new Set(Xf(t).filter(function(r){return e.has(r)}))}var yW=function(){function t(e,r){Oi(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Ii(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var a=this.globalOptions,i=a.webglTexSize,o=a.createTextureCanvas,l=n.texRows,u=this._cacheScratchCanvas(o),f=new pW(this.r,i,l,u);this.collections.set(r,f)}},{key:"addRenderType",value:function(r,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),o=xt({type:r,atlasCollection:i},n);this.renderTypes.set(r,o)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,i=null;return function(o,l,u,f){return f?((!i||l!=n||u!=a)&&(n=l,a=u,i=r(o,l,u)),i):r(o,l,u)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.forceRedraw,o=i===void 0?!1:i,l=a.filterEle,u=l===void 0?function(){return!0}:l,f=a.filterType,c=f===void 0?function(){return!0}:f,h=!1,p=!1,y=Pn(r),g;try{for(y.s();!(g=y.n()).done;){var E=g.value;if(u(E)){var x=Pn(this.renderTypes.values()),v;try{var C=function(){var T=v.value,A=T.type;if(c(A)){var _=n.collections.get(T.collection),D=T.getKey(E),R=Array.isArray(D)?D:[D];if(o)R.forEach(function(F){return _.markKeyForGC(F)}),p=!0;else{var k=T.getID?T.getID(E):E.id(),B=n._key(A,k),G=n.typeAndIdToKey.get(B);G!==void 0&&!iW(R,G)&&(h=!0,n.typeAndIdToKey.delete(B),G.forEach(function(F){return _.markKeyForGC(F)}))}}};for(x.s();!(v=x.n()).done;)C()}catch(w){x.e(w)}finally{x.f()}}}}catch(w){y.e(w)}finally{y.f()}return p&&(this.gc(),h=!1),h}},{key:"gc",value:function(){var r=Pn(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.gc()}}catch(i){r.e(i)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,a,i){var o=this.renderTypes.get(n),l=this.collections.get(o.collection),u=!1,f=l.draw(i,a,function(p){o.drawClipped?(p.save(),p.beginPath(),p.rect(0,0,a.w,a.h),p.clip(),o.drawElement(p,r,a,!0,!0),p.restore()):o.drawElement(p,r,a,!0,!0),u=!0});if(u){var c=o.getID?o.getID(r):r.id(),h=this._key(n,c);this.typeAndIdToKey.has(h)?this.typeAndIdToKey.get(h).push(i):this.typeAndIdToKey.set(h,[i])}return f}},{key:"getAtlasInfo",value:function(r,n){var a=this,i=this.renderTypes.get(n),o=i.getKey(r),l=Array.isArray(o)?o:[o];return l.map(function(u){var f=i.getBoundingBox(r,u),c=a.getOrCreateAtlas(r,n,f,u),h=c.getOffsets(u),p=Br(h,2),y=p[0],g=p[1];return{atlas:c,tex:y,tex1:y,tex2:g,bb:f}})}},{key:"getDebugInfo",value:function(){var r=[],n=Pn(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=Br(a.value,2),o=i[0],l=i[1],u=l.getCounts(),f=u.keyCount,c=u.atlasCount;r.push({type:o,keyCount:f,atlasCount:c})}}catch(h){n.e(h)}finally{n.f()}return r}}])}(),mW=function(){function t(e){Oi(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return Ii(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])}(),bW=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,wW=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,xW=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,CW=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Il={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},oc={IGNORE:1,USE_BB:2},Fv=0,dS=1,hS=2,Bv=3,is=4,pf=5,ml=6,bl=7,EW=function(){function t(e,r,n){Oi(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=tW,this.atlasManager=new yW(e,n),this.batchManager=new mW(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Il.SCREEN),this.pickingProgram=this._createShaderProgram(Il.PICKING),this.vao=this._createVAO()}return Ii(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(r,{filterType:function(l){return l===a},forceRedraw:!0}):i.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Fv,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(is," || aVertType == ").concat(bl,` 
             || aVertType == `).concat(pf," || aVertType == ").concat(ml,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(dS,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(hS,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Bv,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(f){return"uniform sampler2D uTexture".concat(f,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(bW,`
      `).concat(wW,`
      `).concat(xW,`
      `).concat(CW,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Fv,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(f){return"if(vAtlasId == ".concat(f,") outColor = texture(uTexture").concat(f,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Bv,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(is,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(is," || vVertType == ").concat(bl,` 
          || vVertType == `).concat(pf," || vVertType == ").concat(ml,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(is,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(bl,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(bl,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),l=eW(n,a,o);l.aPosition=n.getAttribLocation(l,"aPosition"),l.aIndex=n.getAttribLocation(l,"aIndex"),l.aVertType=n.getAttribLocation(l,"aVertType"),l.aTransform=n.getAttribLocation(l,"aTransform"),l.aAtlasId=n.getAttribLocation(l,"aAtlasId"),l.aTex=n.getAttribLocation(l,"aTex"),l.aPointAPointB=n.getAttribLocation(l,"aPointAPointB"),l.aPointCPointD=n.getAttribLocation(l,"aPointCPointD"),l.aLineWidth=n.getAttribLocation(l,"aLineWidth"),l.aColor=n.getAttribLocation(l,"aColor"),l.aCornerRadius=n.getAttribLocation(l,"aCornerRadius"),l.aBorderColor=n.getAttribLocation(l,"aBorderColor"),l.uPanZoomMatrix=n.getUniformLocation(l,"uPanZoomMatrix"),l.uAtlasSize=n.getUniformLocation(l,"uAtlasSize"),l.uBGColor=n.getUniformLocation(l,"uBGColor"),l.uZoom=n.getUniformLocation(l,"uZoom"),l.uTextures=[];for(var u=0;u<this.batchManager.getMaxAtlasesPerBatch();u++)l.uTextures.push(n.getUniformLocation(l,"uTexture".concat(u)));return l}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,a=this.gl,i=this.program,o=a.createVertexArray();return a.bindVertexArray(o),uW(a,"vec2",i.aPosition,r),this.transformBuffer=fW(a,n,i.aTransform),this.indexBuffer=ma(a,n,"vec4",i.aIndex),this.vertTypeBuffer=ma(a,n,"int",i.aVertType),this.atlasIdBuffer=ma(a,n,"int",i.aAtlasId),this.texBuffer=ma(a,n,"vec4",i.aTex),this.pointAPointBBuffer=ma(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=ma(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=ma(a,n,"vec2",i.aLineWidth),this.colorBuffer=ma(a,n,"vec4",i.aColor),this.cornerRadiusBuffer=ma(a,n,"vec4",i.aCornerRadius),this.borderColorBuffer=ma(a,n,"vec4",i.aBorderColor),a.bindVertexArray(null),o}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Il.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,a){var i=this.atlasManager,o=this.batchManager,l=i.getRenderTypeOpts(a);if(this._isVisible(r,l)){if(this.renderTarget.picking&&l.getTexPickingMode){var u=l.getTexPickingMode(r);if(u===oc.IGNORE)return;if(u==oc.USE_BB){this.drawPickingRectangle(r,n,a);return}}var f=i.getAtlasInfo(r,a),c=Pn(f),h;try{for(c.s();!(h=c.n()).done;){var p=h.value,y=p.atlas,g=p.tex1,E=p.tex2;o.canAddToCurrentBatch(y)||this.endBatch();for(var x=o.getAtlasIndexForBatch(y),v=0,C=[[g,!0],[E,!1]];v<C.length;v++){var w=Br(C[v],2),T=w[0],A=w[1];if(T.w!=0){var _=this.instanceCount;this.vertTypeBuffer.getView(_)[0]=Fv;var D=this.indexBuffer.getView(_);as(n,D);var R=this.atlasIdBuffer.getView(_);R[0]=x;var k=this.texBuffer.getView(_);k[0]=T.x,k[1]=T.y,k[2]=T.w,k[3]=T.h;var B=this.transformBuffer.getMatrixView(_);this.setTransformMatrix(r,B,l,p,A),this.instanceCount++,A||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(G){c.e(G)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(r,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=0;if(a.shapeProps&&a.shapeProps.padding&&(l=r.pstyle(a.shapeProps.padding).pfValue),i){var u=i.bb,f=i.tex1,c=i.tex2,h=f.w/(f.w+c.w);o||(h=1-h);var p=this._getAdjustedBB(u,l,o,h);this._applyTransformMatrix(n,p,a,r)}else{var y=a.getBoundingBox(r),g=this._getAdjustedBB(y,l,!0,1);this._applyTransformMatrix(n,g,a,r)}}},{key:"_applyTransformMatrix",value:function(r,n,a,i){var o,l;fS(r);var u=a.getRotation?a.getRotation(i):0;if(u!==0){var f=a.getRotationPoint(i),c=f.x,h=f.y;Rf(r,r,[c,h]),cS(r,r,u);var p=a.getRotationOffset(i);o=p.x+(n.xOffset||0),l=p.y+(n.yOffset||0)}else o=n.x1,l=n.y1;Rf(r,r,[o,l]),Xb(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,a,i){var o=r.x1,l=r.y1,u=r.w,f=r.h,c=r.yOffset;n&&(o-=n,l-=n,u+=2*n,f+=2*n);var h=0,p=u*i;return a&&i<1?u=p:!a&&i<1&&(h=u-p,o+=h,u=p),{x1:o,y1:l,w:u,h:f,xOffset:h,yOffset:c}}},{key:"drawPickingRectangle",value:function(r,n,a){var i=this.atlasManager.getRenderTypeOpts(a),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=is;var l=this.indexBuffer.getView(o);as(n,l);var u=this.colorBuffer.getView(o);no([0,0,0],1,u);var f=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(r,f,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,a){var i=this.simpleShapeOptions.get(a);if(this._isVisible(r,i)){var o=i.shapeProps,l=this._getVertTypeForShape(r,o.shape);if(l===void 0||i.isSimple&&!i.isSimple(r)){this.drawTexture(r,n,a);return}var u=this.instanceCount;if(this.vertTypeBuffer.getView(u)[0]=l,l===pf||l===ml){var f=i.getBoundingBox(r),c=this._getCornerRadius(r,o.radius,f),h=this.cornerRadiusBuffer.getView(u);h[0]=c,h[1]=c,h[2]=c,h[3]=c,l===ml&&(h[0]=0,h[2]=0)}var p=this.indexBuffer.getView(u);as(n,p);var y=r.pstyle(o.color).value,g=r.pstyle(o.opacity).value,E=this.colorBuffer.getView(u);no(y,g,E);var x=this.lineWidthBuffer.getView(u);if(x[0]=0,x[1]=0,o.border){var v=r.pstyle("border-width").value;if(v>0){var C=r.pstyle("border-color").value,w=r.pstyle("border-opacity").value,T=this.borderColorBuffer.getView(u);no(C,w,T);var A=r.pstyle("border-position").value;if(A==="inside")x[0]=0,x[1]=-v;else if(A==="outside")x[0]=v,x[1]=0;else{var _=v/2;x[0]=_,x[1]=-_}}}var D=this.transformBuffer.getMatrixView(u);this.setTransformMatrix(r,D,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var a=r.pstyle(n).value;switch(a){case"rectangle":return is;case"ellipse":return bl;case"roundrectangle":case"round-rectangle":return pf;case"bottom-round-rectangle":return ml;default:return}}},{key:"_getCornerRadius",value:function(r,n,a){var i=a.w,o=a.h;if(r.pstyle(n).value==="auto")return Mi(i,o);var l=r.pstyle(n).pfValue,u=i/2,f=o/2;return Math.min(l,f,u)}},{key:"drawEdgeArrow",value:function(r,n,a){if(r.visible()){var i=r._private.rscratch,o,l,u;if(a==="source"?(o=i.arrowStartX,l=i.arrowStartY,u=i.srcArrowAngle):(o=i.arrowEndX,l=i.arrowEndY,u=i.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(l)||l==null||isNaN(u)||u==null)){var f=r.pstyle(a+"-arrow-shape").value;if(f!=="none"){var c=r.pstyle(a+"-arrow-color").value,h=r.pstyle("opacity").value,p=r.pstyle("line-opacity").value,y=h*p,g=r.pstyle("width").pfValue,E=r.pstyle("arrow-scale").value,x=this.r.getArrowWidth(g,E),v=this.instanceCount,C=this.transformBuffer.getMatrixView(v);fS(C),Rf(C,C,[o,l]),Xb(C,C,[x,x]),cS(C,C,u),this.vertTypeBuffer.getView(v)[0]=Bv;var w=this.indexBuffer.getView(v);as(n,w);var T=this.colorBuffer.getView(v);no(c,y,T),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var a=this._getEdgePoints(r);if(a){var i=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,l=r.pstyle("width").pfValue,u=r.pstyle("line-color").value,f=i*o;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=dS;var h=this.indexBuffer.getView(c);as(n,h);var p=this.colorBuffer.getView(c);no(u,f,p);var y=this.lineWidthBuffer.getView(c);y[0]=l;var g=this.pointAPointBBuffer.getView(c);g[0]=a[0],g[1]=a[1],g[2]=a[2],g[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var E=0;E<a.length-2;E+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=hS;var v=this.indexBuffer.getView(x);as(n,v);var C=this.colorBuffer.getView(x);no(u,f,C);var w=this.lineWidthBuffer.getView(x);w[0]=l;var T=a[E-2],A=a[E-1],_=a[E],D=a[E+1],R=a[E+2],k=a[E+3],B=a[E+4],G=a[E+5];E==0&&(T=2*_-R+.001,A=2*D-k+.001),E==a.length-4&&(B=2*R-_+.001,G=2*k-D+.001);var F=this.pointAPointBBuffer.getView(x);F[0]=T,F[1]=A,F[2]=_,F[3]=D;var q=this.pointCPointDBuffer.getView(x);q[0]=R,q[1]=k,q[2]=B,q[3]=G,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))){var a=n.allpts;if(a.length==4)return a;var i=this._getNumSegments(r);return this._getCurveSegmentPoints(a,i)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=r[0],a[1]=r[1];else if(i==n)a[i*2]=r[r.length-2],a[i*2+1]=r[r.length-1];else{var o=i/n;this._setCurvePoint(r,o,a,i*2)}return a}},{key:"_setCurvePoint",value:function(r,n,a,i){if(r.length<=2)a[i]=r[0],a[i+1]=r[1];else{for(var o=Array(r.length-2),l=0;l<o.length;l+=2){var u=(1-n)*r[l]+n*r[l+2],f=(1-n)*r[l+1]+n*r[l+3];o[l]=u,o[l+1]=f}return this._setCurvePoint(o,n,a,i)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(o),r.bindVertexArray(n);var l=Pn(this.buffers),u;try{for(l.s();!(u=l.n()).done;){var f=u.value;f.bufferSubData(i)}}catch(g){l.e(g)}finally{l.f()}for(var c=this.batchManager.getAtlases(),h=0;h<c.length;h++)c[h].bufferIfNeeded(r);for(var p=0;p<c.length;p++)r.activeTexture(r.TEXTURE0+p),r.bindTexture(r.TEXTURE_2D,c[p].texture),r.uniform1i(o.uTextures[p],p);r.uniform1f(o.uZoom,rW(this.r)),r.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var y=no(this.bgColor,1);r.uniform4fv(o.uBGColor,y),r.drawArraysInstanced(r.TRIANGLES,0,a,i),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(o,l){return o+l.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(o,l){return o+l.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])}(),pN={};pN.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=TW(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=cW(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new EW(r,n,t);var a=function(h){return function(p){return r.getTextAngle(p,h)}},i=function(h){return function(p){var y=p.pstyle(h);return y&&y.value}},o=function(h){return function(p){return p.pstyle("".concat(h,"-opacity")).value>0}},l=function(h){var p=h.pstyle("text-events").strValue==="yes";return p?oc.USE_BB:oc.IGNORE},u=function(h){var p=h.position(),y=p.x,g=p.y,E=h.outerWidth(),x=h.outerHeight();return{w:E,h:x,x1:y-E/2,y1:g-x/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:u,isSimple:aW,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:u,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:u,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:l,getKey:qv(e.getLabelKey,null),getBoundingBox:zv(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:a(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:i("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:l,getKey:qv(e.getSourceLabelKey,"source"),getBoundingBox:zv(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:a("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:i("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:l,getKey:qv(e.getTargetLabelKey,"target"),getBoundingBox:zv(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:a("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:i("target-label")});var f=fu(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,h){var p=!1;h&&h.length>0&&(p|=r.drawing.invalidate(h)),p&&f()}),SW(r)};function TW(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return VP(r)}function gN(t,e){var r=t._private.rscratch;return Mn(r,"labelWrapCachedLines",e)||[]}var qv=function(e,r){return function(n){var a=e(n),i=gN(n,r);return i.length>1?i.map(function(o,l){return"".concat(a,"_").concat(l)}):a}},zv=function(e,r){return function(n,a){var i=e(n);if(typeof a=="string"){var o=a.indexOf("_");if(o>0){var l=Number(a.substring(o+1)),u=gN(n,r),f=i.h/u.length,c=f*l,h=i.y1+c;return{x1:i.x1,w:i.w,y1:h,h:f,yOffset:c}}}return i}};function SW(t){{var e=t.render;t.render=function(i){i=i||{};var o=t.cy;t.webgl&&(o.zoom()>lN?(AW(t),e.call(t,i)):(LW(t),mN(t,i,Il.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(i){r.call(t,i),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(i,o,l,u){return kW(t,i,o)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var a=t.notify;t.notify=function(i,o){a.call(t,i,o),i==="viewport"||i==="bounds"?t.pickingFrameBuffer.needsDraw=!0:i==="background"&&t.drawing.invalidate(o,{type:"node-body"})}}}function AW(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function LW(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function _W(t){var e=t.canvasWidth,r=t.canvasHeight,n=z1(t),a=n.pan,i=n.zoom,o=Iv();Rf(o,o,[a.x,a.y]),Xb(o,o,[i,i]);var l=Iv();hW(l,e,r);var u=Iv();return dW(u,l,o),u}function yN(t,e){var r=t.canvasWidth,n=t.canvasHeight,a=z1(t),i=a.pan,o=a.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(i.x,i.y),e.scale(o,o)}function DW(t,e){t.drawSelectionRectangle(e,function(r){return yN(t,r)})}function MW(t){var e=t.data.contexts[t.NODE];e.save(),yN(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function RW(t){var e=function(a,i,o){for(var l=a.atlasManager.getAtlasCollection(i),u=t.data.contexts[t.NODE],f=l.atlases,c=0;c<f.length;c++){var h=f[c],p=h.canvas;if(p){var y=p.width,g=p.height,E=y*c,x=p.height*o,v=.4;u.save(),u.scale(v,v),u.drawImage(p,E,x),u.strokeStyle="black",u.rect(E,x,y,g),u.stroke(),u.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function PW(t,e,r,n,a){var i,o,l,u,f=z1(t),c=f.pan,h=f.zoom;{var p=nW(t,c,h,e,r),y=Br(p,2),g=y[0],E=y[1],x=6;i=g-x/2,o=E-x/2,l=x,u=x}if(l===0||u===0)return[];var v=t.data.contexts[t.WEBGL];v.bindFramebuffer(v.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(v.viewport(0,0,v.canvas.width,v.canvas.height),mN(t,null,Il.PICKING),t.pickingFrameBuffer.needsDraw=!1);var C=l*u,w=new Uint8Array(C*4);v.readPixels(i,o,l,u,v.RGBA,v.UNSIGNED_BYTE,w),v.bindFramebuffer(v.FRAMEBUFFER,null);for(var T=new Set,A=0;A<C;A++){var _=w.slice(A*4,A*4+4),D=oW(_)-1;D>=0&&T.add(D)}return T}function kW(t,e,r){var n=PW(t,e,r),a=t.getCachedZSortedEles(),i,o,l=Pn(n),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,c=a[f];if(!i&&c.isNode()&&(i=c),!o&&c.isEdge()&&(o=c),i&&o)break}}catch(h){l.e(h)}finally{l.f()}return[i,o].filter(Boolean)}function Gv(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function mN(t,e,r){var n;t.webglDebug&&(n=performance.now());var a=t.drawing,i=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&DW(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var o=t.data.contexts[t.WEBGL];r.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var l=_W(t),u=t.getCachedZSortedEles();if(i=u.length,a.startFrame(l,r),r.screen){for(var f=0;f<u.nondrag.length;f++)Gv(t,f,u.nondrag[f]);for(var c=0;c<u.drag.length;c++)Gv(t,c,u.drag[c])}else if(r.picking)for(var h=0;h<u.length;h++)Gv(t,h,u[h]);a.endFrame(),r.screen&&t.webglDebugShowAtlases&&(MW(t),RW(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var p=performance.now(),y=!1,g=Math.ceil(p-n),E=a.getDebugInfo(),x=["".concat(i," elements"),"".concat(E.totalInstances," instances"),"".concat(E.batchCount," batches"),"".concat(E.totalAtlases," atlases"),"".concat(E.wrappedCount," wrapped textures"),"".concat(E.simpleCount," simple shapes")].join(", ");if(y)console.log("WebGL (".concat(r.name,") - time ").concat(g,"ms, ").concat(x));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(g,"ms")),console.log("Totals:"),console.log("  ".concat(x)),console.log("Texture Atlases Used:");var v=E.atlasInfo,C=Pn(v),w;try{for(C.s();!(w=C.n()).done;){var T=w.value;console.log("  ".concat(T.type,": ").concat(T.keyCount," keys, ").concat(T.atlasCount," atlases"))}}catch(A){C.e(A)}finally{C.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,a.gc())}var qi={};qi.drawPolygonPath=function(t,e,r,n,a,i){var o=n/2,l=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*i[0],r+l*i[1]);for(var u=1;u<i.length/2;u++)t.lineTo(e+o*i[u*2],r+l*i[u*2+1]);t.closePath()};qi.drawRoundPolygonPath=function(t,e,r,n,a,i,o){o.forEach(function(l){return Jk(t,l)}),t.closePath()};qi.drawRoundRectanglePath=function(t,e,r,n,a,i){var o=n/2,l=a/2,u=i==="auto"?Mi(n,a):Math.min(i,l,o);t.beginPath&&t.beginPath(),t.moveTo(e,r-l),t.arcTo(e+o,r-l,e+o,r,u),t.arcTo(e+o,r+l,e,r+l,u),t.arcTo(e-o,r+l,e-o,r,u),t.arcTo(e-o,r-l,e,r-l,u),t.lineTo(e,r-l),t.closePath()};qi.drawBottomRoundRectanglePath=function(t,e,r,n,a,i){var o=n/2,l=a/2,u=i==="auto"?Mi(n,a):i;t.beginPath&&t.beginPath(),t.moveTo(e,r-l),t.lineTo(e+o,r-l),t.lineTo(e+o,r),t.arcTo(e+o,r+l,e,r+l,u),t.arcTo(e-o,r+l,e-o,r,u),t.lineTo(e-o,r-l),t.lineTo(e,r-l),t.closePath()};qi.drawCutRectanglePath=function(t,e,r,n,a,i,o){var l=n/2,u=a/2,f=o==="auto"?A1():o;t.beginPath&&t.beginPath(),t.moveTo(e-l+f,r-u),t.lineTo(e+l-f,r-u),t.lineTo(e+l,r-u+f),t.lineTo(e+l,r+u-f),t.lineTo(e+l-f,r+u),t.lineTo(e-l+f,r+u),t.lineTo(e-l,r+u-f),t.lineTo(e-l,r-u+f),t.closePath()};qi.drawBarrelPath=function(t,e,r,n,a){var i=n/2,o=a/2,l=e-i,u=e+i,f=r-o,c=r+o,h=Nb(n,a),p=h.widthOffset,y=h.heightOffset,g=h.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(l,f+y),t.lineTo(l,c-y),t.quadraticCurveTo(l+g,c,l+p,c),t.lineTo(u-p,c),t.quadraticCurveTo(u-g,c,u,c-y),t.lineTo(u,f+y),t.quadraticCurveTo(u-g,f,u-p,f),t.lineTo(l+p,f),t.quadraticCurveTo(l+g,f,l,f+y),t.closePath()};var vS=Math.sin(0),pS=Math.cos(0),Kb={},jb={},bN=Math.PI/40;for(var os=0*Math.PI;os<2*Math.PI;os+=bN)Kb[os]=Math.sin(os),jb[os]=Math.cos(os);qi.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,l=n/2,u=a/2,f=0*Math.PI;f<2*Math.PI;f+=bN)i=e-l*Kb[f]*vS+l*jb[f]*pS,o=r+u*jb[f]*vS+u*Kb[f]*pS,f===0?t.moveTo(i,o):t.lineTo(i,o);t.closePath()};var gu={};gu.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};gu.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],o=t.full?Math.ceil(n.h):a[3],l=at(t.maxWidth)||at(t.maxHeight),u=this.getPixelRatio(),f=1;if(t.scale!==void 0)i*=t.scale,o*=t.scale,f=t.scale;else if(l){var c=1/0,h=1/0;at(t.maxWidth)&&(c=f*t.maxWidth/i),at(t.maxHeight)&&(h=f*t.maxHeight/o),f=Math.min(c,h),i*=f,o*=f}l||(i*=u,o*=u,f*=u);var p=document.createElement("canvas");p.width=i,p.height=o,p.style.width=i+"px",p.style.height=o+"px";var y=p.getContext("2d");if(i>0&&o>0){y.clearRect(0,0,i,o),y.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(t.full)y.translate(-n.x1*f,-n.y1*f),y.scale(f,f),this.drawElements(y,g),y.scale(1/f,1/f),y.translate(n.x1*f,n.y1*f);else{var E=e.pan(),x={x:E.x*f,y:E.y*f};f*=e.zoom(),y.translate(x.x,x.y),y.scale(f,f),this.drawElements(y,g),y.scale(1/f,1/f),y.translate(-x.x,-x.y)}t.bg&&(y.globalCompositeOperation="destination-over",y.fillStyle=t.bg,y.rect(0,0,i,o),y.fill())}return p};function NW(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function gS(t){var e=t.indexOf(",");return t.substr(e+1)}function wN(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Ls(function(a,i){try{e.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(o){i(o)}});case"blob":return NW(gS(n()),r);case"base64":return gS(n());case"base64uri":default:return n()}}gu.png=function(t){return wN(t,this.bufferCanvasImage(t),"image/png")};gu.jpg=function(t){return wN(t,this.bufferCanvasImage(t),"image/jpeg")};var xN={};xN.nodeShapeImpl=function(t,e,r,n,a,i,o,l){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,o,l);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i,l);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i,o,l);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i,l);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var OW=CN,_t=CN.prototype;_t.CANVAS_LAYERS=3;_t.SELECT_BOX=0;_t.DRAG=1;_t.NODE=2;_t.WEBGL=3;_t.CANVAS_TYPES=["2d","2d","2d","webgl2"];_t.BUFFER_COUNT=3;_t.TEXTURE_BUFFER=0;_t.MOTIONBLUR_BUFFER_NODE=1;_t.MOTIONBLUR_BUFFER_DRAG=2;function CN(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(_t.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(_t.CANVAS_LAYERS),contexts:new Array(_t.CANVAS_LAYERS),canvasNeedsRedraw:new Array(_t.CANVAS_LAYERS),bufferCanvases:new Array(_t.BUFFER_COUNT),bufferContexts:new Array(_t.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var o=e.data.canvasContainer.style;e.data.canvasContainer.style[a]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var l=t.cy.container();l.appendChild(e.data.canvasContainer),l.style[a]=i;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};kq()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var f=0;f<_t.CANVAS_LAYERS;f++){var c=e.data.canvases[f]=n.createElement("canvas"),h=_t.CANVAS_TYPES[f];e.data.contexts[f]=c.getContext(h),e.data.contexts[f]||pr("Could not create canvas of type "+h),Object.keys(u).forEach(function(te){c.style[te]=u[te]}),c.style.position="absolute",c.setAttribute("data-id","layer"+f),c.style.zIndex=String(_t.CANVAS_LAYERS-f),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[f]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[_t.NODE].setAttribute("data-id","layer"+_t.NODE+"-node"),e.data.canvases[_t.SELECT_BOX].setAttribute("data-id","layer"+_t.SELECT_BOX+"-selectbox"),e.data.canvases[_t.DRAG].setAttribute("data-id","layer"+_t.DRAG+"-drag"),e.data.canvases[_t.WEBGL]&&e.data.canvases[_t.WEBGL].setAttribute("data-id","layer"+_t.WEBGL+"-webgl");for(var f=0;f<_t.BUFFER_COUNT;f++)e.data.bufferCanvases[f]=n.createElement("canvas"),e.data.bufferContexts[f]=e.data.bufferCanvases[f].getContext("2d"),e.data.bufferCanvases[f].style.position="absolute",e.data.bufferCanvases[f].setAttribute("data-id","buffer"+f),e.data.bufferCanvases[f].style.zIndex=String(-f-1),e.data.bufferCanvases[f].style.visibility="hidden";e.pathsEnabled=!0;var p=Nn(),y=function(ie){return{x:(ie.x1+ie.x2)/2,y:(ie.y1+ie.y2)/2}},g=function(ie){return{x:-ie.w/2,y:-ie.h/2}},E=function(ie){var se=ie[0]._private,$=se.oldBackgroundTimestamp===se.backgroundTimestamp;return!$},x=function(ie){return ie[0]._private.nodeKey},v=function(ie){return ie[0]._private.labelStyleKey},C=function(ie){return ie[0]._private.sourceLabelStyleKey},w=function(ie){return ie[0]._private.targetLabelStyleKey},T=function(ie,se,$,ne,le){return e.drawElement(ie,se,$,!1,!1,le)},A=function(ie,se,$,ne,le){return e.drawElementText(ie,se,$,ne,"main",le)},_=function(ie,se,$,ne,le){return e.drawElementText(ie,se,$,ne,"source",le)},D=function(ie,se,$,ne,le){return e.drawElementText(ie,se,$,ne,"target",le)},R=function(ie){return ie.boundingBox(),ie[0]._private.bodyBounds},k=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.main||p},B=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.source||p},G=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.target||p},F=function(ie,se){return se},q=function(ie){return y(R(ie))},M=function(ie,se,$){var ne=ie?ie+"-":"";return{x:se.x+$.pstyle(ne+"text-margin-x").pfValue,y:se.y+$.pstyle(ne+"text-margin-y").pfValue}},P=function(ie,se,$){var ne=ie[0]._private.rscratch;return{x:ne[se],y:ne[$]}},N=function(ie){return M("",P(ie,"labelX","labelY"),ie)},I=function(ie){return M("source",P(ie,"sourceLabelX","sourceLabelY"),ie)},z=function(ie){return M("target",P(ie,"targetLabelX","targetLabelY"),ie)},ae=function(ie){return g(R(ie))},re=function(ie){return g(B(ie))},K=function(ie){return g(G(ie))},W=function(ie){var se=k(ie),$=g(k(ie));if(ie.isNode()){switch(ie.pstyle("text-halign").value){case"left":$.x=-se.w-(se.leftPad||0);break;case"right":$.x=-(se.rightPad||0);break}switch(ie.pstyle("text-valign").value){case"top":$.y=-se.h-(se.topPad||0);break;case"bottom":$.y=-(se.botPad||0);break}}return $},Z=e.data.eleTxrCache=new El(e,{getKey:x,doesEleInvalidateKey:E,drawElement:T,getBoundingBox:R,getRotationPoint:q,getRotationOffset:ae,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),U=e.data.lblTxrCache=new El(e,{getKey:v,drawElement:A,getBoundingBox:k,getRotationPoint:N,getRotationOffset:W,isVisible:F}),V=e.data.slbTxrCache=new El(e,{getKey:C,drawElement:_,getBoundingBox:B,getRotationPoint:I,getRotationOffset:re,isVisible:F}),Y=e.data.tlbTxrCache=new El(e,{getKey:w,drawElement:D,getBoundingBox:G,getRotationPoint:z,getRotationOffset:K,isVisible:F}),ee=e.data.lyrTxrCache=new uN(e);e.onUpdateEleCalcs(function(ie,se){Z.invalidateElements(se),U.invalidateElements(se),V.invalidateElements(se),Y.invalidateElements(se),ee.invalidateElements(se);for(var $=0;$<se.length;$++){var ne=se[$]._private;ne.oldBackgroundTimestamp=ne.backgroundTimestamp}});var oe=function(ie){for(var se=0;se<ie.length;se++)ee.enqueueElementRefinement(ie[se].ele)};Z.onDequeue(oe),U.onDequeue(oe),V.onDequeue(oe),Y.onDequeue(oe),t.webgl&&e.initWebgl(t,{getStyleKey:x,getLabelKey:v,getSourceLabelKey:C,getTargetLabelKey:w,drawElement:T,drawLabel:A,drawSourceLabel:_,drawTargetLabel:D,getElementBox:R,getLabelBox:k,getSourceLabelBox:B,getTargetLabelBox:G,getElementRotationPoint:q,getElementRotationOffset:ae,getLabelRotationPoint:N,getSourceLabelRotationPoint:I,getTargetLabelRotationPoint:z,getLabelRotationOffset:W,getSourceLabelRotationOffset:re,getTargetLabelRotationOffset:K})}_t.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[_t.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[_t.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[_t.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var IW=typeof Path2D<"u";_t.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};_t.usePaths=function(){return IW&&this.pathsEnabled};_t.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};_t.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};_t.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":zr(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=t,r.height=e}return r};[fN,Ma,ti,q1,To,Bi,An,pN,qi,gu,xN].forEach(function(t){xt(_t,t)});var FW=[{name:"null",impl:jk},{name:"base",impl:oN},{name:"canvas",impl:OW}],BW=[{type:"layout",extensions:fU},{type:"renderer",extensions:FW}],EN={},TN={};function SN(t,e,r){var n=r,a=function(R){$t("Can not register `"+e+"` for `"+t+"` since `"+R+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Jl.prototype[e])return a(e);Jl.prototype[e]=r}else if(t==="collection"){if(rn.prototype[e])return a(e);rn.prototype[e]=r}else if(t==="layout"){for(var i=function(R){this.options=R,r.call(this,R),It(this._private)||(this._private={}),this._private.cy=R.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),l=[],u=0;u<l.length;u++){var f=l[u];o[f]=o[f]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var D=this.options;if(D&&D.animate){var R=this.animations;if(R)for(var k=0;k<R.length;k++)R[k].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(R){return R._private.cy},p={addEventFields:function(R,k){k.layout=R,k.cy=h(R),k.target=R},bubble:function(){return!0},parent:function(R){return h(R)}};xt(o,{createEmitter:function(){return this._private.emitter=new Nc(p,this),this},emitter:function(){return this._private.emitter},on:function(R,k){return this.emitter().on(R,k),this},one:function(R,k){return this.emitter().one(R,k),this},once:function(R,k){return this.emitter().one(R,k),this},removeListener:function(R,k){return this.emitter().removeListener(R,k),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(R,k){return this.emitter().emit(R,k),this}}),Wt.eventAliasesOn(o),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var y=AN("renderer","base"),g=y.prototype,E=r,x=r.prototype,v=function(){y.apply(this,arguments),E.apply(this,arguments)},C=v.prototype;for(var w in g){var T=g[w],A=x[w]!=null;if(A)return a(w);C[w]=T}for(var _ in x)C[_]=x[_];g.clientFunctions.forEach(function(D){C[D]=C[D]||function(){pr("Renderer does not implement `renderer."+D+"()` on its prototype")}}),n=v}else if(t==="__proto__"||t==="constructor"||t==="prototype")return pr(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return $P({map:EN,keys:[t,e],value:n})}function AN(t,e){return YP({map:EN,keys:[t,e]})}function qW(t,e,r,n,a){return $P({map:TN,keys:[t,e,r,n],value:a})}function zW(t,e,r,n){return YP({map:TN,keys:[t,e,r,n]})}var Zb=function(){if(arguments.length===2)return AN.apply(null,arguments);if(arguments.length===3)return SN.apply(null,arguments);if(arguments.length===4)return zW.apply(null,arguments);if(arguments.length===5)return qW.apply(null,arguments);pr("Invalid extension access syntax")};Jl.prototype.extension=Zb;BW.forEach(function(t){t.extensions.forEach(function(e){SN(t.type,e.name,e.impl)})});var sc=function(){if(!(this instanceof sc))return new sc;this.length=0},xo=sc.prototype;xo.instanceString=function(){return"stylesheet"};xo.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};xo.css=function(t,e){var r=this.length-1;if(mt(t))this[r].properties.push({name:t,value:e});else if(It(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],l=n[o];if(l!=null){var u=$r.properties[o]||$r.properties[Tc(o)];if(u!=null){var f=u.name,c=l;this[r].properties.push({name:f,value:c})}}}return this};xo.style=xo.css;xo.generateStyle=function(t){var e=new $r(t);return this.appendToStyle(e)};xo.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var o=a[i];t.css(o.name,o.value)}}return t};var GW="3.32.0",zn=function(e){if(e===void 0&&(e={}),It(e))return new Jl(e);if(mt(e))return Zb.apply(Zb,arguments)};zn.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(zn),t.apply(null,e),this};zn.warnings=function(t){return ek(t)};zn.version=GW;zn.stylesheet=zn.Stylesheet=sc;var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function So(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hv={exports:{}},yS={},mS;function HW(){return mS||(mS=1,Object.extend=function(t){t=t||{};for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var n in r)r.hasOwnProperty(n)&&(Array.isArray(r[n])?t[n]=r[n].slice():typeof r[n]=="object"?t[n]=Object.extend(t[n],r[n]):t[n]=r[n])}return t}),yS}var Uv,bS;function UW(){return bS||(bS=1,Uv=function(t,e,r){var n={};n.changeOptions=function(i){e=i.gridSpacing,r=i.snapToGridCenter?.5:0};var a=function(i){return i.scratch("_gridGuide")||i.scratch("_gridGuide",{}),i.scratch("_gridGuide")};return n.snapPos=function(i){var o=r?Math.floor(i.x/e):Math.round(i.x/e),l=r?Math.floor(i.y/e):Math.round(i.y/e),u={x:(o+r)*e,y:(l+r)*e};return u},n.snapNode=function(i){var o=i.position(),l=n.snapPos(o);i.position(l)},n.snapNodesTopDown=function(i){t.startBatch(),i.union(i.descendants()).filter(":childless").positions(function(o,l){typeof o=="number"&&(o=l);var u=o.position();return n.snapPos(u)}),t.endBatch()},n.onFreeNode=function(i){var o,l=i.target||i.cyTarget;l.selected()?o=i.cy.$(":selected"):o=l,n.snapNodesTopDown(o)},n.recoverSnapNode=function(i){var o=a(i).snap;o&&i.position(o.oldPos)},n}),Uv}var Wv,wS;function WW(){return wS||(wS=1,Wv=function(t,e){var r={},n,a,i,o;r.onTapStartNode=function(c){if(!(c.originalEvent.altKey||c.originalEvent.ctrlKey||c.originalEvent.metaKey||c.originalEvent.shiftKey)){var h=c.target||c.cyTarget;h.selected()?a=c.cy.$(":selected"):a=h,i=c.position||c.cyPosition,h.grabbable()&&!h.locked()&&(n=h,n.lock(),t.on("tapdrag",f),t.on("tapend",l))}};var l=function(c){t.off("tapdrag",f),t.off("tapend",l),n.unlock(),c.preventDefault()},u=function(){return{x:o.x-i.x,y:o.y-i.y}},f=function(c){n.position(),o=c.position||c.cyPosition,o=e.snapPos(o);var h=u();if(h.x!=0||h.y!=0){n.unlock();var p=a.union(a.descendants());p.filter(":childless").positions(function(y,g){typeof y=="number"&&(y=g);var E=y.position();return e.snapPos({x:E.x+h.x,y:E.y+h.y})}),i=o,n.lock(),n.trigger("drag")}};return r}),Wv}var Vv,xS;function VW(){return xS||(xS=1,Vv=function(t,e,r){var n=t,a=function(y){n=y},i=function(y){var g=y.getBoundingClientRect();return{top:g.top+document.documentElement.scrollTop,left:g.left+document.documentElement.scrollLeft}},o=document.createElement("canvas"),l=e.container(),u=o.getContext("2d");l.appendChild(o);var f=function(){o.height=0,o.width=0,o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.zIndex=n.gridStackOrder};f();var c=function(){var y=e.zoom(),g=e.width(),E=e.height(),x=n.gridSpacing*y,v=e.pan(),C=v.x%x,w=v.y%x;u.strokeStyle=n.gridColor,u.lineWidth=n.lineWidth;var T='	<svg width="'+g+'" height="'+E+`" xmlns="http://www.w3.org/2000/svg">
	            <defs>
	                <pattern id="horizontalLines" width="`+x+'" height="'+x+`" patternUnits="userSpaceOnUse">
	                    <path d="M `+x+' 0 L 0 0 0 0" fill="none" stroke="'+n.gridColor+'" stroke-width="'+n.lineWidth+`" />
	                </pattern>
	                <pattern id="verticalLines" width="`+x+'" height="'+x+`" patternUnits="userSpaceOnUse">
	                    <path d="M 0 0 L 0 0 0 `+x+'" fill="none" stroke="'+n.gridColor+'" stroke-width="'+n.lineWidth+`" />
	                </pattern>
	            </defs>
	            <rect width="100%" height="100%" fill="url(#horizontalLines)" transform="translate(0, `+w+`)" />
	            <rect width="100%" height="100%" fill="url(#verticalLines)" transform="translate(`+C+`, 0)" />
	        </svg>
`,A=new Image;T=encodeURIComponent(T),A.onload=function(){h(),u.drawImage(A,0,0)},A.src="data:image/svg+xml,"+T},h=function(){var y=e.width(),g=e.height();u.clearRect(0,0,y,g)},p=r(function(){o.height=e.height(),o.width=e.width(),o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.zIndex=n.gridStackOrder,setTimeout(function(){o.height=e.height(),o.width=e.width();var y=i(o),g=i(l);o.style.top=-(y.top-g.top),o.style.left=-(y.left-g.left),c()},0)},250);return{initCanvas:p,resizeCanvas:p,resetCanvas:f,clearCanvas:h,drawGrid:c,changeOptions:a,sizeCanvas:c}}),Vv}var $v,CS;function $W(){return CS||(CS=1,$v=function(t){var e=function(i){t=Number(i.gridSpacing)},r=function(i){return i.scratch("_gridGuide")||i.scratch("_gridGuide",{}),i.scratch("_gridGuide")};function n(i){var o=i.width(),l=i.height(),u=Math.round((o-t)/(t*2))*(t*2),f=Math.round((l-t)/(t*2))*(t*2);u=u>0?u+t:t,f=f>0?f+t:t,(o!=u||l!=f)&&(i.style({width:u,height:f}),r(i).resize={oldWidth:o,oldHeight:l})}function a(i){var o=r(i).resize;o&&i.style({width:o.oldWidth,height:o.oldHeight})}return{resizeNode:n,recoverNodeDimensions:a,changeOptions:e}}),$v}var Yv,ES;function YW(){return ES||(ES=1,Yv=function(t,e,r,n,a,i,o,l){var u=function(U){return function(V){U(V)}},f={snapToGridDuringDrag:new u(g),resize:new u(v),snapToGridOnRelease:new u(A),drawGrid:new u(R),guidelines:new u(N),parentPadding:new u(ae)};function c(U,V){return function(Y){var ee=Y.target||Y.cyTarget;(!ee.is(":parent")||V)&&U(ee)}}function h(U){return function(){t.nodes().not(":parent").each(function(V,Y){typeof V=="number"&&(V=Y),U(V)})}}function p(U){return function(){t.nodes().each(function(V,Y){typeof V=="number"&&(V=Y),U(V)})}}function y(U){return U?"on":"off"}function g(U){t[y(U)]("tapstart","node",n.onTapStartNode)}var E=h(r.resizeNode);c(r.resizeNode);var x=h(r.recoverNodeDimensions);function v(U){t[y(U)]("ready",E),U?E():x()}var C=p(e.snapNodesTopDown),w=p(e.recoverSnapNode),T=c(e.snapNode,!0);function A(U){t[y(U)]("add","node",T),t[y(U)]("ready",C),t[y(U)]("free","node",e.onFreeNode),U?C():w()}var _=function(){K.zoomDash&&a.drawGrid()},D=function(){K.panGrid&&a.drawGrid()};function R(U){t[y(U)]("zoom",_),t[y(U)]("pan",D),U?(a.initCanvas(),t.on("resize",a.resizeCanvas)):(a.clearCanvas(),a.resetCanvas(),t.off("resize",a.resizeCanvas))}var k=null,B=function(U){var V=U.target||U.cyTarget,Y=V.selected()?U.cy.$(":selected"):V;k=i.getTopMostNodes(Y.nodes()),i.lines.init(k)},G=function(U){this.id()==k.id()&&(i.lines.update(k),K.snapToAlignmentLocationDuringDrag&&i.lines.snapToAlignmentLocation(k))},F=function(U){K.snapToAlignmentLocationOnRelease&&i.lines.snapToAlignmentLocation(k),i.lines.destroy(),k=null},q=function(U){i.lines.resize()},M=function(U){i.getMousePos(U)},P=function(U){k&&(i.setMousePos(t.pan()),i.lines.init(k))};function N(U){U?(i.resizeCanvas(),t.on("tapstart","node",M),t.on("grab",B),t.on("pan",P),t.on("drag","node",G),t.on("free",F),window.addEventListener("resize",q)):(t.off("tapstart","node",M),t.off("grab",B),t.off("pan",P),t.off("drag","node",G),t.off("free",F),i.resetCanvas(),window.removeEventListener("resize",q))}var I=function(U){o.setPaddingOfParent(t.nodes(":parent"),U)},z=function(U){o.setPaddingOfParent(U,!0)};function ae(U){I(U),t[y(U)]("ready",I),t[y(U)]("add","node:parent",c(z,!0))}var re={},K,W={drawGrid:["gridSpacing","zoomDash","panGrid","gridStackOrder","gridColor","lineWidth","lineDash"],guidelines:["gridSpacing","guidelinesStackOrder","guidelinesTolerance","guidelinesStyle","distributionGuidelines","range","minDistRange","geometricGuidelineRange"],resize:["gridSpacing"],parentPadding:["gridSpacing","parentSpacing"],snapToGridOnRelease:["gridSpacing","snapToGridCenter"]};function Z(U){K=Object.extend({},U),U.guidelines=U.initPosAlignment||U.distributionGuidelines||U.geometricGuideline;for(var V in U)if(re[V]!=U[V])if(f.hasOwnProperty(V))f[V](U[V]);else for(var Y in W){var ee=W[Y];ee.indexOf(V)>=0&&(Y=="drawGrid"&&(a.changeOptions(U),U.drawGrid&&a.resizeCanvas()),Y=="snapToGridOnRelease"&&(e.changeOptions(U),U.snapToGridOnRelease&&C()),Y=="guidelines"&&i.changeOptions(U),Y=="resize"&&(r.changeOptions(U),U.resize&&E()),Y=="parentPadding"&&o.changeOptions(U))}re=Object.extend({},re,U)}return{init:Z,syncWithOptions:Z}}),Yv}var Xv,TS;function XW(){if(TS)return Xv;TS=1,Xv=x;var t=0,e=1;function r(v,C,w,T,A,_){this._color=v,this.key=C,this.value=w,this.left=T,this.right=A,this._count=_}function n(v){return new r(v._color,v.key,v.value,v.left,v.right,v._count)}function a(v,C){return new r(v,C.key,C.value,C.left,C.right,C._count)}function i(v){v._count=1+(v.left?v.left._count:0)+(v.right?v.right._count:0)}function o(v,C){this._compare=v,this.root=C}var l=o.prototype;Object.defineProperty(l,"keys",{get:function(){var v=[];return this.forEach(function(C,w){v.push(C)}),v}}),Object.defineProperty(l,"values",{get:function(){var v=[];return this.forEach(function(C,w){v.push(w)}),v}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(v,C){for(var w=this._compare,T=this.root,A=[],_=[];T;){var D=w(v,T.key);A.push(T),_.push(D),D<=0?T=T.left:T=T.right}A.push(new r(t,v,C,null,null,1));for(var R=A.length-2;R>=0;--R){var T=A[R];_[R]<=0?A[R]=new r(T._color,T.key,T.value,A[R+1],T.right,T._count+1):A[R]=new r(T._color,T.key,T.value,T.left,A[R+1],T._count+1)}for(var R=A.length-1;R>1;--R){var k=A[R-1],T=A[R];if(k._color===e||T._color===e)break;var B=A[R-2];if(B.left===k)if(k.left===T){var G=B.right;if(G&&G._color===t)k._color=e,B.right=a(e,G),B._color=t,R-=1;else{if(B._color=t,B.left=k.right,k._color=e,k.right=B,A[R-2]=k,A[R-1]=T,i(B),i(k),R>=3){var F=A[R-3];F.left===B?F.left=k:F.right=k}break}}else{var G=B.right;if(G&&G._color===t)k._color=e,B.right=a(e,G),B._color=t,R-=1;else{if(k.right=T.left,B._color=t,B.left=T.right,T._color=e,T.left=k,T.right=B,A[R-2]=T,A[R-1]=k,i(B),i(k),i(T),R>=3){var F=A[R-3];F.left===B?F.left=T:F.right=T}break}}else if(k.right===T){var G=B.left;if(G&&G._color===t)k._color=e,B.left=a(e,G),B._color=t,R-=1;else{if(B._color=t,B.right=k.left,k._color=e,k.left=B,A[R-2]=k,A[R-1]=T,i(B),i(k),R>=3){var F=A[R-3];F.right===B?F.right=k:F.left=k}break}}else{var G=B.left;if(G&&G._color===t)k._color=e,B.left=a(e,G),B._color=t,R-=1;else{if(k.left=T.right,B._color=t,B.right=T.left,T._color=e,T.right=k,T.left=B,A[R-2]=T,A[R-1]=k,i(B),i(k),i(T),R>=3){var F=A[R-3];F.right===B?F.right=T:F.left=T}break}}}return A[0]._color=e,new o(w,A[0])};function u(v,C){if(C.left){var w=u(v,C.left);if(w)return w}var w=v(C.key,C.value);if(w)return w;if(C.right)return u(v,C.right)}function f(v,C,w,T){var A=C(v,T.key);if(A<=0){if(T.left){var _=f(v,C,w,T.left);if(_)return _}var _=w(T.key,T.value);if(_)return _}if(T.right)return f(v,C,w,T.right)}function c(v,C,w,T,A){var _=w(v,A.key),D=w(C,A.key),R;if(_<=0&&(A.left&&(R=c(v,C,w,T,A.left),R)||D>0&&(R=T(A.key,A.value),R)))return R;if(D>0&&A.right)return c(v,C,w,T,A.right)}l.forEach=function(C,w,T){if(this.root)switch(arguments.length){case 1:return u(C,this.root);case 2:return f(w,this._compare,C,this.root);case 3:return this._compare(w,T)>=0?void 0:c(w,T,this._compare,C,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var v=[],C=this.root;C;)v.push(C),C=C.left;return new h(this,v)}}),Object.defineProperty(l,"end",{get:function(){for(var v=[],C=this.root;C;)v.push(C),C=C.right;return new h(this,v)}}),l.at=function(v){if(v<0)return new h(this,[]);for(var C=this.root,w=[];;){if(w.push(C),C.left){if(v<C.left._count){C=C.left;continue}v-=C.left._count}if(!v)return new h(this,w);if(v-=1,C.right){if(v>=C.right._count)break;C=C.right}else break}return new h(this,[])},l.ge=function(v){for(var C=this._compare,w=this.root,T=[],A=0;w;){var _=C(v,w.key);T.push(w),_<=0&&(A=T.length),_<=0?w=w.left:w=w.right}return T.length=A,new h(this,T)},l.gt=function(v){for(var C=this._compare,w=this.root,T=[],A=0;w;){var _=C(v,w.key);T.push(w),_<0&&(A=T.length),_<0?w=w.left:w=w.right}return T.length=A,new h(this,T)},l.lt=function(v){for(var C=this._compare,w=this.root,T=[],A=0;w;){var _=C(v,w.key);T.push(w),_>0&&(A=T.length),_<=0?w=w.left:w=w.right}return T.length=A,new h(this,T)},l.le=function(v){for(var C=this._compare,w=this.root,T=[],A=0;w;){var _=C(v,w.key);T.push(w),_>=0&&(A=T.length),_<0?w=w.left:w=w.right}return T.length=A,new h(this,T)},l.find=function(v){for(var C=this._compare,w=this.root,T=[];w;){var A=C(v,w.key);if(T.push(w),A===0)return new h(this,T);A<=0?w=w.left:w=w.right}return new h(this,[])},l.remove=function(v){var C=this.find(v);return C?C.remove():this},l.get=function(v){for(var C=this._compare,w=this.root;w;){var T=C(v,w.key);if(T===0)return w.value;T<=0?w=w.left:w=w.right}};function h(v,C){this.tree=v,this._stack=C}var p=h.prototype;Object.defineProperty(p,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(p,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),p.clone=function(){return new h(this.tree,this._stack.slice())};function y(v,C){v.key=C.key,v.value=C.value,v.left=C.left,v.right=C.right,v._color=C._color,v._count=C._count}function g(v){for(var C,w,T,A,_=v.length-1;_>=0;--_){if(C=v[_],_===0){C._color=e;return}if(w=v[_-1],w.left===C){if(T=w.right,T.right&&T.right._color===t){if(T=w.right=n(T),A=T.right=n(T.right),w.right=T.left,T.left=w,T.right=A,T._color=w._color,C._color=e,w._color=e,A._color=e,i(w),i(T),_>1){var D=v[_-2];D.left===w?D.left=T:D.right=T}v[_-1]=T;return}else if(T.left&&T.left._color===t){if(T=w.right=n(T),A=T.left=n(T.left),w.right=A.left,T.left=A.right,A.left=w,A.right=T,A._color=w._color,w._color=e,T._color=e,C._color=e,i(w),i(T),i(A),_>1){var D=v[_-2];D.left===w?D.left=A:D.right=A}v[_-1]=A;return}if(T._color===e)if(w._color===t){w._color=e,w.right=a(t,T);return}else{w.right=a(t,T);continue}else{if(T=n(T),w.right=T.left,T.left=w,T._color=w._color,w._color=t,i(w),i(T),_>1){var D=v[_-2];D.left===w?D.left=T:D.right=T}v[_-1]=T,v[_]=w,_+1<v.length?v[_+1]=C:v.push(C),_=_+2}}else{if(T=w.left,T.left&&T.left._color===t){if(T=w.left=n(T),A=T.left=n(T.left),w.left=T.right,T.right=w,T.left=A,T._color=w._color,C._color=e,w._color=e,A._color=e,i(w),i(T),_>1){var D=v[_-2];D.right===w?D.right=T:D.left=T}v[_-1]=T;return}else if(T.right&&T.right._color===t){if(T=w.left=n(T),A=T.right=n(T.right),w.left=A.right,T.right=A.left,A.right=w,A.left=T,A._color=w._color,w._color=e,T._color=e,C._color=e,i(w),i(T),i(A),_>1){var D=v[_-2];D.right===w?D.right=A:D.left=A}v[_-1]=A;return}if(T._color===e)if(w._color===t){w._color=e,w.left=a(t,T);return}else{w.left=a(t,T);continue}else{if(T=n(T),w.left=T.right,T.right=w,T._color=w._color,w._color=t,i(w),i(T),_>1){var D=v[_-2];D.right===w?D.right=T:D.left=T}v[_-1]=T,v[_]=w,_+1<v.length?v[_+1]=C:v.push(C),_=_+2}}}}p.remove=function(){var v=this._stack;if(v.length===0)return this.tree;var C=new Array(v.length),w=v[v.length-1];C[C.length-1]=new r(w._color,w.key,w.value,w.left,w.right,w._count);for(var T=v.length-2;T>=0;--T){var w=v[T];w.left===v[T+1]?C[T]=new r(w._color,w.key,w.value,C[T+1],w.right,w._count):C[T]=new r(w._color,w.key,w.value,w.left,C[T+1],w._count)}if(w=C[C.length-1],w.left&&w.right){var A=C.length;for(w=w.left;w.right;)C.push(w),w=w.right;var _=C[A-1];C.push(new r(w._color,_.key,_.value,w.left,w.right,w._count)),C[A-1].key=w.key,C[A-1].value=w.value;for(var T=C.length-2;T>=A;--T)w=C[T],C[T]=new r(w._color,w.key,w.value,w.left,C[T+1],w._count);C[A-1].left=C[A]}if(w=C[C.length-1],w._color===t){var D=C[C.length-2];D.left===w?D.left=null:D.right===w&&(D.right=null),C.pop();for(var T=0;T<C.length;++T)C[T]._count--;return new o(this.tree._compare,C[0])}else if(w.left||w.right){w.left?y(w,w.left):w.right&&y(w,w.right),w._color=e;for(var T=0;T<C.length-1;++T)C[T]._count--;return new o(this.tree._compare,C[0])}else{if(C.length===1)return new o(this.tree._compare,null);for(var T=0;T<C.length;++T)C[T]._count--;var R=C[C.length-2];g(C),R.left===w?R.left=null:R.right=null}return new o(this.tree._compare,C[0])},Object.defineProperty(p,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(p,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(p,"index",{get:function(){var v=0,C=this._stack;if(C.length===0){var w=this.tree.root;return w?w._count:0}else C[C.length-1].left&&(v=C[C.length-1].left._count);for(var T=C.length-2;T>=0;--T)C[T+1]===C[T].right&&(++v,C[T].left&&(v+=C[T].left._count));return v},enumerable:!0}),p.next=function(){var v=this._stack;if(v.length!==0){var C=v[v.length-1];if(C.right)for(C=C.right;C;)v.push(C),C=C.left;else for(v.pop();v.length>0&&v[v.length-1].right===C;)C=v[v.length-1],v.pop()}},Object.defineProperty(p,"hasNext",{get:function(){var v=this._stack;if(v.length===0)return!1;if(v[v.length-1].right)return!0;for(var C=v.length-1;C>0;--C)if(v[C-1].left===v[C])return!0;return!1}}),p.update=function(v){var C=this._stack;if(C.length===0)throw new Error("Can't update empty node!");var w=new Array(C.length),T=C[C.length-1];w[w.length-1]=new r(T._color,T.key,v,T.left,T.right,T._count);for(var A=C.length-2;A>=0;--A)T=C[A],T.left===C[A+1]?w[A]=new r(T._color,T.key,T.value,w[A+1],T.right,T._count):w[A]=new r(T._color,T.key,T.value,T.left,w[A+1],T._count);return new o(this.tree._compare,w[0])},p.prev=function(){var v=this._stack;if(v.length!==0){var C=v[v.length-1];if(C.left)for(C=C.left;C;)v.push(C),C=C.right;else for(v.pop();v.length>0&&v[v.length-1].left===C;)C=v[v.length-1],v.pop()}},Object.defineProperty(p,"hasPrev",{get:function(){var v=this._stack;if(v.length===0)return!1;if(v[v.length-1].left)return!0;for(var C=v.length-1;C>0;--C)if(v[C-1].right===v[C])return!0;return!1}});function E(v,C){return v<C?-1:v>C?1:0}function x(v){return new o(v||E,null)}return Xv}var Kv,SS;function KW(){return SS||(SS=1,Kv=function(t,e,r){var n=XW(),a=t,i=function(N){a=N,a.guidelinesTolerance==0&&(a.guidelinesTolerance=.001)},o=function(N){var I=N.getBoundingClientRect();return{top:I.top+document.documentElement.scrollTop,left:I.left+document.documentElement.scrollLeft}},l=r(function(){u(),f.height=e.height(),f.width=e.width(),f.style.position="absolute",f.style.top=0,f.style.left=0,f.style.zIndex=a.guidelinesStackOrder,setTimeout(function(){f.height=e.height(),f.width=e.width();var N=o(f),I=o(c);f.style.top=-(N.top-I.top),f.style.left=-(N.left-I.left)},0)},250),u=function(){var N=e.width(),I=e.height();h.clearRect(0,0,N,I)},f=document.createElement("canvas"),c=e.container(),h=f.getContext("2d");c.appendChild(f);var p=function(){f.height=0,f.width=0,f.style.position="absolute",f.style.top=0,f.style.left=0,f.style.zIndex=a.guidelinesStackOrder};p();var y=null,g=null,E,x,v={},C={},w={h:null,v:null};v.getDims=function(N){var I=N.renderedPosition(),z=N.renderedWidth(),ae=N.renderedHeight(),re={left:Number(N.renderedStyle("padding-left").replace("px","")),right:Number(N.renderedStyle("padding-right").replace("px","")),top:Number(N.renderedStyle("padding-top").replace("px","")),bottom:Number(N.renderedStyle("padding-bottom").replace("px",""))};return{horizontal:{center:I.x,left:Math.round(I.x-(re.left+z/2)),right:Math.round(I.x+(re.right+z/2))},vertical:{center:I.y,top:Math.round(I.y-(re.top+ae/2)),bottom:Math.round(I.y+(re.bottom+ae/2))}}},v.init=function(N){y=n(),g=n(),E||(C.x=e.pan("x"),C.y=e.pan("y"),E=N.renderedPosition());var I=e.nodes(":visible");x=N.union(N.ancestors()),x=x.union(N.descendants()),I.not(x).each(function(z,ae){typeof z=="number"&&(z=ae);var re=v.getDims(z);["left","center","right"].forEach(function(K){var W=re.horizontal[K];g.get(W)?g.get(W).push(z):g=g.insert(W,[z])}),["top","center","bottom"].forEach(function(K){var W=re.vertical[K];y.get(W)?y.get(W).push(z):y=y.insert(W,[z])})}),h.lineWidth=a.lineWidth,v.update(N)},v.destroy=function(){v.clear(),y=null,g=null,E=null,_={},w={h:null,v:null},P&&(P.unlock(),P=void 0)},v.clear=u,v.drawLine=function(N,I,z,ae){h.setLineDash(ae),h.beginPath(),h.moveTo(N.x,N.y),h.lineTo(I.x,I.y),h.strokeStyle=z,h.stroke()},v.drawArrow=function(N,I){I=="right"?(h.setLineDash([]),h.beginPath(),h.moveTo(N.x-5,N.y-5),h.lineTo(N.x,N.y),h.lineTo(N.x-5,N.y+5),h.stroke()):I=="left"?(h.setLineDash([]),h.beginPath(),h.moveTo(N.x+5,N.y-5),h.lineTo(N.x,N.y),h.lineTo(N.x+5,N.y+5),h.stroke()):I=="top"?(h.setLineDash([]),h.beginPath(),h.moveTo(N.x-5,N.y+5),h.lineTo(N.x,N.y),h.lineTo(N.x+5,N.y+5),h.stroke()):I=="bottom"&&(h.setLineDash([]),h.beginPath(),h.moveTo(N.x-5,N.y-5),h.lineTo(N.x,N.y),h.lineTo(N.x+5,N.y-5),h.stroke())},v.drawCross=function(N){h.setLineDash([]),h.beginPath(),h.moveTo(N.x-5,N.y+5),h.lineTo(N.x+5,N.y-5),h.moveTo(N.x-5,N.y-5),h.lineTo(N.x+5,N.y+5),h.stroke()};var T=function(N,I){for(var z=N[0],ae=v.getDims(z)[I].center,re=N[0],K=v.getDims(re)[I].center,W=0;W<N.length;W++){var Z=N[W];v.getDims(Z)[I].center<ae&&(ae=v.getDims(Z)[I].center,z=Z),v.getDims(Z)[I].center>K&&(K=v.getDims(Z)[I].center,re=Z)}if(I=="horizontal")var U=(ae+K)/2<v.getDims(N[1])[I].center?K+(.5*re.width()+a.guidelinesStyle.distGuidelineOffset)*e.zoom():ae-(.5*z.width()+a.guidelinesStyle.distGuidelineOffset)*e.zoom();else var U=(ae+K)/2<v.getDims(N[1])[I].center?K+(.5*re.height()+a.guidelinesStyle.distGuidelineOffset)*e.zoom():ae-(.5*z.height()+a.guidelinesStyle.distGuidelineOffset)*e.zoom();return U};v.horizontalDistribution=function(N){var I=null,z=null,ae=v.getDims(N),re=ae.horizontal.center,K=ae.vertical.center;if(g.forEach(function(U,V){for(var Y=0;Y<V.length;Y++){var ee=V[Y],oe=v.getDims(ee);if(Math.abs(oe.vertical.center-ae.vertical.center)<a.guidelinesStyle.range*e.zoom()&&oe.horizontal.right==U&&ae.horizontal.left-oe.horizontal.right>a.guidelinesStyle.minDistRange){var te=Math.round(2*re)-U;g.forEach(function(ie,se){for(var $=0;$<se.length;$++){var ne=se[$];Math.abs(v.getDims(ne).vertical.center-K)<a.guidelinesStyle.range*e.zoom()&&Math.abs(te-v.getDims(ne).horizontal.left)<2*a.guidelinesTolerance&&(I=ee,z=ne)}},te-a.guidelinesTolerance,te+a.guidelinesTolerance)}}},re-a.guidelinesStyle.range*e.zoom(),re),I){w.hd=re-(v.getDims(z).horizontal.left+v.getDims(I).horizontal.right)/2,(!a.geometricGuideline||w.h==null||Math.abs(w.h)>Math.abs(w.hd))&&(w.h=w.hd);var W=T([I,N,z],"vertical");v.drawLine({x:v.getDims(I).horizontal.right,y:W},{x:ae.horizontal.left,y:W},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(z).horizontal.left,y:W},{x:ae.horizontal.right,y:W},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(I).horizontal.right,y:W},{x:v.getDims(I).horizontal.right,y:v.getDims(I).vertical.center},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(z).horizontal.left,y:W},{x:v.getDims(z).horizontal.left,y:v.getDims(z).vertical.center},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawLine({x:ae.horizontal.left,y:W},{x:ae.horizontal.left,y:K},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawLine({x:ae.horizontal.right,y:W},{x:ae.horizontal.right,y:K},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawArrow({x:v.getDims(I).horizontal.right,y:W},"left"),v.drawArrow({x:ae.horizontal.left,y:W},"right"),v.drawArrow({x:ae.horizontal.right,y:W},"left"),v.drawArrow({x:v.getDims(z).horizontal.left,y:W},"right")}else{var Z=v.horizontalDistributionNext(N,"left");Z||v.horizontalDistributionNext(N,"right")}},v.verticalDistribution=function(N){var I=null,z=null,ae=v.getDims(N),re=ae.horizontal.center,K=ae.vertical.center;if(y.forEach(function(U,V){for(var Y=0;Y<V.length;Y++){var ee=V[Y],oe=v.getDims(ee);if(Math.abs(oe.horizontal.center-ae.horizontal.center)<a.guidelinesStyle.range*e.zoom()&&oe.vertical.bottom==U&&ae.vertical.top-oe.vertical.bottom>a.guidelinesStyle.minDistRange){var te=Math.round(2*K-U);y.forEach(function(ie,se){for(var $=0;$<se.length;$++){var ne=se[$];Math.abs(v.getDims(ne).horizontal.center-re)<a.guidelinesStyle.range*e.zoom()&&Math.abs(te-v.getDims(ne).vertical.top)<2*a.guidelinesTolerance&&(I=ee,z=ne)}},te-a.guidelinesTolerance,te+a.guidelinesTolerance)}}},K-a.guidelinesStyle.range*e.zoom(),K),I){w.vd=K-(v.getDims(I).vertical.bottom+v.getDims(z).vertical.top)/2,(!a.geometricGuideline||w.v==null||Math.abs(w.v)>Math.abs(w.vd))&&(w.v=w.vd);var W=T([I,N,z],"horizontal");v.drawLine({y:v.getDims(I).vertical.bottom,x:W},{y:ae.vertical.top,x:W},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawLine({y:v.getDims(z).vertical.top,x:W},{y:ae.vertical.bottom,x:W},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawLine({y:v.getDims(I).vertical.bottom,x:W},{y:v.getDims(I).vertical.bottom,x:v.getDims(I).horizontal.center},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawLine({y:v.getDims(z).vertical.top,x:W},{y:v.getDims(z).vertical.top,x:v.getDims(z).horizontal.center},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawLine({y:ae.vertical.bottom,x:W},{y:ae.vertical.bottom,x:re},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawLine({y:ae.vertical.top,x:W},{y:ae.vertical.top,x:re},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawArrow({x:W,y:v.getDims(I).vertical.bottom},"top"),v.drawArrow({x:W,y:ae.vertical.top},"bottom"),v.drawArrow({x:W,y:v.getDims(z).vertical.top},"bottom"),v.drawArrow({x:W,y:ae.vertical.bottom},"top")}else{var Z=v.verticalDistributionNext(N,"below");Z||v.verticalDistributionNext(N,"above")}},v.searchForLine=function(N,I){var z,ae,re,K,W,Z,U,V=v.getDims(I)[N],Y=Number.MAX_SAFE_INTEGER;N=="horizontal"?(Z=g,K="y",W="x",w.h=null):(Z=y,K="x",W="y",w.v=null),re=I.renderedPosition(K);for(var ee in V)if(z=V[ee],Z.forEach(function(oe,te){for(var ie=0;ie<te.length;ie++){var se=te[ie];if(a.centerToEdgeAlignment||ee!="center"&&se.renderedPosition(W)!=oe||ee=="center"&&se.renderedPosition(W)==oe){var $=Math.abs(re-se.renderedPosition(K));$<Y&&$<a.guidelinesStyle.geometricGuidelineRange*e.zoom()&&(ae=se,Y=$,U=oe)}}},z-Number(a.guidelinesTolerance),z+Number(a.guidelinesTolerance)),ae){Y=v.getDims(I)[N][ee],N=="horizontal"?(w.h=Y-U,v.drawLine({x:Y,y:I.renderedPosition("y")},{x:Y,y:ae.renderedPosition("y")},a.guidelinesStyle.strokeStyle,a.guidelinesStyle.lineDash)):(w.v=Y-U,v.drawLine({x:I.renderedPosition("x"),y:Y},{x:ae.renderedPosition("x"),y:Y},a.guidelinesStyle.strokeStyle,a.guidelinesStyle.lineDash));break}},v.horizontalDistributionNext=function(N,I){var z=null,ae=null,re=v.getDims(N),K=re.horizontal.center,W=re.vertical.center,Z="right",U="left",V=K;if(I=="left"){Z="left",U="right";var V=K-a.guidelinesStyle.range*e.zoom()}var Y={left:function(ee,oe){return oe-ee>a.guidelinesStyle.minDistRange},right:function(ee,oe){return ee-oe>a.guidelinesStyle.minDistRange}};return g.forEach(function(ee,oe){for(var te=0;te<oe.length;te++){var ie=oe[te],se=v.getDims(ie);if(Math.abs(se.vertical.center-re.vertical.center)<a.guidelinesStyle.range*e.zoom()&&se.horizontal[U]==ee&&Y[I](se.horizontal[U],re.horizontal[Z])){var $=se.horizontal[Z]-(re.horizontal[Z]-ee);g.forEach(function(ne,le){for(var Se=0;Se<le.length;Se++){var _e=le[Se];Math.abs(v.getDims(_e).vertical.center-W)<a.guidelinesStyle.range*e.zoom()&&Math.abs($-v.getDims(_e).horizontal[U])<2*a.guidelinesTolerance&&(z=ie,ae=_e)}},$-a.guidelinesTolerance,$+a.guidelinesTolerance)}}},V,V+a.guidelinesStyle.range*e.zoom()),z?(w.hd=v.getDims(N).horizontal[Z]-v.getDims(z).horizontal[U]-(v.getDims(z).horizontal[Z]-v.getDims(ae).horizontal[U]),(!a.geometricGuideline||w.h==null||Math.abs(w.h)>Math.abs(w.hd))&&(w.h=w.hd),v.drawDH(N,z,ae,I),!0):(a.geometricGuideline||(w.h=null),!1)},v.drawDH=function(N,I,z,ae){var re=v.getDims(N).vertical.center,K="right",W="left";ae=="left"&&(K="left",W="right");var Z=T([I,N,z],"vertical");v.drawLine({x:v.getDims(I).horizontal[W],y:Z},{x:v.getDims(N).horizontal[K],y:Z},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(N).horizontal[K],y:Z},{x:v.getDims(N).horizontal[K],y:re},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(z).horizontal[W],y:Z},{x:v.getDims(I).horizontal[K],y:Z},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(z).horizontal[W],y:Z},{x:v.getDims(z).horizontal[W],y:v.getDims(z).vertical.center},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(I).horizontal[W],y:Z},{x:v.getDims(I).horizontal[W],y:v.getDims(I).vertical.center},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(I).horizontal[K],y:Z},{x:v.getDims(I).horizontal[K],y:v.getDims(I).vertical.center},a.guidelinesStyle.horizontalDistColor,a.guidelinesStyle.horizontalDistLine),v.drawArrow({x:v.getDims(N).horizontal[K],y:Z},W),v.drawArrow({x:v.getDims(I).horizontal[W],y:Z},K),v.drawArrow({x:v.getDims(I).horizontal[K],y:Z},W),v.drawArrow({x:v.getDims(z).horizontal[W],y:Z},K)},v.verticalDistributionNext=function(N,I){var z=null,ae=null,re=v.getDims(N),K=re.horizontal.center,W=re.vertical.center,Z="top",U="bottom",V=W-a.guidelinesStyle.range*e.zoom();I=="above"&&(Z="bottom",U="top",V=W);var Y={below:function(ee,oe){return oe-ee>a.guidelinesStyle.minDistRange},above:function(ee,oe){return ee-oe>a.guidelinesStyle.minDistRange}};return y.forEach(function(ee,oe){for(var te=0;te<oe.length;te++){var ie=oe[te],se=v.getDims(ie);if(Math.abs(se.horizontal.center-re.horizontal.center)<a.guidelinesStyle.range*e.zoom()&&se.vertical[U]==ee&&Y[I](se.vertical[U],re.vertical[Z])){var $=se.vertical[Z]-(re.vertical[Z]-ee);y.forEach(function(ne,le){for(var Se=0;Se<le.length;Se++){var _e=le[Se];Math.abs(v.getDims(_e).horizontal.center-K)<a.guidelinesStyle.range*e.zoom()&&Math.abs($-v.getDims(_e).vertical[U])<2*a.guidelinesTolerance&&(z=ie,ae=_e)}},$-a.guidelinesTolerance,$+a.guidelinesTolerance)}}},V,V+a.guidelinesStyle.range*e.zoom()),z?(w.vd=v.getDims(N).vertical[Z]-v.getDims(z).vertical[U]-(v.getDims(z).vertical[Z]-v.getDims(ae).vertical[U]),(!a.geometricGuideline||w.v==null||Math.abs(w.v)>Math.abs(w.vd))&&(w.v=w.vd),v.drawDV(N,z,ae,I),!0):(a.geometricGuideline||(w.v=null),!1)},v.drawDV=function(N,I,z,ae){var re=v.getDims(N),K=re.horizontal.center,W="top",Z="bottom";ae=="above"&&(W="bottom",Z="top");var U=T([I,N,z],"horizontal");v.drawLine({x:U,y:re.vertical[W]},{x:U,y:v.getDims(I).vertical[Z]},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawLine({x:U,y:v.getDims(I).vertical[W]},{x:U,y:v.getDims(z).vertical[Z]},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawLine({x:K,y:re.vertical[W]},{x:U,y:re.vertical[W]},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawLine({x:v.getDims(I).horizontal.center,y:v.getDims(I).vertical[Z]},{x:U,y:v.getDims(I).vertical[Z]},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawLine({x:v.getDims(I).horizontal.center,y:v.getDims(I).vertical[W]},{x:U,y:v.getDims(I).vertical[W]},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawLine({x:U,y:v.getDims(z).vertical[Z]},{x:v.getDims(z).horizontal.center,y:v.getDims(z).vertical[Z]},a.guidelinesStyle.verticalDistColor,a.guidelinesStyle.verticalDistLine),v.drawArrow({x:U,y:re.vertical[W]},Z),v.drawArrow({x:U,y:v.getDims(I).vertical[Z]},W),v.drawArrow({x:U,y:v.getDims(I).vertical[W]},Z),v.drawArrow({x:U,y:v.getDims(z).vertical[Z]},W)},v.update=function(N){v.clear(),a.initPosAlignment&&B(N),N.each(function(I,z){typeof I=="number"&&(I=z),a.geometricGuideline&&(v.searchForLine("horizontal",I),v.searchForLine("vertical",I)),a.distributionGuidelines&&(v.horizontalDistribution(I),v.verticalDistribution(I))})},v.resize=function(){l()};function A(N){for(var I={},z=0;z<N.length;z++)I[N[z].id()]=!0;var ae=N.filter(function(re,K){typeof re=="number"&&(re=K);for(var W=re.parent()[0];W!=null;){if(I[W.id()])return!1;W=W.parent()[0]}return!0});return ae}var _={},D={},R=function(N){_=N.renderedPosition||N.cyRenderedPosition,D.x=_.x,D.y=_.y},k=function(N){D.x+=N.x-C.x,D.y+=N.y-C.y,C.x=N.x,C.y=N.y},B=function(N){var I=N.renderedPosition();Math.abs(E.y-I.y)<a.guidelinesTolerance?(v.drawLine({x:D.x,y:_.y},{x:I.x,y:_.y},a.guidelinesStyle.initPosAlignmentColor,a.guidelinesStyle.initPosAlignmentLine),_.y==D.y?v.drawCross(D):v.drawCross(_)):Math.abs(E.x-I.x)<a.guidelinesTolerance&&(v.drawLine({x:_.x,y:D.y},{x:_.x,y:I.y},a.guidelinesStyle.initPosAlignmentColor,a.guidelinesStyle.initPosAlignmentLine),_.x==D.x?v.drawCross(D):v.drawCross(_))};function G(N,I){var z=A(I),ae=z.union(z.descendants());ae.filter(":childless").forEach(function(re,K){typeof re=="number"&&(re=K);var W={x:N.x+re.renderedPosition("x"),y:N.y+re.renderedPosition("y")};re.renderedPosition(W)})}var F;e.on("tapstart","node",function(){F=this});var q,M={x:0,y:0};e.on("mousemove",function(N){q=N.renderedPosition||N.cyRenderedPosition,P&&P.each(function(I,z){if(typeof I=="number"&&(I=z),I.locked()&&(Math.abs(q.x-M.x)>2*a.guidelinesTolerance||Math.abs(q.y-M.y)>2*a.guidelinesTolerance)){I.unlock();var ae={};ae.x=q.x-F.renderedPosition("x"),ae.y=q.y-F.renderedPosition("y"),G(ae,I)}})});var P;return v.snapToAlignmentLocation=function(N){P=N,N.each(function(I,z){typeof I=="number"&&(I=z);var ae=I.renderedPosition();w.h&&(M=q,ae.x-=w.h,I.renderedPosition(ae)),w.v&&(M=q,ae.y-=w.v,I.renderedPosition(ae)),(w.v||w.h)&&(w.h=null,w.v=null,P.lock())}),v.update(N)},{changeOptions:i,lines:v,getTopMostNodes:A,getMousePos:R,setMousePos:k,resizeCanvas:l,resetCanvas:p}}),Kv}var jv,AS;function jW(){return AS||(AS=1,jv=function(t,e){var r=t,n="_gridParentPadding",a;function i(){e.style().selector("."+n).style("compound-sizing-wrt-labels","exclude").style("padding-left",a).style("padding-right",a).style("padding-top",a).style("padding-bottom",a).update()}function o(u){r=u,a=r.parentSpacing<0?r.gridSpacing:r.parentSpacing,i()}function l(u,f){f?u.addClass(n):u.removeClass(n)}return{changeOptions:o,setPaddingOfParent:l}}),jv}var Zv,LS;function ZW(){return LS||(LS=1,Zv=function(t,e,r){function n(u,f,c){var h=u.union(u.descendants());h.filter(":childless").positions(function(p,y){typeof p=="number"&&(p=y);var g=p.position();return{x:g.x+f,y:g.y+c}})}function a(u){for(var f={},c=0;c<u.length;c++)f[u[c].id()]=!0;var h=u.filter(function(p,y){typeof p=="number"&&(p=y);for(var g=p.parent()[0];g!=null;){if(f[g.id()])return!1;g=g.parent()[0]}return!0});return h}if(r||t("collection","align",function(u,f,c){var h=a(this.nodes(":visible")),p=c||h[0];h=h.not(p),u=u||"none",f=f||"none";var y=0,g=0;f=="left"?y=-1:f=="right"&&(y=1),u=="top"?g=-1:u=="bottom"&&(g=1);for(var E=0;E<h.length;E++){var x=h[E],v=Object.assign({},x.position()),C=Object.assign({},x.position());f!="none"&&(C.x=p.position("x")+y*(p.outerWidth()-x.outerWidth())/2),u!="none"&&(C.y=p.position("y")+g*(p.outerHeight()-x.outerHeight())/2),n(x,C.x-v.x,C.y-v.y)}return this}),e.undoRedo){let u=function(){for(var c={},h=e.nodes(),p=0;p<h.length;p++){var y=h[p];c[y.id()]={x:y.position("x"),y:y.position("y")}}return c},f=function(c){var h={};return e.nodes().not(":parent").positions(function(p,y){typeof p=="number"&&(p=y),h[p.id()]={x:p.position("x"),y:p.position("y")};var g=c[p.id()];return{x:g.x,y:g.y}}),h};var o=u,l=f,i=e.undoRedo(null,!0);i.action("align",function(c){var h;return c.firstTime?(h=u(),c.nodes.align(c.horizontal,c.vertical,c.alignTo)):h=f(c),h},function(c){return f(c)})}}),Zv}var Qv,_S;function QW(){if(_S)return Qv;_S=1;var t=function(){var e="Expected a function",r=Math.max,n=Date.now,a=n||function(){return new Date().getTime()};function i(l,u,f){var c,h,p,y,g,E,x,v=0,C=!1,w=!0;if(typeof l!="function")throw new TypeError(e);if(u=u<0?0:+u||0,f===!0){var T=!0;w=!1}else o(f)&&(T=!!f.leading,C="maxWait"in f&&r(+f.maxWait||0,u),w="trailing"in f?!!f.trailing:w);function A(){E&&clearTimeout(E),h&&clearTimeout(h),v=0,h=E=x=void 0}function _(B,G){G&&clearTimeout(G),h=E=x=void 0,B&&(v=a(),p=l.apply(g,c),!E&&!h&&(c=g=void 0))}function D(){var B=u-(a()-y);B<=0||B>u?_(x,h):E=setTimeout(D,B)}function R(){_(w,E)}function k(){if(c=arguments,y=a(),g=this,x=w&&(E||!T),C===!1)var B=T&&!E;else{!h&&!T&&(v=y);var G=C-(y-v),F=G<=0||G>C;F?(h&&(h=clearTimeout(h)),v=y,p=l.apply(g,c)):h||(h=setTimeout(R,G))}return F&&E?E=clearTimeout(E):!E&&u!==C&&(E=setTimeout(D,u)),B&&(F=!0,p=l.apply(g,c)),F&&!E&&!h&&(c=g=void 0),p}return k.cancel=A,k}function o(l){var u=typeof l;return!!l&&(u=="object"||u=="function")}return i}();return Qv=t,Qv}var DS;function JW(){return DS||(DS=1,function(t){(function(){var e=function(r){if(!r)return;HW();var n=!1,a={snapToGridOnRelease:!0,snapToGridDuringDrag:!1,snapToAlignmentLocationOnRelease:!1,snapToAlignmentLocationDuringDrag:!1,distributionGuidelines:!1,geometricGuideline:!1,initPosAlignment:!1,centerToEdgeAlignment:!1,resize:!1,parentPadding:!1,drawGrid:!0,gridSpacing:20,snapToGridCenter:!0,zoomDash:!0,panGrid:!1,gridStackOrder:-1,gridColor:"#dedede",lineWidth:1,guidelinesStackOrder:4,guidelinesTolerance:2,guidelinesStyle:{strokeStyle:"#8b7d6b",geometricGuidelineRange:400,range:100,minDistRange:10,distGuidelineOffset:10,horizontalDistColor:"#ff0000",verticalDistColor:"#00ff00",initPosAlignmentColor:"#0000ff",lineDash:[0,0],horizontalDistLine:[0,0],verticalDistLine:[0,0],initPosAlignmentLine:[0,0]},parentSpacing:-1},i=UW(),o=WW(),l=VW(),u=$W(),f=YW(),c=KW(),h=jW(),p=ZW(),y=QW();function g(E){return E.scratch("_gridGuide")||E.scratch("_gridGuide",{}),E.scratch("_gridGuide")}r("core","gridGuide",function(E){var x=this,v=g(x),C=Object.extend({},v.options||a,E);if(v.options=C,v.initialized){var D=v.eventsController;D.syncWithOptions(C)}else{var w,T,A,_,D,R,k;w=i(x,C.gridSpacing,C.snapToGridCenter),T=u(C.gridSpacing),A=o(x,w),_=l(C,x,y),R=c(C,x,y),k=h(C,x),D=f(x,w,T,A,_,R,k,C),p(r,x,n),n=!0,D.init(C),v.initialized=!0,v.eventsController=D}return this})};t.exports&&(t.exports=e),typeof cytoscape<"u"&&e(cytoscape)})()}(Hv)),Hv.exports}var eV=JW();const tV=So(eV);var Pf={exports:{}},rV=Pf.exports,MS;function nV(){return MS||(MS=1,function(t,e){(function(r,n){t.exports=n()})(rV,function(){return(()=>{var r={621:(i,o,l)=>{function u(W,Z){(Z==null||Z>W.length)&&(Z=W.length);for(var U=0,V=new Array(Z);U<Z;U++)V[U]=W[U];return V}function f(W,Z){var U={};for(var V in W)U[V]=W[V];for(var Y in Z)U[Y]instanceof Array?U[Y]=U[Y].concat(Z[Y]):U[Y]=Z[Y];return U}function c(W){for(var Z="",U=0;U<W.length;U++)Z+=W[U],U!==W.length-1&&(Z+=" ");return Z}function h(W,Z,U){U?W.setAttribute(Z,""):W.removeAttribute(Z)}function p(W,Z,U){customElements.get(W)===void 0&&customElements.define(W,Z,{extends:U})}l.r(o),l.d(o,{contextMenus:()=>K});var y="cy-context-menus-divider",g={evtType:"cxttap",menuItems:[],menuItemClasses:["cy-context-menus-cxt-menuitem"],contextMenuClasses:["cy-context-menus-cxt-menu"],submenuIndicator:{src:"assets/submenu-indicator-default.svg",width:12,height:12}};function E(W){return(E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(W)}function x(W,Z){var U;if(typeof Symbol>"u"||W[Symbol.iterator]==null){if(Array.isArray(W)||(U=function(ie,se){if(ie){if(typeof ie=="string")return v(ie,se);var $=Object.prototype.toString.call(ie).slice(8,-1);return $==="Object"&&ie.constructor&&($=ie.constructor.name),$==="Map"||$==="Set"?Array.from(ie):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?v(ie,se):void 0}}(W))||Z){U&&(W=U);var V=0,Y=function(){};return{s:Y,n:function(){return V>=W.length?{done:!0}:{done:!1,value:W[V++]}},e:function(ie){throw ie},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,oe=!0,te=!1;return{s:function(){U=W[Symbol.iterator]()},n:function(){var ie=U.next();return oe=ie.done,ie},e:function(ie){te=!0,ee=ie},f:function(){try{oe||U.return==null||U.return()}finally{if(te)throw ee}}}}function v(W,Z){(Z==null||Z>W.length)&&(Z=W.length);for(var U=0,V=new Array(Z);U<Z;U++)V[U]=W[U];return V}function C(W,Z){if(!(W instanceof Z))throw new TypeError("Cannot call a class as a function")}function w(W,Z){for(var U=0;U<Z.length;U++){var V=Z[U];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(W,V.key,V)}}function T(W,Z,U){return Z&&w(W.prototype,Z),U&&w(W,U),W}function A(W,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(Z&&Z.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Z&&q(W,Z)}function _(W){var Z=F();return function(){var U,V=M(W);if(Z){var Y=M(this).constructor;U=Reflect.construct(V,arguments,Y)}else U=V.apply(this,arguments);return D(this,U)}}function D(W,Z){return!Z||E(Z)!=="object"&&typeof Z!="function"?R(W):Z}function R(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function k(W,Z,U){return(k=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(V,Y,ee){var oe=function(ie,se){for(;!Object.prototype.hasOwnProperty.call(ie,se)&&(ie=M(ie))!==null;);return ie}(V,Y);if(oe){var te=Object.getOwnPropertyDescriptor(oe,Y);return te.get?te.get.call(ee):te.value}})(W,Z,U||W)}function B(W){var Z=typeof Map=="function"?new Map:void 0;return(B=function(U){if(U===null||(V=U,Function.toString.call(V).indexOf("[native code]")===-1))return U;var V;if(typeof U!="function")throw new TypeError("Super expression must either be null or a function");if(Z!==void 0){if(Z.has(U))return Z.get(U);Z.set(U,Y)}function Y(){return G(U,arguments,M(this).constructor)}return Y.prototype=Object.create(U.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),q(Y,U)})(W)}function G(W,Z,U){return(G=F()?Reflect.construct:function(V,Y,ee){var oe=[null];oe.push.apply(oe,Y);var te=new(Function.bind.apply(V,oe));return ee&&q(te,ee.prototype),te}).apply(null,arguments)}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function q(W,Z){return(q=Object.setPrototypeOf||function(U,V){return U.__proto__=V,U})(W,Z)}function M(W){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)})(W)}function P(W){W.preventDefault(),W.stopPropagation()}var N=function(W){A(U,W);var Z=_(U);function U(V,Y,ee){var oe,te,ie,se,$,ne,le,Se,_e,be;C(this,U),k((te=R(be=Z.call(this)),M(U.prototype)),"setAttribute",te).call(te,"id",V.id);var Te=be._getMenuItemClassStr(ee.cxtMenuItemClasses,V.hasTrailingDivider);if(k((ie=R(be),M(U.prototype)),"setAttribute",ie).call(ie,"class",Te),k((se=R(be),M(U.prototype)),"setAttribute",se).call(se,"title",(oe=V.tooltipText)!==null&&oe!==void 0?oe:""),V.disabled&&h(R(be),"disabled",!0),V.image){var ve=document.createElement("img");ve.src=V.image.src,ve.width=V.image.width,ve.height=V.image.height,ve.style.position="absolute",ve.style.top=V.image.y+"px",ve.style.left=V.image.x+"px",k(($=R(be),M(U.prototype)),"appendChild",$).call($,ve)}if(be.innerHTML+=V.content,be.onMenuItemClick=Y,be.data={},be.clickFns=[],be.selector=V.selector,be.hasTrailingDivider=V.hasTrailingDivider,be.show=V.show===void 0||V.show,be.coreAsWell=V.coreAsWell||!1,be.scratchpad=ee,V.onClickFunction===void 0&&V.submenu===void 0)throw new Error("A menu item must either have click function or a submenu or both");return be.onClickFunction=V.onClickFunction,V.submenu instanceof Array&&be._createSubmenu(V.submenu),k((ne=R(be),M(U.prototype)),"addEventListener",ne).call(ne,"mousedown",P),k((le=R(be),M(U.prototype)),"addEventListener",le).call(le,"mouseup",P),k((Se=R(be),M(U.prototype)),"addEventListener",Se).call(Se,"touchstart",P),k((_e=R(be),M(U.prototype)),"addEventListener",_e).call(_e,"touchend",P),be}return T(U,[{key:"bindOnClickFunction",value:function(V){this.clickFns.push(V),k(M(U.prototype),"addEventListener",this).call(this,"click",V)}},{key:"unbindOnClickFunctions",value:function(){var V,Y=x(this.clickFns);try{for(Y.s();!(V=Y.n()).done;){var ee=V.value;k(M(U.prototype),"removeEventListener",this).call(this,"click",ee)}}catch(oe){Y.e(oe)}finally{Y.f()}this.clickFns=[]}},{key:"enable",value:function(){h(this,"disabled",!1),this.hasSubmenu()&&this.addEventListener("mouseenter",this.mouseEnterHandler)}},{key:"disable",value:function(){h(this,"disabled",!0),this.hasSubmenu()&&this.removeEventListener("mouseenter",this.mouseEnterHandler)}},{key:"hide",value:function(){this.show=!1,this.style.display="none"}},{key:"getHasTrailingDivider",value:function(){return!!this.hasTrailingDivider}},{key:"setHasTrailingDivider",value:function(V){this.hasTrailingDivider=V}},{key:"hasSubmenu",value:function(){return this.submenu instanceof I}},{key:"appendSubmenuItem",value:function(V){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this.hasSubmenu()||this._createSubmenu(),this.submenu.appendMenuItem(V,Y)}},{key:"isClickable",value:function(){return this.onClickFunction!==void 0}},{key:"display",value:function(){this.show=!0,this.style.display="block"}},{key:"isVisible",value:function(){return this.show===!0&&this.style.display!=="none"}},{key:"removeSubmenu",value:function(){this.hasSubmenu()&&(this.submenu.removeAllMenuItems(),this.detachSubmenu())}},{key:"detachSubmenu",value:function(){this.hasSubmenu()&&(this.removeChild(this.submenu),this.removeChild(this.indicator),this.removeEventListener("mouseenter",this.mouseEnterHandler),this.removeEventListener("mouseleave",this.mouseLeaveHandler),this.submenu=void 0,this.indicator=void 0)}},{key:"_onMouseEnter",value:function(V){var Y=this.getBoundingClientRect(),ee=function($){$.style.opacity="0",$.style.display="block";var ne=$.getBoundingClientRect();return $.style.opacity="1",$.style.display="none",ne}(this.submenu),oe=Y.right+ee.width>window.innerWidth,te=Y.top+ee.height>window.innerHeight;oe||te?oe&&!te?(this.submenu.style.right=this.clientWidth+"px",this.submenu.style.top="0px",this.submenu.style.left="auto",this.submenu.style.bottom="auto"):oe&&te?(this.submenu.style.right=this.clientWidth+"px",this.submenu.style.bottom="0px",this.submenu.style.top="auto",this.submenu.style.left="auto"):(this.submenu.style.left=this.clientWidth+"px",this.submenu.style.bottom="0px",this.submenu.style.right="auto",this.submenu.style.top="auto"):(this.submenu.style.left=this.clientWidth+"px",this.submenu.style.top="0px",this.submenu.style.right="auto",this.submenu.style.bottom="auto"),this.submenu.display();var ie=Array.from(this.submenu.children).filter(function($){if($ instanceof U)return $.isVisible()}),se=ie.length;ie.forEach(function($,ne){$ instanceof U&&(ne<se-1&&$.getHasTrailingDivider()?$.classList.add(y):$.getHasTrailingDivider()&&$.classList.remove(y))})}},{key:"_onMouseLeave",value:function(V){var Y,ee,oe,te,ie;Y={x:V.clientX,y:V.clientY},ee=this.submenu,te=Y.y,(oe=Y.x)>=(ie=ee.getBoundingClientRect()).left&&oe<=ie.right&&te>=ie.top&&te<=ie.bottom||this.submenu.hide()}},{key:"_createSubmenu",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.indicator=this.scratchpad.submenuIndicatorGen(),this.submenu=new I(this.onMenuItemClick,this.scratchpad),this.appendChild(this.indicator),this.appendChild(this.submenu);var Y,ee=x(V);try{for(ee.s();!(Y=ee.n()).done;){var oe=Y.value,te=new U(oe,this.onMenuItemClick,this.scratchpad);this.submenu.appendMenuItem(te)}}catch(ie){ee.e(ie)}finally{ee.f()}this.mouseEnterHandler=this._onMouseEnter.bind(this),this.mouseLeaveHandler=this._onMouseLeave.bind(this),this.addEventListener("mouseenter",this.mouseEnterHandler),this.addEventListener("mouseleave",this.mouseLeaveHandler)}},{key:"_getMenuItemClassStr",value:function(V,Y){return Y?V+" "+y:V}}],[{key:"define",value:function(){p("ctx-menu-item",U,"button")}}]),U}(B(HTMLButtonElement)),I=function(W){A(U,W);var Z=_(U);function U(V,Y){var ee,oe;return C(this,U),k((ee=R(oe=Z.call(this)),M(U.prototype)),"setAttribute",ee).call(ee,"class",Y.cxtMenuClasses),oe.style.position="absolute",oe.onMenuItemClick=V,oe.scratchpad=Y,oe}return T(U,[{key:"hide",value:function(){this.isVisible()&&(this.hideSubmenus(),this.style.display="none")}},{key:"display",value:function(){this.style.display="block"}},{key:"isVisible",value:function(){return this.style.display!=="none"}},{key:"hideMenuItems",value:function(){var V,Y=x(this.children);try{for(Y.s();!(V=Y.n()).done;){var ee=V.value;ee instanceof HTMLElement?ee.style.display="none":console.warn("".concat(ee," is not a HTMLElement"))}}catch(oe){Y.e(oe)}finally{Y.f()}}},{key:"hideSubmenus",value:function(){var V,Y=x(this.children);try{for(Y.s();!(V=Y.n()).done;){var ee=V.value;ee instanceof N&&ee.submenu&&ee.submenu.hide()}}catch(oe){Y.e(oe)}finally{Y.f()}}},{key:"appendMenuItem",value:function(V){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(Y!==void 0){if(Y.parentNode!==this)throw new Error("The item with id='".concat(Y.id,"' is not a child of the context menu"));this.insertBefore(V,Y)}else this.appendChild(V);V.isClickable()&&this._performBindings(V)}},{key:"moveBefore",value:function(V,Y){if(V.parentNode!==this)throw new Error("The item with id='".concat(V.id,"' is not a child of context menu"));if(Y.parentNode!==this)throw new Error("The item with id='".concat(Y.id,"' is not a child of context menu"));this.removeChild(V),this.insertBefore(V,Y)}},{key:"removeAllMenuItems",value:function(){for(;this.firstChild;){var V=this.lastChild;V instanceof N?this._removeImmediateMenuItem(V):(console.warn("Found non menu item in the context menu: ",V),this.removeChild(V))}}},{key:"_removeImmediateMenuItem",value:function(V){if(!this._detachImmediateMenuItem(V))throw new Error("menu item(id=".concat(V.id,") is not in the context menu"));V.detachSubmenu(),V.unbindOnClickFunctions()}},{key:"_detachImmediateMenuItem",value:function(V){if(V.parentNode===this){if(this.removeChild(V),this.children.length<=0){var Y=this.parentNode;Y instanceof N&&Y.detachSubmenu()}return!0}return!1}},{key:"_performBindings",value:function(V){var Y=this._bindOnClick(V.onClickFunction);V.bindOnClickFunction(Y),V.bindOnClickFunction(this.onMenuItemClick)}},{key:"_bindOnClick",value:function(V){var Y=this;return function(){var ee=Y.scratchpad.currentCyEvent;V(ee)}}}],[{key:"define",value:function(){p("menu-item-list",U,"div")}}]),U}(B(HTMLDivElement)),z=function(W){A(U,W);var Z=_(U);function U(V,Y){var ee;return C(this,U),(ee=Z.call(this,V,Y)).onMenuItemClick=function(oe){P(oe),ee.hide(),V()},ee}return T(U,[{key:"removeMenuItem",value:function(V){var Y=V.parentElement;Y instanceof I&&this.contains(Y)&&Y._removeImmediateMenuItem(V)}},{key:"appendMenuItem",value:function(V){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this.ensureDoesntContain(V.id),k(M(U.prototype),"appendMenuItem",this).call(this,V,Y)}},{key:"insertMenuItem",value:function(V){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=Y.before,oe=Y.parent;if(this.ensureDoesntContain(V.id),ee!==void 0){if(!this.contains(ee))throw new Error("before(id=".concat(ee.id,") is not in the context menu"));var te=ee.parentNode;if(!(te instanceof I))throw new Error("Parent of before(id=".concat(ee.id,") is not a submenu"));te.appendMenuItem(V,ee)}else if(oe!==void 0){if(!this.contains(oe))throw new Error("parent(id=".concat(oe.id,") is not a descendant of the context menu"));oe.appendSubmenuItem(V)}else this.appendMenuItem(V)}},{key:"moveBefore",value:function(V,Y){var ee=V.parentElement;if(!this.contains(ee))throw new Error("parent(id=".concat(ee.id,") is not in the contex menu"));if(!this.contains(Y))throw new Error("before(id=".concat(Y.id,") is not in the context menu"));ee.removeChild(V),this.insertMenuItem(V,{before:Y})}},{key:"moveToSubmenu",value:function(V){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,oe=V.parentElement;if(!(oe instanceof I))throw new Error("current parent(id=".concat(oe.id,") is not a submenu"));if(!this.contains(oe))throw new Error("parent of the menu item(id=".concat(oe.id,") is not in the context menu"));if(Y!==null){if(!this.contains(Y))throw new Error("parent(id=".concat(Y.id,") is not in the context menu"));oe._detachImmediateMenuItem(V),Y.appendSubmenuItem(V)}else ee!==null&&(V.selector=ee.selector,V.coreAsWell=ee.coreAsWell),oe._detachImmediateMenuItem(V),this.appendMenuItem(V)}},{key:"ensureDoesntContain",value:function(V){var Y=document.getElementById(V);if(Y!==void 0&&this.contains(Y))throw new Error("There is already an element with id=".concat(V," in the context menu"))}},{key:"ensureContains",value:function(V){var Y=document.getElementById(V);if(Y==null||Y==null||!this.contains(Y))throw new Error("An element with id '".concat(V,"' does not exist!"))}}],[{key:"define",value:function(){p("ctx-menu",U,"div")}}]),U}(I);function ae(W,Z){var U;if(typeof Symbol>"u"||W[Symbol.iterator]==null){if(Array.isArray(W)||(U=function(ie,se){if(ie){if(typeof ie=="string")return re(ie,se);var $=Object.prototype.toString.call(ie).slice(8,-1);return $==="Object"&&ie.constructor&&($=ie.constructor.name),$==="Map"||$==="Set"?Array.from(ie):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?re(ie,se):void 0}}(W))||Z){U&&(W=U);var V=0,Y=function(){};return{s:Y,n:function(){return V>=W.length?{done:!0}:{done:!1,value:W[V++]}},e:function(ie){throw ie},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,oe=!0,te=!1;return{s:function(){U=W[Symbol.iterator]()},n:function(){var ie=U.next();return oe=ie.done,ie},e:function(ie){te=!0,ee=ie},f:function(){try{oe||U.return==null||U.return()}finally{if(te)throw ee}}}}function re(W,Z){(Z==null||Z>W.length)&&(Z=W.length);for(var U=0,V=new Array(Z);U<Z;U++)V[U]=W[U];return V}function K(W){var Z=this;Z.scratch("cycontextmenus")||Z.scratch("cycontextmenus",{});var U,V,Y=function(ve){return Z.scratch("cycontextmenus")[ve]},ee=function(ve,de){return Z.scratch("cycontextmenus")[ve]=de},oe=Y("options"),te=Y("cxtMenu"),ie=function(ve){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,ye=$(ve);if(de!==void 0){var Ce=le(de);te.insertMenuItem(ye,{parent:Ce})}else te.insertMenuItem(ye)},se=function(ve){for(var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,ye=0;ye<ve.length;ye++)ie(ve[ye],de)},$=function(ve){var de=Z.scratch("cycontextmenus");return new N(ve,te.onMenuItemClick,de)},ne=function(){Y("active")&&(te.removeAllMenuItems(),Z.off("tapstart",Y("eventCyTapStart")),Z.off(oe.evtType,Y("onCxttap")),Z.off("viewport",Y("onViewport")),document.removeEventListener("mouseup",Y("hideOnNonCyClick")),te.parentNode.removeChild(te),te=void 0,ee("cxtMenu",void 0),ee("active",!1),ee("anyVisibleChild",!1),ee("onCxttap",void 0),ee("onViewport",void 0),ee("hideOnNonCyClick",void 0))},le=function(ve){var de=document.getElementById(ve);if(de instanceof N)return de;throw new Error("The item with id=".concat(ve," is not a menu item"))},Se=function(){var ve,de=!1,ye=ae(te.children);try{for(ye.s();!(ve=ye.n()).done;){var Ce=ve.value;if(Ce instanceof N&&Ce.show&&Ce.style.display!="none"){de=!0;break}}}catch(ue){ye.e(ue)}finally{ye.f()}de?te.display():te.hide()};if(W!=="get"){N.define(),I.define(),z.define(),oe=f(g,W),ee("options",oe),Y("active")&&ne(),ee("active",!0),ee("submenuIndicatorGen",(function(ve){var de=document.createElement("img");return de.src=ve.src,de.width=ve.width,de.height=ve.height,de.classList.add("cy-context-menus-submenu-indicator"),de}).bind(void 0,oe.submenuIndicator));var _e=c(oe.contextMenuClasses);ee("cxtMenuClasses",_e);var be=Z.scratch("cycontextmenus");te=new z(function(){return ee("cxtMenuPosition",void 0)},be),ee("cxtMenu",te),Z.container().appendChild(te),ee("cxtMenuItemClasses",c(oe.menuItemClasses));var Te=oe.menuItems;se(Te),V=function(ve){ee("currentCyEvent",ve),function(Fe){var Ye,We=Z.container(),Qe=Y("cxtMenuPosition"),Xe=Fe.position||Fe.cyPosition;if(Qe!=Xe){te.hideMenuItems(),ee("anyVisibleChild",!1),ee("cxtMenuPosition",Xe);var Ve={top:(Ye=We.getBoundingClientRect()).top,left:Ye.left},he=Fe.renderedPosition||Fe.cyRenderedPosition,j=getComputedStyle(We)["border-width"],pe=parseInt(j.replace("px",""))||0;pe>0&&(Ve.top+=pe,Ve.left+=pe);var me=We.clientHeight,we=We.clientWidth,xe=me/2,qe=we/2;he.y>xe&&he.x<=qe?(te.style.left=he.x+"px",te.style.bottom=me-he.y+"px",te.style.right="auto",te.style.top="auto"):he.y>xe&&he.x>qe?(te.style.right=we-he.x+"px",te.style.bottom=me-he.y+"px",te.style.left="auto",te.style.top="auto"):he.y<=xe&&he.x<=qe?(te.style.left=he.x+"px",te.style.top=he.y+"px",te.style.right="auto",te.style.bottom="auto"):(te.style.right=we-he.x+"px",te.style.top=he.y+"px",te.style.left="auto",te.style.bottom="auto")}}(ve);var de,ye=ve.target||ve.cyTarget,Ce=ae(te.children);try{for(Ce.s();!(de=Ce.n()).done;){var ue=de.value;ue instanceof N&&(ye===Z?ue.coreAsWell:ye.is(ue.selector))&&ue.show&&(te.display(),ee("anyVisibleChild",!0),ue.display())}}catch(Fe){Ce.e(Fe)}finally{Ce.f()}var Ae=Array.from(te.children).filter(function(Fe){if(Fe instanceof N)return Fe.isVisible()}),Pe=Ae.length;Ae.forEach(function(Fe,Ye){Fe instanceof N&&(Ye<Pe-1&&Fe.getHasTrailingDivider()?Fe.classList.add(y):Fe.getHasTrailingDivider()&&Fe.classList.remove(y))}),!Y("anyVisibleChild")&&!function(Fe){return Fe.offsetWidth<=0&&Fe.offsetHeight<=0||Fe.style&&Fe.style.display||getComputedStyle(Fe).display}(te)&&te.hide()},Z.on(oe.evtType,V),ee("onCxttap",V),function(){var ve=function(ye){if(te.contains(ye.originalEvent.target))return!1;te.hide(),ee("cxtMenuPosition",void 0),ee("currentCyEvent",void 0)};Z.on("tapstart",ve),ee("eventCyTapStart",ve);var de=function(){te.hide()};Z.on("viewport",de),ee("onViewport",de)}(),U=function(ve){Z.container().contains(ve.target)||te.contains(ve.target)||(te.hide(),ee("cxtMenuPosition",void 0))},document.addEventListener("mouseup",U),ee("hideOnNonCyClick",U),function(){var ve,de=function(ye,Ce){var ue;if(typeof Symbol>"u"||ye[Symbol.iterator]==null){if(Array.isArray(ye)||(ue=function(Qe,Xe){if(Qe){if(typeof Qe=="string")return u(Qe,Xe);var Ve=Object.prototype.toString.call(Qe).slice(8,-1);return Ve==="Object"&&Qe.constructor&&(Ve=Qe.constructor.name),Ve==="Map"||Ve==="Set"?Array.from(Qe):Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve)?u(Qe,Xe):void 0}}(ye))||Ce){ue&&(ye=ue);var Ae=0,Pe=function(){};return{s:Pe,n:function(){return Ae>=ye.length?{done:!0}:{done:!1,value:ye[Ae++]}},e:function(Qe){throw Qe},f:Pe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fe,Ye=!0,We=!1;return{s:function(){ue=ye[Symbol.iterator]()},n:function(){var Qe=ue.next();return Ye=Qe.done,Qe},e:function(Qe){We=!0,Fe=Qe},f:function(){try{Ye||ue.return==null||ue.return()}finally{if(We)throw Fe}}}}(document.getElementsByClassName("cy-context-menus-cxt-menu"));try{for(de.s();!(ve=de.n()).done;)ve.value.addEventListener("contextmenu",function(ye){return ye.preventDefault()})}catch(ye){de.e(ye)}finally{de.f()}}()}return function(ve){return{isActive:function(){return Y("active")},appendMenuItem:function(de){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return ie(de,ye),ve},appendMenuItems:function(de){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return se(de,ye),ve},removeMenuItem:function(de){var ye=le(de);return te.removeMenuItem(ye),ve},setTrailingDivider:function(de,ye){var Ce=le(de);return Ce.setHasTrailingDivider(ye),ye?Ce.classList.add(y):Ce.classList.remove(y),ve},insertBeforeMenuItem:function(de,ye){var Ce=$(de),ue=le(ye);return te.insertMenuItem(Ce,{before:ue}),ve},moveToSubmenu:function(de){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ce=le(de);if(ye===null)te.moveToSubmenu(Ce);else if(typeof ye=="string"){var ue=le(ye.toString());te.moveToSubmenu(Ce,ue)}else ye.coreAsWell!==void 0||ye.selector!==void 0?te.moveToSubmenu(Ce,null,ye):console.warn("options neither has coreAsWell nor selector property but it is an object. Are you sure that this is what you want to do?");return ve},moveBeforeOtherMenuItem:function(de,ye){var Ce=le(de),ue=le(ye);return te.moveBefore(Ce,ue),ve},disableMenuItem:function(de){return le(de).disable(),ve},enableMenuItem:function(de){return le(de).enable(),ve},hideMenuItem:function(de){return le(de).hide(),Se(),ve},showMenuItem:function(de){return le(de).display(),Se(),ve},destroy:function(){return ne(),ve},getOptions:function(){return f(g,oe)},swapItems:function(de,ye){te.ensureContains(de),te.ensureContains(ye);var Ce=document.getElementById(de),ue=document.getElementById(ye),Ae=Ce.nextSibling,Pe=ue.nextSibling,Fe=Ce.parentNode,Ye=ue.parentNode;if(!Fe.isSameNode(Ye))throw new Error("To swap, the items should have the same parent!");Ae&&Ae.isSameNode(ue)?Fe.insertBefore(ue,Ce):Pe&&Pe.isSameNode(Ce)?Fe.insertBefore(Ce,ue):(Fe.insertBefore(ue,Ce),Fe.insertBefore(Ce,Pe))}}}(this)}},579:(i,o,l)=>{var u=l(621).contextMenus,f=function(c){c&&c("core","contextMenus",u)};typeof cytoscape<"u"&&f(cytoscape),i.exports=f}},n={};function a(i){var o=n[i];if(o!==void 0)return o.exports;var l=n[i]={exports:{}};return r[i](l,l.exports,a),l.exports}return a.d=(i,o)=>{for(var l in o)a.o(o,l)&&!a.o(i,l)&&Object.defineProperty(i,l,{enumerable:!0,get:o[l]})},a.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),a.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a(579)})()})}(Pf)),Pf.exports}var aV=nV();const iV=So(aV);var kf={exports:{}};function G1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jv,RS;function oV(){if(RS)return Jv;RS=1;function t(){this.__data__=[],this.size=0}return Jv=t,Jv}var ep,PS;function Ps(){if(PS)return ep;PS=1;function t(e,r){return e===r||e!==e&&r!==r}return ep=t,ep}var tp,kS;function Hc(){if(kS)return tp;kS=1;var t=Ps();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return tp=e,tp}var rp,NS;function sV(){if(NS)return rp;NS=1;var t=Hc(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return rp=n,rp}var np,OS;function lV(){if(OS)return np;OS=1;var t=Hc();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return np=e,np}var ap,IS;function uV(){if(IS)return ap;IS=1;var t=Hc();function e(r){return t(this.__data__,r)>-1}return ap=e,ap}var ip,FS;function fV(){if(FS)return ip;FS=1;var t=Hc();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return ip=e,ip}var op,BS;function Uc(){if(BS)return op;BS=1;var t=oV(),e=sV(),r=lV(),n=uV(),a=fV();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,op=i,op}var sp,qS;function cV(){if(qS)return sp;qS=1;var t=Uc();function e(){this.__data__=new t,this.size=0}return sp=e,sp}var lp,zS;function dV(){if(zS)return lp;zS=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return lp=t,lp}var up,GS;function hV(){if(GS)return up;GS=1;function t(e){return this.__data__.get(e)}return up=t,up}var fp,HS;function vV(){if(HS)return fp;HS=1;function t(e){return this.__data__.has(e)}return fp=t,fp}var cp,US;function LN(){if(US)return cp;US=1;var t=typeof gf=="object"&&gf&&gf.Object===Object&&gf;return cp=t,cp}var dp,WS;function ca(){if(WS)return dp;WS=1;var t=LN(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return dp=r,dp}var hp,VS;function ks(){if(VS)return hp;VS=1;var t=ca(),e=t.Symbol;return hp=e,hp}var vp,$S;function pV(){if($S)return vp;$S=1;var t=ks(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=r.call(o,a),u=o[a];try{o[a]=void 0;var f=!0}catch{}var c=n.call(o);return f&&(l?o[a]=u:delete o[a]),c}return vp=i,vp}var pp,YS;function gV(){if(YS)return pp;YS=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return pp=r,pp}var gp,XS;function Ao(){if(XS)return gp;XS=1;var t=ks(),e=pV(),r=gV(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return gp=o,gp}var yp,KS;function Xn(){if(KS)return yp;KS=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return yp=t,yp}var mp,jS;function yu(){if(jS)return mp;jS=1;var t=Ao(),e=Xn(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var u=t(l);return u==n||u==a||u==r||u==i}return mp=o,mp}var bp,ZS;function yV(){if(ZS)return bp;ZS=1;var t=ca(),e=t["__core-js_shared__"];return bp=e,bp}var wp,QS;function mV(){if(QS)return wp;QS=1;var t=yV(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return wp=r,wp}var xp,JS;function _N(){if(JS)return xp;JS=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return xp=r,xp}var Cp,eA;function bV(){if(eA)return Cp;eA=1;var t=yu(),e=mV(),r=Xn(),n=_N(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,f=l.hasOwnProperty,c=RegExp("^"+u.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!r(p)||e(p))return!1;var y=t(p)?c:i;return y.test(n(p))}return Cp=h,Cp}var Ep,tA;function wV(){if(tA)return Ep;tA=1;function t(e,r){return e==null?void 0:e[r]}return Ep=t,Ep}var Tp,rA;function Lo(){if(rA)return Tp;rA=1;var t=bV(),e=wV();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return Tp=r,Tp}var Sp,nA;function H1(){if(nA)return Sp;nA=1;var t=Lo(),e=ca(),r=t(e,"Map");return Sp=r,Sp}var Ap,aA;function Wc(){if(aA)return Ap;aA=1;var t=Lo(),e=t(Object,"create");return Ap=e,Ap}var Lp,iA;function xV(){if(iA)return Lp;iA=1;var t=Wc();function e(){this.__data__=t?t(null):{},this.size=0}return Lp=e,Lp}var _p,oA;function CV(){if(oA)return _p;oA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return _p=t,_p}var Dp,sA;function EV(){if(sA)return Dp;sA=1;var t=Wc(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return Dp=a,Dp}var Mp,lA;function TV(){if(lA)return Mp;lA=1;var t=Wc(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Mp=n,Mp}var Rp,uA;function SV(){if(uA)return Rp;uA=1;var t=Wc(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Rp=r,Rp}var Pp,fA;function AV(){if(fA)return Pp;fA=1;var t=xV(),e=CV(),r=EV(),n=TV(),a=SV();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Pp=i,Pp}var kp,cA;function LV(){if(cA)return kp;cA=1;var t=AV(),e=Uc(),r=H1();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return kp=n,kp}var Np,dA;function _V(){if(dA)return Np;dA=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Np=t,Np}var Op,hA;function Vc(){if(hA)return Op;hA=1;var t=_V();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Op=e,Op}var Ip,vA;function DV(){if(vA)return Ip;vA=1;var t=Vc();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Ip=e,Ip}var Fp,pA;function MV(){if(pA)return Fp;pA=1;var t=Vc();function e(r){return t(this,r).get(r)}return Fp=e,Fp}var Bp,gA;function RV(){if(gA)return Bp;gA=1;var t=Vc();function e(r){return t(this,r).has(r)}return Bp=e,Bp}var qp,yA;function PV(){if(yA)return qp;yA=1;var t=Vc();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return qp=e,qp}var zp,mA;function U1(){if(mA)return zp;mA=1;var t=LV(),e=DV(),r=MV(),n=RV(),a=PV();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,zp=i,zp}var Gp,bA;function kV(){if(bA)return Gp;bA=1;var t=Uc(),e=H1(),r=U1(),n=200;function a(i,o){var l=this.__data__;if(l instanceof t){var u=l.__data__;if(!e||u.length<n-1)return u.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(i,o),this.size=l.size,this}return Gp=a,Gp}var Hp,wA;function $c(){if(wA)return Hp;wA=1;var t=Uc(),e=cV(),r=dV(),n=hV(),a=vV(),i=kV();function o(l){var u=this.__data__=new t(l);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,Hp=o,Hp}var Up,xA;function W1(){if(xA)return Up;xA=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a&&r(e[n],n,e)!==!1;);return e}return Up=t,Up}var Wp,CA;function DN(){if(CA)return Wp;CA=1;var t=Lo(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Wp=e,Wp}var Vp,EA;function Yc(){if(EA)return Vp;EA=1;var t=DN();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Vp=e,Vp}var $p,TA;function Xc(){if(TA)return $p;TA=1;var t=Yc(),e=Ps(),r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l){var u=i[o];(!(n.call(i,o)&&e(u,l))||l===void 0&&!(o in i))&&t(i,o,l)}return $p=a,$p}var Yp,SA;function mu(){if(SA)return Yp;SA=1;var t=Xc(),e=Yc();function r(n,a,i,o){var l=!i;i||(i={});for(var u=-1,f=a.length;++u<f;){var c=a[u],h=o?o(i[c],n[c],c,i,n):void 0;h===void 0&&(h=n[c]),l?e(i,c,h):t(i,c,h)}return i}return Yp=r,Yp}var Xp,AA;function NV(){if(AA)return Xp;AA=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Xp=t,Xp}var Kp,LA;function Ra(){if(LA)return Kp;LA=1;function t(e){return e!=null&&typeof e=="object"}return Kp=t,Kp}var jp,_A;function OV(){if(_A)return jp;_A=1;var t=Ao(),e=Ra(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return jp=n,jp}var Zp,DA;function bu(){if(DA)return Zp;DA=1;var t=OV(),e=Ra(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return Zp=i,Zp}var Qp,MA;function Dr(){if(MA)return Qp;MA=1;var t=Array.isArray;return Qp=t,Qp}var Tl={exports:{}},Jp,RA;function IV(){if(RA)return Jp;RA=1;function t(){return!1}return Jp=t,Jp}Tl.exports;var PA;function Ns(){return PA||(PA=1,function(t,e){var r=ca(),n=IV(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||n;t.exports=f}(Tl,Tl.exports)),Tl.exports}var eg,kA;function Kc(){if(kA)return eg;kA=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return eg=r,eg}var tg,NA;function V1(){if(NA)return tg;NA=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return tg=e,tg}var rg,OA;function FV(){if(OA)return rg;OA=1;var t=Ao(),e=V1(),r=Ra(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",f="[object Map]",c="[object Number]",h="[object Object]",p="[object RegExp]",y="[object Set]",g="[object String]",E="[object WeakMap]",x="[object ArrayBuffer]",v="[object DataView]",C="[object Float32Array]",w="[object Float64Array]",T="[object Int8Array]",A="[object Int16Array]",_="[object Int32Array]",D="[object Uint8Array]",R="[object Uint8ClampedArray]",k="[object Uint16Array]",B="[object Uint32Array]",G={};G[C]=G[w]=G[T]=G[A]=G[_]=G[D]=G[R]=G[k]=G[B]=!0,G[n]=G[a]=G[x]=G[i]=G[v]=G[o]=G[l]=G[u]=G[f]=G[c]=G[h]=G[p]=G[y]=G[g]=G[E]=!1;function F(q){return r(q)&&e(q.length)&&!!G[t(q)]}return rg=F,rg}var ng,IA;function jc(){if(IA)return ng;IA=1;function t(e){return function(r){return e(r)}}return ng=t,ng}var Sl={exports:{}};Sl.exports;var FA;function $1(){return FA||(FA=1,function(t,e){var r=LN(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(Sl,Sl.exports)),Sl.exports}var ag,BA;function wu(){if(BA)return ag;BA=1;var t=FV(),e=jc(),r=$1(),n=r&&r.isTypedArray,a=n?e(n):t;return ag=a,ag}var ig,qA;function MN(){if(qA)return ig;qA=1;var t=NV(),e=bu(),r=Dr(),n=Ns(),a=Kc(),i=wu(),o=Object.prototype,l=o.hasOwnProperty;function u(f,c){var h=r(f),p=!h&&e(f),y=!h&&!p&&n(f),g=!h&&!p&&!y&&i(f),E=h||p||y||g,x=E?t(f.length,String):[],v=x.length;for(var C in f)(c||l.call(f,C))&&!(E&&(C=="length"||y&&(C=="offset"||C=="parent")||g&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||a(C,v)))&&x.push(C);return x}return ig=u,ig}var og,zA;function Zc(){if(zA)return og;zA=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return og=e,og}var sg,GA;function RN(){if(GA)return sg;GA=1;function t(e,r){return function(n){return e(r(n))}}return sg=t,sg}var lg,HA;function BV(){if(HA)return lg;HA=1;var t=RN(),e=t(Object.keys,Object);return lg=e,lg}var ug,UA;function Y1(){if(UA)return ug;UA=1;var t=Zc(),e=BV(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return ug=a,ug}var fg,WA;function ri(){if(WA)return fg;WA=1;var t=yu(),e=V1();function r(n){return n!=null&&e(n.length)&&!t(n)}return fg=r,fg}var cg,VA;function zi(){if(VA)return cg;VA=1;var t=MN(),e=Y1(),r=ri();function n(a){return r(a)?t(a):e(a)}return cg=n,cg}var dg,$A;function qV(){if($A)return dg;$A=1;var t=mu(),e=zi();function r(n,a){return n&&t(a,e(a),n)}return dg=r,dg}var hg,YA;function zV(){if(YA)return hg;YA=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return hg=t,hg}var vg,XA;function GV(){if(XA)return vg;XA=1;var t=Xn(),e=Zc(),r=zV(),n=Object.prototype,a=n.hasOwnProperty;function i(o){if(!t(o))return r(o);var l=e(o),u=[];for(var f in o)f=="constructor"&&(l||!a.call(o,f))||u.push(f);return u}return vg=i,vg}var pg,KA;function _o(){if(KA)return pg;KA=1;var t=MN(),e=GV(),r=ri();function n(a){return r(a)?t(a,!0):e(a)}return pg=n,pg}var gg,jA;function HV(){if(jA)return gg;jA=1;var t=mu(),e=_o();function r(n,a){return n&&t(a,e(a),n)}return gg=r,gg}var Al={exports:{}};Al.exports;var ZA;function PN(){return ZA||(ZA=1,function(t,e){var r=ca(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function u(f,c){if(c)return f.slice();var h=f.length,p=l?l(h):new f.constructor(h);return f.copy(p),p}t.exports=u}(Al,Al.exports)),Al.exports}var yg,QA;function kN(){if(QA)return yg;QA=1;function t(e,r){var n=-1,a=e.length;for(r||(r=Array(a));++n<a;)r[n]=e[n];return r}return yg=t,yg}var mg,JA;function NN(){if(JA)return mg;JA=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return mg=t,mg}var bg,eL;function ON(){if(eL)return bg;eL=1;function t(){return[]}return bg=t,bg}var wg,tL;function X1(){if(tL)return wg;tL=1;var t=NN(),e=ON(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return wg=i,wg}var xg,rL;function UV(){if(rL)return xg;rL=1;var t=mu(),e=X1();function r(n,a){return t(n,e(n),a)}return xg=r,xg}var Cg,nL;function K1(){if(nL)return Cg;nL=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Cg=t,Cg}var Eg,aL;function Qc(){if(aL)return Eg;aL=1;var t=RN(),e=t(Object.getPrototypeOf,Object);return Eg=e,Eg}var Tg,iL;function IN(){if(iL)return Tg;iL=1;var t=K1(),e=Qc(),r=X1(),n=ON(),a=Object.getOwnPropertySymbols,i=a?function(o){for(var l=[];o;)t(l,r(o)),o=e(o);return l}:n;return Tg=i,Tg}var Sg,oL;function WV(){if(oL)return Sg;oL=1;var t=mu(),e=IN();function r(n,a){return t(n,e(n),a)}return Sg=r,Sg}var Ag,sL;function FN(){if(sL)return Ag;sL=1;var t=K1(),e=Dr();function r(n,a,i){var o=a(n);return e(n)?o:t(o,i(n))}return Ag=r,Ag}var Lg,lL;function BN(){if(lL)return Lg;lL=1;var t=FN(),e=X1(),r=zi();function n(a){return t(a,r,e)}return Lg=n,Lg}var _g,uL;function VV(){if(uL)return _g;uL=1;var t=FN(),e=IN(),r=_o();function n(a){return t(a,r,e)}return _g=n,_g}var Dg,fL;function $V(){if(fL)return Dg;fL=1;var t=Lo(),e=ca(),r=t(e,"DataView");return Dg=r,Dg}var Mg,cL;function YV(){if(cL)return Mg;cL=1;var t=Lo(),e=ca(),r=t(e,"Promise");return Mg=r,Mg}var Rg,dL;function qN(){if(dL)return Rg;dL=1;var t=Lo(),e=ca(),r=t(e,"Set");return Rg=r,Rg}var Pg,hL;function XV(){if(hL)return Pg;hL=1;var t=Lo(),e=ca(),r=t(e,"WeakMap");return Pg=r,Pg}var kg,vL;function Os(){if(vL)return kg;vL=1;var t=$V(),e=H1(),r=YV(),n=qN(),a=XV(),i=Ao(),o=_N(),l="[object Map]",u="[object Object]",f="[object Promise]",c="[object Set]",h="[object WeakMap]",p="[object DataView]",y=o(t),g=o(e),E=o(r),x=o(n),v=o(a),C=i;return(t&&C(new t(new ArrayBuffer(1)))!=p||e&&C(new e)!=l||r&&C(r.resolve())!=f||n&&C(new n)!=c||a&&C(new a)!=h)&&(C=function(w){var T=i(w),A=T==u?w.constructor:void 0,_=A?o(A):"";if(_)switch(_){case y:return p;case g:return l;case E:return f;case x:return c;case v:return h}return T}),kg=C,kg}var Ng,pL;function KV(){if(pL)return Ng;pL=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var a=n.length,i=new n.constructor(a);return a&&typeof n[0]=="string"&&e.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return Ng=r,Ng}var Og,gL;function zN(){if(gL)return Og;gL=1;var t=ca(),e=t.Uint8Array;return Og=e,Og}var Ig,yL;function j1(){if(yL)return Ig;yL=1;var t=zN();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return Ig=e,Ig}var Fg,mL;function jV(){if(mL)return Fg;mL=1;var t=j1();function e(r,n){var a=n?t(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}return Fg=e,Fg}var Bg,bL;function ZV(){if(bL)return Bg;bL=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return Bg=e,Bg}var qg,wL;function QV(){if(wL)return qg;wL=1;var t=ks(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(a){return r?Object(r.call(a)):{}}return qg=n,qg}var zg,xL;function GN(){if(xL)return zg;xL=1;var t=j1();function e(r,n){var a=n?t(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}return zg=e,zg}var Gg,CL;function JV(){if(CL)return Gg;CL=1;var t=j1(),e=jV(),r=ZV(),n=QV(),a=GN(),i="[object Boolean]",o="[object Date]",l="[object Map]",u="[object Number]",f="[object RegExp]",c="[object Set]",h="[object String]",p="[object Symbol]",y="[object ArrayBuffer]",g="[object DataView]",E="[object Float32Array]",x="[object Float64Array]",v="[object Int8Array]",C="[object Int16Array]",w="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",_="[object Uint16Array]",D="[object Uint32Array]";function R(k,B,G){var F=k.constructor;switch(B){case y:return t(k);case i:case o:return new F(+k);case g:return e(k,G);case E:case x:case v:case C:case w:case T:case A:case _:case D:return a(k,G);case l:return new F;case u:case h:return new F(k);case f:return r(k);case c:return new F;case p:return n(k)}}return Gg=R,Gg}var Hg,EL;function HN(){if(EL)return Hg;EL=1;var t=Xn(),e=Object.create,r=function(){function n(){}return function(a){if(!t(a))return{};if(e)return e(a);n.prototype=a;var i=new n;return n.prototype=void 0,i}}();return Hg=r,Hg}var Ug,TL;function UN(){if(TL)return Ug;TL=1;var t=HN(),e=Qc(),r=Zc();function n(a){return typeof a.constructor=="function"&&!r(a)?t(e(a)):{}}return Ug=n,Ug}var Wg,SL;function e3(){if(SL)return Wg;SL=1;var t=Os(),e=Ra(),r="[object Map]";function n(a){return e(a)&&t(a)==r}return Wg=n,Wg}var Vg,AL;function t3(){if(AL)return Vg;AL=1;var t=e3(),e=jc(),r=$1(),n=r&&r.isMap,a=n?e(n):t;return Vg=a,Vg}var $g,LL;function r3(){if(LL)return $g;LL=1;var t=Os(),e=Ra(),r="[object Set]";function n(a){return e(a)&&t(a)==r}return $g=n,$g}var Yg,_L;function n3(){if(_L)return Yg;_L=1;var t=r3(),e=jc(),r=$1(),n=r&&r.isSet,a=n?e(n):t;return Yg=a,Yg}var Xg,DL;function WN(){if(DL)return Xg;DL=1;var t=$c(),e=W1(),r=Xc(),n=qV(),a=HV(),i=PN(),o=kN(),l=UV(),u=WV(),f=BN(),c=VV(),h=Os(),p=KV(),y=JV(),g=UN(),E=Dr(),x=Ns(),v=t3(),C=Xn(),w=n3(),T=zi(),A=_o(),_=1,D=2,R=4,k="[object Arguments]",B="[object Array]",G="[object Boolean]",F="[object Date]",q="[object Error]",M="[object Function]",P="[object GeneratorFunction]",N="[object Map]",I="[object Number]",z="[object Object]",ae="[object RegExp]",re="[object Set]",K="[object String]",W="[object Symbol]",Z="[object WeakMap]",U="[object ArrayBuffer]",V="[object DataView]",Y="[object Float32Array]",ee="[object Float64Array]",oe="[object Int8Array]",te="[object Int16Array]",ie="[object Int32Array]",se="[object Uint8Array]",$="[object Uint8ClampedArray]",ne="[object Uint16Array]",le="[object Uint32Array]",Se={};Se[k]=Se[B]=Se[U]=Se[V]=Se[G]=Se[F]=Se[Y]=Se[ee]=Se[oe]=Se[te]=Se[ie]=Se[N]=Se[I]=Se[z]=Se[ae]=Se[re]=Se[K]=Se[W]=Se[se]=Se[$]=Se[ne]=Se[le]=!0,Se[q]=Se[M]=Se[Z]=!1;function _e(be,Te,ve,de,ye,Ce){var ue,Ae=Te&_,Pe=Te&D,Fe=Te&R;if(ve&&(ue=ye?ve(be,de,ye,Ce):ve(be)),ue!==void 0)return ue;if(!C(be))return be;var Ye=E(be);if(Ye){if(ue=p(be),!Ae)return o(be,ue)}else{var We=h(be),Qe=We==M||We==P;if(x(be))return i(be,Ae);if(We==z||We==k||Qe&&!ye){if(ue=Pe||Qe?{}:g(be),!Ae)return Pe?u(be,a(ue,be)):l(be,n(ue,be))}else{if(!Se[We])return ye?be:{};ue=y(be,We,Ae)}}Ce||(Ce=new t);var Xe=Ce.get(be);if(Xe)return Xe;Ce.set(be,ue),w(be)?be.forEach(function(j){ue.add(_e(j,Te,ve,j,be,Ce))}):v(be)&&be.forEach(function(j,pe){ue.set(pe,_e(j,Te,ve,pe,be,Ce))});var Ve=Fe?Pe?c:f:Pe?A:T,he=Ye?void 0:Ve(be);return e(he||be,function(j,pe){he&&(pe=j,j=be[pe]),r(ue,pe,_e(j,Te,ve,pe,be,Ce))}),ue}return Xg=_e,Xg}var Kg,ML;function a3(){if(ML)return Kg;ML=1;var t=WN(),e=4;function r(n){return t(n,e)}return Kg=r,Kg}var jg,RL;function Z1(){if(RL)return jg;RL=1;function t(e){return function(){return e}}return jg=t,jg}var Zg,PL;function i3(){if(PL)return Zg;PL=1;function t(e){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),u=l.length;u--;){var f=l[e?u:++i];if(n(o[f],f,o)===!1)break}return r}}return Zg=t,Zg}var Qg,kL;function Q1(){if(kL)return Qg;kL=1;var t=i3(),e=t();return Qg=e,Qg}var Jg,NL;function J1(){if(NL)return Jg;NL=1;var t=Q1(),e=zi();function r(n,a){return n&&t(n,a,e)}return Jg=r,Jg}var ey,OL;function o3(){if(OL)return ey;OL=1;var t=ri();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,l=n?o:-1,u=Object(a);(n?l--:++l<o)&&i(u[l],l,u)!==!1;);return a}}return ey=e,ey}var ty,IL;function Jc(){if(IL)return ty;IL=1;var t=J1(),e=o3(),r=e(t);return ty=r,ty}var ry,FL;function Do(){if(FL)return ry;FL=1;function t(e){return e}return ry=t,ry}var ny,BL;function VN(){if(BL)return ny;BL=1;var t=Do();function e(r){return typeof r=="function"?r:t}return ny=e,ny}var ay,qL;function $N(){if(qL)return ay;qL=1;var t=W1(),e=Jc(),r=VN(),n=Dr();function a(i,o){var l=n(i)?t:e;return l(i,r(o))}return ay=a,ay}var iy,zL;function YN(){return zL||(zL=1,iy=$N()),iy}var oy,GL;function s3(){if(GL)return oy;GL=1;var t=Jc();function e(r,n){var a=[];return t(r,function(i,o,l){n(i,o,l)&&a.push(i)}),a}return oy=e,oy}var sy,HL;function l3(){if(HL)return sy;HL=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return sy=e,sy}var ly,UL;function u3(){if(UL)return ly;UL=1;function t(e){return this.__data__.has(e)}return ly=t,ly}var uy,WL;function XN(){if(WL)return uy;WL=1;var t=U1(),e=l3(),r=u3();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,uy=n,uy}var fy,VL;function f3(){if(VL)return fy;VL=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return fy=t,fy}var cy,$L;function KN(){if($L)return cy;$L=1;function t(e,r){return e.has(r)}return cy=t,cy}var dy,YL;function jN(){if(YL)return dy;YL=1;var t=XN(),e=f3(),r=KN(),n=1,a=2;function i(o,l,u,f,c,h){var p=u&n,y=o.length,g=l.length;if(y!=g&&!(p&&g>y))return!1;var E=h.get(o),x=h.get(l);if(E&&x)return E==l&&x==o;var v=-1,C=!0,w=u&a?new t:void 0;for(h.set(o,l),h.set(l,o);++v<y;){var T=o[v],A=l[v];if(f)var _=p?f(A,T,v,l,o,h):f(T,A,v,o,l,h);if(_!==void 0){if(_)continue;C=!1;break}if(w){if(!e(l,function(D,R){if(!r(w,R)&&(T===D||c(T,D,u,f,h)))return w.push(R)})){C=!1;break}}else if(!(T===A||c(T,A,u,f,h))){C=!1;break}}return h.delete(o),h.delete(l),C}return dy=i,dy}var hy,XL;function c3(){if(XL)return hy;XL=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return hy=t,hy}var vy,KL;function ew(){if(KL)return vy;KL=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return vy=t,vy}var py,jL;function d3(){if(jL)return py;jL=1;var t=ks(),e=zN(),r=Ps(),n=jN(),a=c3(),i=ew(),o=1,l=2,u="[object Boolean]",f="[object Date]",c="[object Error]",h="[object Map]",p="[object Number]",y="[object RegExp]",g="[object Set]",E="[object String]",x="[object Symbol]",v="[object ArrayBuffer]",C="[object DataView]",w=t?t.prototype:void 0,T=w?w.valueOf:void 0;function A(_,D,R,k,B,G,F){switch(R){case C:if(_.byteLength!=D.byteLength||_.byteOffset!=D.byteOffset)return!1;_=_.buffer,D=D.buffer;case v:return!(_.byteLength!=D.byteLength||!G(new e(_),new e(D)));case u:case f:case p:return r(+_,+D);case c:return _.name==D.name&&_.message==D.message;case y:case E:return _==D+"";case h:var q=a;case g:var M=k&o;if(q||(q=i),_.size!=D.size&&!M)return!1;var P=F.get(_);if(P)return P==D;k|=l,F.set(_,D);var N=n(q(_),q(D),k,B,G,F);return F.delete(_),N;case x:if(T)return T.call(_)==T.call(D)}return!1}return py=A,py}var gy,ZL;function h3(){if(ZL)return gy;ZL=1;var t=BN(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,u,f,c){var h=l&e,p=t(i),y=p.length,g=t(o),E=g.length;if(y!=E&&!h)return!1;for(var x=y;x--;){var v=p[x];if(!(h?v in o:n.call(o,v)))return!1}var C=c.get(i),w=c.get(o);if(C&&w)return C==o&&w==i;var T=!0;c.set(i,o),c.set(o,i);for(var A=h;++x<y;){v=p[x];var _=i[v],D=o[v];if(u)var R=h?u(D,_,v,o,i,c):u(_,D,v,i,o,c);if(!(R===void 0?_===D||f(_,D,l,u,c):R)){T=!1;break}A||(A=v=="constructor")}if(T&&!A){var k=i.constructor,B=o.constructor;k!=B&&"constructor"in i&&"constructor"in o&&!(typeof k=="function"&&k instanceof k&&typeof B=="function"&&B instanceof B)&&(T=!1)}return c.delete(i),c.delete(o),T}return gy=a,gy}var yy,QL;function v3(){if(QL)return yy;QL=1;var t=$c(),e=jN(),r=d3(),n=h3(),a=Os(),i=Dr(),o=Ns(),l=wu(),u=1,f="[object Arguments]",c="[object Array]",h="[object Object]",p=Object.prototype,y=p.hasOwnProperty;function g(E,x,v,C,w,T){var A=i(E),_=i(x),D=A?c:a(E),R=_?c:a(x);D=D==f?h:D,R=R==f?h:R;var k=D==h,B=R==h,G=D==R;if(G&&o(E)){if(!o(x))return!1;A=!0,k=!1}if(G&&!k)return T||(T=new t),A||l(E)?e(E,x,v,C,w,T):r(E,x,D,v,C,w,T);if(!(v&u)){var F=k&&y.call(E,"__wrapped__"),q=B&&y.call(x,"__wrapped__");if(F||q){var M=F?E.value():E,P=q?x.value():x;return T||(T=new t),w(M,P,v,C,T)}}return G?(T||(T=new t),n(E,x,v,C,w,T)):!1}return yy=g,yy}var my,JL;function ZN(){if(JL)return my;JL=1;var t=v3(),e=Ra();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,o,r,l)}return my=r,my}var by,e_;function p3(){if(e_)return by;e_=1;var t=$c(),e=ZN(),r=1,n=2;function a(i,o,l,u){var f=l.length,c=f,h=!u;if(i==null)return!c;for(i=Object(i);f--;){var p=l[f];if(h&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++f<c;){p=l[f];var y=p[0],g=i[y],E=p[1];if(h&&p[2]){if(g===void 0&&!(y in i))return!1}else{var x=new t;if(u)var v=u(g,E,y,i,o,x);if(!(v===void 0?e(E,g,r|n,u,x):v))return!1}}return!0}return by=a,by}var wy,t_;function QN(){if(t_)return wy;t_=1;var t=Xn();function e(r){return r===r&&!t(r)}return wy=e,wy}var xy,r_;function g3(){if(r_)return xy;r_=1;var t=QN(),e=zi();function r(n){for(var a=e(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,t(l)]}return a}return xy=r,xy}var Cy,n_;function JN(){if(n_)return Cy;n_=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Cy=t,Cy}var Ey,a_;function y3(){if(a_)return Ey;a_=1;var t=p3(),e=g3(),r=JN();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return Ey=n,Ey}var Ty,i_;function Is(){if(i_)return Ty;i_=1;var t=Ao(),e=Ra(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Ty=n,Ty}var Sy,o_;function tw(){if(o_)return Sy;o_=1;var t=Dr(),e=Is(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Sy=a,Sy}var Ay,s_;function m3(){if(s_)return Ay;s_=1;var t=U1(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],u=i.cache;if(u.has(l))return u.get(l);var f=n.apply(this,o);return i.cache=u.set(l,f)||u,f};return i.cache=new(r.Cache||t),i}return r.Cache=t,Ay=r,Ay}var Ly,l_;function b3(){if(l_)return Ly;l_=1;var t=m3(),e=500;function r(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return Ly=r,Ly}var _y,u_;function w3(){if(u_)return _y;u_=1;var t=b3(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,u,f){i.push(u?f.replace(r,"$1"):l||o)}),i});return _y=n,_y}var Dy,f_;function ed(){if(f_)return Dy;f_=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Dy=t,Dy}var My,c_;function x3(){if(c_)return My;c_=1;var t=ks(),e=ed(),r=Dr(),n=Is(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return My=o,My}var Ry,d_;function eO(){if(d_)return Ry;d_=1;var t=x3();function e(r){return r==null?"":t(r)}return Ry=e,Ry}var Py,h_;function td(){if(h_)return Py;h_=1;var t=Dr(),e=tw(),r=w3(),n=eO();function a(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return Py=a,Py}var ky,v_;function xu(){if(v_)return ky;v_=1;var t=Is();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ky=e,ky}var Ny,p_;function rd(){if(p_)return Ny;p_=1;var t=td(),e=xu();function r(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return Ny=r,Ny}var Oy,g_;function C3(){if(g_)return Oy;g_=1;var t=rd();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return Oy=e,Oy}var Iy,y_;function E3(){if(y_)return Iy;y_=1;function t(e,r){return e!=null&&r in Object(e)}return Iy=t,Iy}var Fy,m_;function tO(){if(m_)return Fy;m_=1;var t=td(),e=bu(),r=Dr(),n=Kc(),a=V1(),i=xu();function o(l,u,f){u=t(u,l);for(var c=-1,h=u.length,p=!1;++c<h;){var y=i(u[c]);if(!(p=l!=null&&f(l,y)))break;l=l[y]}return p||++c!=h?p:(h=l==null?0:l.length,!!h&&a(h)&&n(y,h)&&(r(l)||e(l)))}return Fy=o,Fy}var By,b_;function rO(){if(b_)return By;b_=1;var t=E3(),e=tO();function r(n,a){return n!=null&&e(n,a,t)}return By=r,By}var qy,w_;function T3(){if(w_)return qy;w_=1;var t=ZN(),e=C3(),r=rO(),n=tw(),a=QN(),i=JN(),o=xu(),l=1,u=2;function f(c,h){return n(c)&&a(h)?i(o(c),h):function(p){var y=e(p,c);return y===void 0&&y===h?r(p,c):t(h,y,l|u)}}return qy=f,qy}var zy,x_;function nO(){if(x_)return zy;x_=1;function t(e){return function(r){return r==null?void 0:r[e]}}return zy=t,zy}var Gy,C_;function S3(){if(C_)return Gy;C_=1;var t=rd();function e(r){return function(n){return t(n,r)}}return Gy=e,Gy}var Hy,E_;function A3(){if(E_)return Hy;E_=1;var t=nO(),e=S3(),r=tw(),n=xu();function a(i){return r(i)?t(n(i)):e(i)}return Hy=a,Hy}var Uy,T_;function ni(){if(T_)return Uy;T_=1;var t=y3(),e=T3(),r=Do(),n=Dr(),a=A3();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return Uy=i,Uy}var Wy,S_;function aO(){if(S_)return Wy;S_=1;var t=NN(),e=s3(),r=ni(),n=Dr();function a(i,o){var l=n(i)?t:e;return l(i,r(o,3))}return Wy=a,Wy}var Vy,A_;function L3(){if(A_)return Vy;A_=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n,a){return n!=null&&e.call(n,a)}return Vy=r,Vy}var $y,L_;function iO(){if(L_)return $y;L_=1;var t=L3(),e=tO();function r(n,a){return n!=null&&e(n,a,t)}return $y=r,$y}var Yy,__;function _3(){if(__)return Yy;__=1;var t=Y1(),e=Os(),r=bu(),n=Dr(),a=ri(),i=Ns(),o=Zc(),l=wu(),u="[object Map]",f="[object Set]",c=Object.prototype,h=c.hasOwnProperty;function p(y){if(y==null)return!0;if(a(y)&&(n(y)||typeof y=="string"||typeof y.splice=="function"||i(y)||l(y)||r(y)))return!y.length;var g=e(y);if(g==u||g==f)return!y.size;if(o(y))return!t(y).length;for(var E in y)if(h.call(y,E))return!1;return!0}return Yy=p,Yy}var Xy,D_;function oO(){if(D_)return Xy;D_=1;function t(e){return e===void 0}return Xy=t,Xy}var Ky,M_;function sO(){if(M_)return Ky;M_=1;var t=Jc(),e=ri();function r(n,a){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,u,f){o[++i]=a(l,u,f)}),o}return Ky=r,Ky}var jy,R_;function lO(){if(R_)return jy;R_=1;var t=ed(),e=ni(),r=sO(),n=Dr();function a(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return jy=a,jy}var Zy,P_;function D3(){if(P_)return Zy;P_=1;function t(e,r,n,a){var i=-1,o=e==null?0:e.length;for(a&&o&&(n=e[++i]);++i<o;)n=r(n,e[i],i,e);return n}return Zy=t,Zy}var Qy,k_;function M3(){if(k_)return Qy;k_=1;function t(e,r,n,a,i){return i(e,function(o,l,u){n=a?(a=!1,o):r(n,o,l,u)}),n}return Qy=t,Qy}var Jy,N_;function uO(){if(N_)return Jy;N_=1;var t=D3(),e=Jc(),r=ni(),n=M3(),a=Dr();function i(o,l,u){var f=a(o)?t:n,c=arguments.length<3;return f(o,r(l,4),u,c,e)}return Jy=i,Jy}var em,O_;function R3(){if(O_)return em;O_=1;var t=Ao(),e=Dr(),r=Ra(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return em=a,em}var tm,I_;function P3(){if(I_)return tm;I_=1;var t=nO(),e=t("length");return tm=e,tm}var rm,F_;function k3(){if(F_)return rm;F_=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function u(f){return l.test(f)}return rm=u,rm}var nm,B_;function N3(){if(B_)return nm;B_=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+u+")",c="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",g=f+"?",E="["+i+"]?",x="(?:"+y+"(?:"+[c,h,p].join("|")+")"+E+g+")*",v=E+g+x,C="(?:"+[c+l+"?",l,h,p,o].join("|")+")",w=RegExp(u+"(?="+u+")|"+C+v,"g");function T(A){for(var _=w.lastIndex=0;w.test(A);)++_;return _}return nm=T,nm}var am,q_;function O3(){if(q_)return am;q_=1;var t=P3(),e=k3(),r=N3();function n(a){return e(a)?r(a):t(a)}return am=n,am}var im,z_;function I3(){if(z_)return im;z_=1;var t=Y1(),e=Os(),r=ri(),n=R3(),a=O3(),i="[object Map]",o="[object Set]";function l(u){if(u==null)return 0;if(r(u))return n(u)?a(u):u.length;var f=e(u);return f==i||f==o?u.size:t(u).length}return im=l,im}var om,G_;function F3(){if(G_)return om;G_=1;var t=W1(),e=HN(),r=J1(),n=ni(),a=Qc(),i=Dr(),o=Ns(),l=yu(),u=Xn(),f=wu();function c(h,p,y){var g=i(h),E=g||o(h)||f(h);if(p=n(p,4),y==null){var x=h&&h.constructor;E?y=g?new x:[]:u(h)?y=l(x)?e(a(h)):{}:y={}}return(E?t:r)(h,function(v,C,w){return p(y,v,C,w)}),y}return om=c,om}var sm,H_;function B3(){if(H_)return sm;H_=1;var t=ks(),e=bu(),r=Dr(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return sm=a,sm}var lm,U_;function rw(){if(U_)return lm;U_=1;var t=K1(),e=B3();function r(n,a,i,o,l){var u=-1,f=n.length;for(i||(i=e),l||(l=[]);++u<f;){var c=n[u];a>0&&i(c)?a>1?r(c,a-1,i,o,l):t(l,c):o||(l[l.length]=c)}return l}return lm=r,lm}var um,W_;function q3(){if(W_)return um;W_=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return um=t,um}var fm,V_;function fO(){if(V_)return fm;V_=1;var t=q3(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,u=e(o.length-a,0),f=Array(u);++l<u;)f[l]=o[a+l];l=-1;for(var c=Array(a+1);++l<a;)c[l]=o[l];return c[a]=i(f),t(n,this,c)}}return fm=r,fm}var cm,$_;function z3(){if($_)return cm;$_=1;var t=Z1(),e=DN(),r=Do(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return cm=n,cm}var dm,Y_;function G3(){if(Y_)return dm;Y_=1;var t=800,e=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),u=e-(l-o);if(o=l,u>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return dm=n,dm}var hm,X_;function cO(){if(X_)return hm;X_=1;var t=z3(),e=G3(),r=e(t);return hm=r,hm}var vm,K_;function nd(){if(K_)return vm;K_=1;var t=Do(),e=fO(),r=cO();function n(a,i){return r(e(a,i,t),a+"")}return vm=n,vm}var pm,j_;function dO(){if(j_)return pm;j_=1;function t(e,r,n,a){for(var i=e.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return pm=t,pm}var gm,Z_;function H3(){if(Z_)return gm;Z_=1;function t(e){return e!==e}return gm=t,gm}var ym,Q_;function U3(){if(Q_)return ym;Q_=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return ym=t,ym}var mm,J_;function W3(){if(J_)return mm;J_=1;var t=dO(),e=H3(),r=U3();function n(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return mm=n,mm}var bm,eD;function V3(){if(eD)return bm;eD=1;var t=W3();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return bm=e,bm}var wm,tD;function $3(){if(tD)return wm;tD=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return wm=t,wm}var xm,rD;function Y3(){if(rD)return xm;rD=1;function t(){}return xm=t,xm}var Cm,nD;function X3(){if(nD)return Cm;nD=1;var t=qN(),e=Y3(),r=ew(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return Cm=a,Cm}var Em,aD;function K3(){if(aD)return Em;aD=1;var t=XN(),e=V3(),r=$3(),n=KN(),a=X3(),i=ew(),o=200;function l(u,f,c){var h=-1,p=e,y=u.length,g=!0,E=[],x=E;if(c)g=!1,p=r;else if(y>=o){var v=f?null:a(u);if(v)return i(v);g=!1,p=n,x=new t}else x=f?[]:E;e:for(;++h<y;){var C=u[h],w=f?f(C):C;if(C=c||C!==0?C:0,g&&w===w){for(var T=x.length;T--;)if(x[T]===w)continue e;f&&x.push(w),E.push(C)}else p(x,w,c)||(x!==E&&x.push(w),E.push(C))}return E}return Em=l,Em}var Tm,iD;function hO(){if(iD)return Tm;iD=1;var t=ri(),e=Ra();function r(n){return e(n)&&t(n)}return Tm=r,Tm}var Sm,oD;function j3(){if(oD)return Sm;oD=1;var t=rw(),e=nd(),r=K3(),n=hO(),a=e(function(i){return r(t(i,1,n,!0))});return Sm=a,Sm}var Am,sD;function Z3(){if(sD)return Am;sD=1;var t=ed();function e(r,n){return t(n,function(a){return r[a]})}return Am=e,Am}var Lm,lD;function vO(){if(lD)return Lm;lD=1;var t=Z3(),e=zi();function r(n){return n==null?[]:t(n,e(n))}return Lm=r,Lm}var _m,uD;function Kn(){if(uD)return _m;uD=1;var t;if(typeof G1=="function")try{t={clone:a3(),constant:Z1(),each:YN(),filter:aO(),has:iO(),isArray:Dr(),isEmpty:_3(),isFunction:yu(),isUndefined:oO(),keys:zi(),map:lO(),reduce:uO(),size:I3(),transform:F3(),union:j3(),values:vO()}}catch{}return t||(t=window._),_m=t,_m}var Dm,fD;function nw(){if(fD)return Dm;fD=1;var t=Kn();Dm=a;var e="\0",r="\0",n="";function a(c){this._isDirected=t.has(c,"directed")?c.directed:!0,this._isMultigraph=t.has(c,"multigraph")?c.multigraph:!1,this._isCompound=t.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(c){return this._label=c,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(c){return t.isFunction(c)||(c=t.constant(c)),this._defaultNodeLabelFn=c,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return t.keys(this._nodes)},a.prototype.sources=function(){var c=this;return t.filter(this.nodes(),function(h){return t.isEmpty(c._in[h])})},a.prototype.sinks=function(){var c=this;return t.filter(this.nodes(),function(h){return t.isEmpty(c._out[h])})},a.prototype.setNodes=function(c,h){var p=arguments,y=this;return t.each(c,function(g){p.length>1?y.setNode(g,h):y.setNode(g)}),this},a.prototype.setNode=function(c,h){return t.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=h),this):(this._nodes[c]=arguments.length>1?h:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=r,this._children[c]={},this._children[r][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},a.prototype.node=function(c){return this._nodes[c]},a.prototype.hasNode=function(c){return t.has(this._nodes,c)},a.prototype.removeNode=function(c){var h=this;if(t.has(this._nodes,c)){var p=function(y){h.removeEdge(h._edgeObjs[y])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],t.each(this.children(c),function(y){h.setParent(y)}),delete this._children[c]),t.each(t.keys(this._in[c]),p),delete this._in[c],delete this._preds[c],t.each(t.keys(this._out[c]),p),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},a.prototype.setParent=function(c,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(h))h=r;else{h+="";for(var p=h;!t.isUndefined(p);p=this.parent(p))if(p===c)throw new Error("Setting "+h+" as parent of "+c+" would create a cycle");this.setNode(h)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=h,this._children[h][c]=!0,this},a.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},a.prototype.parent=function(c){if(this._isCompound){var h=this._parent[c];if(h!==r)return h}},a.prototype.children=function(c){if(t.isUndefined(c)&&(c=r),this._isCompound){var h=this._children[c];if(h)return t.keys(h)}else{if(c===r)return this.nodes();if(this.hasNode(c))return[]}},a.prototype.predecessors=function(c){var h=this._preds[c];if(h)return t.keys(h)},a.prototype.successors=function(c){var h=this._sucs[c];if(h)return t.keys(h)},a.prototype.neighbors=function(c){var h=this.predecessors(c);if(h)return t.union(h,this.successors(c))},a.prototype.isLeaf=function(c){var h;return this.isDirected()?h=this.successors(c):h=this.neighbors(c),h.length===0},a.prototype.filterNodes=function(c){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var p=this;t.each(this._nodes,function(E,x){c(x)&&h.setNode(x,E)}),t.each(this._edgeObjs,function(E){h.hasNode(E.v)&&h.hasNode(E.w)&&h.setEdge(E,p.edge(E))});var y={};function g(E){var x=p.parent(E);return x===void 0||h.hasNode(x)?(y[E]=x,x):x in y?y[x]:g(x)}return this._isCompound&&t.each(h.nodes(),function(E){h.setParent(E,g(E))}),h},a.prototype.setDefaultEdgeLabel=function(c){return t.isFunction(c)||(c=t.constant(c)),this._defaultEdgeLabelFn=c,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return t.values(this._edgeObjs)},a.prototype.setPath=function(c,h){var p=this,y=arguments;return t.reduce(c,function(g,E){return y.length>1?p.setEdge(g,E,h):p.setEdge(g,E),E}),this},a.prototype.setEdge=function(){var c,h,p,y,g=!1,E=arguments[0];typeof E=="object"&&E!==null&&"v"in E?(c=E.v,h=E.w,p=E.name,arguments.length===2&&(y=arguments[1],g=!0)):(c=E,h=arguments[1],p=arguments[3],arguments.length>2&&(y=arguments[2],g=!0)),c=""+c,h=""+h,t.isUndefined(p)||(p=""+p);var x=l(this._isDirected,c,h,p);if(t.has(this._edgeLabels,x))return g&&(this._edgeLabels[x]=y),this;if(!t.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(h),this._edgeLabels[x]=g?y:this._defaultEdgeLabelFn(c,h,p);var v=u(this._isDirected,c,h,p);return c=v.v,h=v.w,Object.freeze(v),this._edgeObjs[x]=v,i(this._preds[h],c),i(this._sucs[c],h),this._in[h][x]=v,this._out[c][x]=v,this._edgeCount++,this},a.prototype.edge=function(c,h,p){var y=arguments.length===1?f(this._isDirected,arguments[0]):l(this._isDirected,c,h,p);return this._edgeLabels[y]},a.prototype.hasEdge=function(c,h,p){var y=arguments.length===1?f(this._isDirected,arguments[0]):l(this._isDirected,c,h,p);return t.has(this._edgeLabels,y)},a.prototype.removeEdge=function(c,h,p){var y=arguments.length===1?f(this._isDirected,arguments[0]):l(this._isDirected,c,h,p),g=this._edgeObjs[y];return g&&(c=g.v,h=g.w,delete this._edgeLabels[y],delete this._edgeObjs[y],o(this._preds[h],c),o(this._sucs[c],h),delete this._in[h][y],delete this._out[c][y],this._edgeCount--),this},a.prototype.inEdges=function(c,h){var p=this._in[c];if(p){var y=t.values(p);return h?t.filter(y,function(g){return g.v===h}):y}},a.prototype.outEdges=function(c,h){var p=this._out[c];if(p){var y=t.values(p);return h?t.filter(y,function(g){return g.w===h}):y}},a.prototype.nodeEdges=function(c,h){var p=this.inEdges(c,h);if(p)return p.concat(this.outEdges(c,h))};function i(c,h){c[h]?c[h]++:c[h]=1}function o(c,h){--c[h]||delete c[h]}function l(c,h,p,y){var g=""+h,E=""+p;if(!c&&g>E){var x=g;g=E,E=x}return g+n+E+n+(t.isUndefined(y)?e:y)}function u(c,h,p,y){var g=""+h,E=""+p;if(!c&&g>E){var x=g;g=E,E=x}var v={v:g,w:E};return y&&(v.name=y),v}function f(c,h){return l(c,h.v,h.w,h.name)}return Dm}var Mm,cD;function Q3(){return cD||(cD=1,Mm="2.1.8"),Mm}var Rm,dD;function J3(){return dD||(dD=1,Rm={Graph:nw(),version:Q3()}),Rm}var Pm,hD;function e$(){if(hD)return Pm;hD=1;var t=Kn(),e=nw();Pm={write:r,read:i};function r(o){var l={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:a(o)};return t.isUndefined(o.graph())||(l.value=t.clone(o.graph())),l}function n(o){return t.map(o.nodes(),function(l){var u=o.node(l),f=o.parent(l),c={v:l};return t.isUndefined(u)||(c.value=u),t.isUndefined(f)||(c.parent=f),c})}function a(o){return t.map(o.edges(),function(l){var u=o.edge(l),f={v:l.v,w:l.w};return t.isUndefined(l.name)||(f.name=l.name),t.isUndefined(u)||(f.value=u),f})}function i(o){var l=new e(o.options).setGraph(o.value);return t.each(o.nodes,function(u){l.setNode(u.v,u.value),u.parent&&l.setParent(u.v,u.parent)}),t.each(o.edges,function(u){l.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),l}return Pm}var km,vD;function t$(){if(vD)return km;vD=1;var t=Kn();km=e;function e(r){var n={},a=[],i;function o(l){t.has(n,l)||(n[l]=!0,i.push(l),t.each(r.successors(l),o),t.each(r.predecessors(l),o))}return t.each(r.nodes(),function(l){i=[],o(l),i.length&&a.push(i)}),a}return km}var Nm,pD;function pO(){if(pD)return Nm;pD=1;var t=Kn();Nm=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(r){return r.key})},e.prototype.has=function(r){return t.has(this._keyIndices,r)},e.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(r,n){var a=this._keyIndices;if(r=String(r),!t.has(a,r)){var i=this._arr,o=i.length;return a[r]=o,i.push({key:r,priority:n}),this._decrease(o),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},e.prototype.decrease=function(r,n){var a=this._keyIndices[r];if(n>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[a].priority+" New: "+n);this._arr[a].priority=n,this._decrease(a)},e.prototype._heapify=function(r){var n=this._arr,a=2*r,i=a+1,o=r;a<n.length&&(o=n[a].priority<n[o].priority?a:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==r&&(this._swap(r,o),this._heapify(o)))},e.prototype._decrease=function(r){for(var n=this._arr,a=n[r].priority,i;r!==0&&(i=r>>1,!(n[i].priority<a));)this._swap(r,i),r=i},e.prototype._swap=function(r,n){var a=this._arr,i=this._keyIndices,o=a[r],l=a[n];a[r]=l,a[n]=o,i[l.key]=r,i[o.key]=n},Nm}var Om,gD;function gO(){if(gD)return Om;gD=1;var t=Kn(),e=pO();Om=n;var r=t.constant(1);function n(i,o,l,u){return a(i,String(o),l||r,u||function(f){return i.outEdges(f)})}function a(i,o,l,u){var f={},c=new e,h,p,y=function(g){var E=g.v!==h?g.v:g.w,x=f[E],v=l(g),C=p.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+v);C<x.distance&&(x.distance=C,x.predecessor=h,c.decrease(E,C))};for(i.nodes().forEach(function(g){var E=g===o?0:Number.POSITIVE_INFINITY;f[g]={distance:E},c.add(g,E)});c.size()>0&&(h=c.removeMin(),p=f[h],p.distance!==Number.POSITIVE_INFINITY);)u(h).forEach(y);return f}return Om}var Im,yD;function r$(){if(yD)return Im;yD=1;var t=gO(),e=Kn();Im=r;function r(n,a,i){return e.transform(n.nodes(),function(o,l){o[l]=t(n,l,a,i)},{})}return Im}var Fm,mD;function yO(){if(mD)return Fm;mD=1;var t=Kn();Fm=e;function e(r){var n=0,a=[],i={},o=[];function l(u){var f=i[u]={onStack:!0,lowlink:n,index:n++};if(a.push(u),r.successors(u).forEach(function(p){t.has(i,p)?i[p].onStack&&(f.lowlink=Math.min(f.lowlink,i[p].index)):(l(p),f.lowlink=Math.min(f.lowlink,i[p].lowlink))}),f.lowlink===f.index){var c=[],h;do h=a.pop(),i[h].onStack=!1,c.push(h);while(u!==h);o.push(c)}}return r.nodes().forEach(function(u){t.has(i,u)||l(u)}),o}return Fm}var Bm,bD;function n$(){if(bD)return Bm;bD=1;var t=Kn(),e=yO();Bm=r;function r(n){return t.filter(e(n),function(a){return a.length>1||a.length===1&&n.hasEdge(a[0],a[0])})}return Bm}var qm,wD;function a$(){if(wD)return qm;wD=1;var t=Kn();qm=r;var e=t.constant(1);function r(a,i,o){return n(a,i||e,o||function(l){return a.outEdges(l)})}function n(a,i,o){var l={},u=a.nodes();return u.forEach(function(f){l[f]={},l[f][f]={distance:0},u.forEach(function(c){f!==c&&(l[f][c]={distance:Number.POSITIVE_INFINITY})}),o(f).forEach(function(c){var h=c.v===f?c.w:c.v,p=i(c);l[f][h]={distance:p,predecessor:f}})}),u.forEach(function(f){var c=l[f];u.forEach(function(h){var p=l[h];u.forEach(function(y){var g=p[f],E=c[y],x=p[y],v=g.distance+E.distance;v<x.distance&&(x.distance=v,x.predecessor=E.predecessor)})})}),l}return qm}var zm,xD;function mO(){if(xD)return zm;xD=1;var t=Kn();zm=e,e.CycleException=r;function e(n){var a={},i={},o=[];function l(u){if(t.has(i,u))throw new r;t.has(a,u)||(i[u]=!0,a[u]=!0,t.each(n.predecessors(u),l),delete i[u],o.push(u))}if(t.each(n.sinks(),l),t.size(a)!==n.nodeCount())throw new r;return o}function r(){}return r.prototype=new Error,zm}var Gm,CD;function i$(){if(CD)return Gm;CD=1;var t=mO();Gm=e;function e(r){try{t(r)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}return Gm}var Hm,ED;function bO(){if(ED)return Hm;ED=1;var t=Kn();Hm=e;function e(n,a,i){t.isArray(a)||(a=[a]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),l=[],u={};return t.each(a,function(f){if(!n.hasNode(f))throw new Error("Graph does not have node: "+f);r(n,f,i==="post",u,o,l)}),l}function r(n,a,i,o,l,u){t.has(o,a)||(o[a]=!0,i||u.push(a),t.each(l(a),function(f){r(n,f,i,o,l,u)}),i&&u.push(a))}return Hm}var Um,TD;function o$(){if(TD)return Um;TD=1;var t=bO();Um=e;function e(r,n){return t(r,n,"post")}return Um}var Wm,SD;function s$(){if(SD)return Wm;SD=1;var t=bO();Wm=e;function e(r,n){return t(r,n,"pre")}return Wm}var Vm,AD;function l$(){if(AD)return Vm;AD=1;var t=Kn(),e=nw(),r=pO();Vm=n;function n(a,i){var o=new e,l={},u=new r,f;function c(p){var y=p.v===f?p.w:p.v,g=u.priority(y);if(g!==void 0){var E=i(p);E<g&&(l[y]=f,u.decrease(y,E))}}if(a.nodeCount()===0)return o;t.each(a.nodes(),function(p){u.add(p,Number.POSITIVE_INFINITY),o.setNode(p)}),u.decrease(a.nodes()[0],0);for(var h=!1;u.size()>0;){if(f=u.removeMin(),t.has(l,f))o.setEdge(f,l[f]);else{if(h)throw new Error("Input graph is not connected: "+a);h=!0}a.nodeEdges(f).forEach(c)}return o}return Vm}var $m,LD;function u$(){return LD||(LD=1,$m={components:t$(),dijkstra:gO(),dijkstraAll:r$(),findCycles:n$(),floydWarshall:a$(),isAcyclic:i$(),postorder:o$(),preorder:s$(),prim:l$(),tarjan:yO(),topsort:mO()}),$m}var Ym,_D;function f$(){if(_D)return Ym;_D=1;var t=J3();return Ym={Graph:t.Graph,json:e$(),alg:u$(),version:t.version},Ym}var Xm,DD;function fa(){if(DD)return Xm;DD=1;var t;if(typeof G1=="function")try{t=f$()}catch{}return t||(t=window.graphlib),Xm=t,Xm}var Km,MD;function c$(){if(MD)return Km;MD=1;var t=WN(),e=1,r=4;function n(a){return t(a,e|r)}return Km=n,Km}var jm,RD;function ad(){if(RD)return jm;RD=1;var t=Ps(),e=ri(),r=Kc(),n=Xn();function a(i,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?e(l)&&r(o,l.length):u=="string"&&o in l)?t(l[o],i):!1}return jm=a,jm}var Zm,PD;function d$(){if(PD)return Zm;PD=1;var t=nd(),e=Ps(),r=ad(),n=_o(),a=Object.prototype,i=a.hasOwnProperty,o=t(function(l,u){l=Object(l);var f=-1,c=u.length,h=c>2?u[2]:void 0;for(h&&r(u[0],u[1],h)&&(c=1);++f<c;)for(var p=u[f],y=n(p),g=-1,E=y.length;++g<E;){var x=y[g],v=l[x];(v===void 0||e(v,a[x])&&!i.call(l,x))&&(l[x]=p[x])}return l});return Zm=o,Zm}var Qm,kD;function h$(){if(kD)return Qm;kD=1;var t=ni(),e=ri(),r=zi();function n(a){return function(i,o,l){var u=Object(i);if(!e(i)){var f=t(o,3);i=r(i),o=function(h){return f(u[h],h,u)}}var c=a(i,o,l);return c>-1?u[f?i[c]:c]:void 0}}return Qm=n,Qm}var Jm,ND;function v$(){if(ND)return Jm;ND=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Jm=e,Jm}var e0,OD;function p$(){if(OD)return e0;OD=1;var t=v$(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return e0=r,e0}var t0,ID;function g$(){if(ID)return t0;ID=1;var t=p$(),e=Xn(),r=Is(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var c=typeof f.valueOf=="function"?f.valueOf():f;f=e(c)?c+"":c}if(typeof f!="string")return f===0?f:+f;f=t(f);var h=i.test(f);return h||o.test(f)?l(f.slice(2),h?2:8):a.test(f)?n:+f}return t0=u,t0}var r0,FD;function wO(){if(FD)return r0;FD=1;var t=g$(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-1/0){var i=a<0?-1:1;return i*r}return a===a?a:0}return r0=n,r0}var n0,BD;function y$(){if(BD)return n0;BD=1;var t=wO();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return n0=e,n0}var a0,qD;function m$(){if(qD)return a0;qD=1;var t=dO(),e=ni(),r=y$(),n=Math.max;function a(i,o,l){var u=i==null?0:i.length;if(!u)return-1;var f=l==null?0:r(l);return f<0&&(f=n(u+f,0)),t(i,e(o,3),f)}return a0=a,a0}var i0,zD;function b$(){if(zD)return i0;zD=1;var t=h$(),e=m$(),r=t(e);return i0=r,i0}var o0,GD;function xO(){if(GD)return o0;GD=1;var t=rw();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return o0=e,o0}var s0,HD;function w$(){if(HD)return s0;HD=1;var t=Q1(),e=VN(),r=_o();function n(a,i){return a==null?a:t(a,e(i),r)}return s0=n,s0}var l0,UD;function x$(){if(UD)return l0;UD=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return l0=t,l0}var u0,WD;function C$(){if(WD)return u0;WD=1;var t=Yc(),e=J1(),r=ni();function n(a,i){var o={};return i=r(i,3),e(a,function(l,u,f){t(o,u,i(l,u,f))}),o}return u0=n,u0}var f0,VD;function aw(){if(VD)return f0;VD=1;var t=Is();function e(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],u=n(l);if(u!=null&&(f===void 0?u===u&&!t(u):a(u,f)))var f=u,c=l}return c}return f0=e,f0}var c0,$D;function E$(){if($D)return c0;$D=1;function t(e,r){return e>r}return c0=t,c0}var d0,YD;function T$(){if(YD)return d0;YD=1;var t=aw(),e=E$(),r=Do();function n(a){return a&&a.length?t(a,r,e):void 0}return d0=n,d0}var h0,XD;function CO(){if(XD)return h0;XD=1;var t=Yc(),e=Ps();function r(n,a,i){(i!==void 0&&!e(n[a],i)||i===void 0&&!(a in n))&&t(n,a,i)}return h0=r,h0}var v0,KD;function S$(){if(KD)return v0;KD=1;var t=Ao(),e=Qc(),r=Ra(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,u=o.call(Object);function f(c){if(!r(c)||t(c)!=n)return!1;var h=e(c);if(h===null)return!0;var p=l.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==u}return v0=f,v0}var p0,jD;function EO(){if(jD)return p0;jD=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return p0=t,p0}var g0,ZD;function A$(){if(ZD)return g0;ZD=1;var t=mu(),e=_o();function r(n){return t(n,e(n))}return g0=r,g0}var y0,QD;function L$(){if(QD)return y0;QD=1;var t=CO(),e=PN(),r=GN(),n=kN(),a=UN(),i=bu(),o=Dr(),l=hO(),u=Ns(),f=yu(),c=Xn(),h=S$(),p=wu(),y=EO(),g=A$();function E(x,v,C,w,T,A,_){var D=y(x,C),R=y(v,C),k=_.get(R);if(k){t(x,C,k);return}var B=A?A(D,R,C+"",x,v,_):void 0,G=B===void 0;if(G){var F=o(R),q=!F&&u(R),M=!F&&!q&&p(R);B=R,F||q||M?o(D)?B=D:l(D)?B=n(D):q?(G=!1,B=e(R,!0)):M?(G=!1,B=r(R,!0)):B=[]:h(R)||i(R)?(B=D,i(D)?B=g(D):(!c(D)||f(D))&&(B=a(R))):G=!1}G&&(_.set(R,B),T(B,R,w,A,_),_.delete(R)),t(x,C,B)}return y0=E,y0}var m0,JD;function _$(){if(JD)return m0;JD=1;var t=$c(),e=CO(),r=Q1(),n=L$(),a=Xn(),i=_o(),o=EO();function l(u,f,c,h,p){u!==f&&r(f,function(y,g){if(p||(p=new t),a(y))n(u,f,g,c,l,h,p);else{var E=h?h(o(u,g),y,g+"",u,f,p):void 0;E===void 0&&(E=y),e(u,g,E)}},i)}return m0=l,m0}var b0,eM;function D$(){if(eM)return b0;eM=1;var t=nd(),e=ad();function r(n){return t(function(a,i){var o=-1,l=i.length,u=l>1?i[l-1]:void 0,f=l>2?i[2]:void 0;for(u=n.length>3&&typeof u=="function"?(l--,u):void 0,f&&e(i[0],i[1],f)&&(u=l<3?void 0:u,l=1),a=Object(a);++o<l;){var c=i[o];c&&n(a,c,o,u)}return a})}return b0=r,b0}var w0,tM;function M$(){if(tM)return w0;tM=1;var t=_$(),e=D$(),r=e(function(n,a,i){t(n,a,i)});return w0=r,w0}var x0,rM;function TO(){if(rM)return x0;rM=1;function t(e,r){return e<r}return x0=t,x0}var C0,nM;function R$(){if(nM)return C0;nM=1;var t=aw(),e=TO(),r=Do();function n(a){return a&&a.length?t(a,r,e):void 0}return C0=n,C0}var E0,aM;function P$(){if(aM)return E0;aM=1;var t=aw(),e=ni(),r=TO();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return E0=n,E0}var T0,iM;function k$(){if(iM)return T0;iM=1;var t=ca(),e=function(){return t.Date.now()};return T0=e,T0}var S0,oM;function N$(){if(oM)return S0;oM=1;var t=Xc(),e=td(),r=Kc(),n=Xn(),a=xu();function i(o,l,u,f){if(!n(o))return o;l=e(l,o);for(var c=-1,h=l.length,p=h-1,y=o;y!=null&&++c<h;){var g=a(l[c]),E=u;if(g==="__proto__"||g==="constructor"||g==="prototype")return o;if(c!=p){var x=y[g];E=f?f(x,g,y):void 0,E===void 0&&(E=n(x)?x:r(l[c+1])?[]:{})}t(y,g,E),y=y[g]}return o}return S0=i,S0}var A0,sM;function O$(){if(sM)return A0;sM=1;var t=rd(),e=N$(),r=td();function n(a,i,o){for(var l=-1,u=i.length,f={};++l<u;){var c=i[l],h=t(a,c);o(h,c)&&e(f,r(c,a),h)}return f}return A0=n,A0}var L0,lM;function I$(){if(lM)return L0;lM=1;var t=O$(),e=rO();function r(n,a){return t(n,a,function(i,o){return e(n,o)})}return L0=r,L0}var _0,uM;function F$(){if(uM)return _0;uM=1;var t=xO(),e=fO(),r=cO();function n(a){return r(e(a,void 0,t),a+"")}return _0=n,_0}var D0,fM;function B$(){if(fM)return D0;fM=1;var t=I$(),e=F$(),r=e(function(n,a){return n==null?{}:t(n,a)});return D0=r,D0}var M0,cM;function q$(){if(cM)return M0;cM=1;var t=Math.ceil,e=Math.max;function r(n,a,i,o){for(var l=-1,u=e(t((a-n)/(i||1)),0),f=Array(u);u--;)f[o?u:++l]=n,n+=i;return f}return M0=r,M0}var R0,dM;function z$(){if(dM)return R0;dM=1;var t=q$(),e=ad(),r=wO();function n(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,a)}}return R0=n,R0}var P0,hM;function G$(){if(hM)return P0;hM=1;var t=z$(),e=t();return P0=e,P0}var k0,vM;function H$(){if(vM)return k0;vM=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return k0=t,k0}var N0,pM;function U$(){if(pM)return N0;pM=1;var t=Is();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=t(r),u=n!==void 0,f=n===null,c=n===n,h=t(n);if(!f&&!h&&!l&&r>n||l&&u&&c&&!f&&!h||i&&u&&c||!a&&c||!o)return 1;if(!i&&!l&&!h&&r<n||h&&a&&o&&!i&&!l||f&&a&&o||!u&&o||!c)return-1}return 0}return N0=e,N0}var O0,gM;function W$(){if(gM)return O0;gM=1;var t=U$();function e(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,u=o.length,f=a.length;++i<u;){var c=t(o[i],l[i]);if(c){if(i>=f)return c;var h=a[i];return c*(h=="desc"?-1:1)}}return r.index-n.index}return O0=e,O0}var I0,yM;function V$(){if(yM)return I0;yM=1;var t=ed(),e=rd(),r=ni(),n=sO(),a=H$(),i=jc(),o=W$(),l=Do(),u=Dr();function f(c,h,p){h.length?h=t(h,function(E){return u(E)?function(x){return e(x,E.length===1?E[0]:E)}:E}):h=[l];var y=-1;h=t(h,i(r));var g=n(c,function(E,x,v){var C=t(h,function(w){return w(E)});return{criteria:C,index:++y,value:E}});return a(g,function(E,x){return o(E,x,p)})}return I0=f,I0}var F0,mM;function $$(){if(mM)return F0;mM=1;var t=rw(),e=V$(),r=nd(),n=ad(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return F0=a,F0}var B0,bM;function Y$(){if(bM)return B0;bM=1;var t=eO(),e=0;function r(n){var a=++e;return t(n)+a}return B0=r,B0}var q0,wM;function X$(){if(wM)return q0;wM=1;function t(e,r,n){for(var a=-1,i=e.length,o=r.length,l={};++a<i;){var u=a<o?r[a]:void 0;n(l,e[a],u)}return l}return q0=t,q0}var z0,xM;function K$(){if(xM)return z0;xM=1;var t=Xc(),e=X$();function r(n,a){return e(n||[],a||[],t)}return z0=r,z0}var G0,CM;function hr(){if(CM)return G0;CM=1;var t;if(typeof G1=="function")try{t={cloneDeep:c$(),constant:Z1(),defaults:d$(),each:YN(),filter:aO(),find:b$(),flatten:xO(),forEach:$N(),forIn:w$(),has:iO(),isUndefined:oO(),last:x$(),map:lO(),mapValues:C$(),max:T$(),merge:M$(),min:R$(),minBy:P$(),now:k$(),pick:B$(),range:G$(),reduce:uO(),sortBy:$$(),uniqueId:Y$(),values:vO(),zipObject:K$()}}catch{}return t||(t=window._),G0=t,G0}var H0,EM;function j$(){if(EM)return H0;EM=1,H0=t;function t(){var n={};n._next=n._prev=n,this._sentinel=n}t.prototype.dequeue=function(){var n=this._sentinel,a=n._prev;if(a!==n)return e(a),a},t.prototype.enqueue=function(n){var a=this._sentinel;n._prev&&n._next&&e(n),n._next=a._next,a._next._prev=n,a._next=n,n._prev=a},t.prototype.toString=function(){for(var n=[],a=this._sentinel,i=a._prev;i!==a;)n.push(JSON.stringify(i,r)),i=i._prev;return"["+n.join(", ")+"]"};function e(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function r(n,a){if(n!=="_next"&&n!=="_prev")return a}return H0}var U0,TM;function Z$(){if(TM)return U0;TM=1;var t=hr(),e=fa().Graph,r=j$();U0=a;var n=t.constant(1);function a(f,c){if(f.nodeCount()<=1)return[];var h=l(f,c||n),p=i(h.graph,h.buckets,h.zeroIdx);return t.flatten(t.map(p,function(y){return f.outEdges(y.v,y.w)}),!0)}function i(f,c,h){for(var p=[],y=c[c.length-1],g=c[0],E;f.nodeCount();){for(;E=g.dequeue();)o(f,c,h,E);for(;E=y.dequeue();)o(f,c,h,E);if(f.nodeCount()){for(var x=c.length-2;x>0;--x)if(E=c[x].dequeue(),E){p=p.concat(o(f,c,h,E,!0));break}}}return p}function o(f,c,h,p,y){var g=y?[]:void 0;return t.forEach(f.inEdges(p.v),function(E){var x=f.edge(E),v=f.node(E.v);y&&g.push({v:E.v,w:E.w}),v.out-=x,u(c,h,v)}),t.forEach(f.outEdges(p.v),function(E){var x=f.edge(E),v=E.w,C=f.node(v);C.in-=x,u(c,h,C)}),f.removeNode(p.v),g}function l(f,c){var h=new e,p=0,y=0;t.forEach(f.nodes(),function(x){h.setNode(x,{v:x,in:0,out:0})}),t.forEach(f.edges(),function(x){var v=h.edge(x.v,x.w)||0,C=c(x),w=v+C;h.setEdge(x.v,x.w,w),y=Math.max(y,h.node(x.v).out+=C),p=Math.max(p,h.node(x.w).in+=C)});var g=t.range(y+p+3).map(function(){return new r}),E=p+1;return t.forEach(h.nodes(),function(x){u(g,E,h.node(x))}),{graph:h,buckets:g,zeroIdx:E}}function u(f,c,h){h.out?h.in?f[h.out-h.in+c].enqueue(h):f[f.length-1].enqueue(h):f[0].enqueue(h)}return U0}var W0,SM;function Q$(){if(SM)return W0;SM=1;var t=hr(),e=Z$();W0={run:r,undo:a};function r(i){var o=i.graph().acyclicer==="greedy"?e(i,l(i)):n(i);t.forEach(o,function(u){var f=i.edge(u);i.removeEdge(u),f.forwardName=u.name,f.reversed=!0,i.setEdge(u.w,u.v,f,t.uniqueId("rev"))});function l(u){return function(f){return u.edge(f).weight}}}function n(i){var o=[],l={},u={};function f(c){t.has(u,c)||(u[c]=!0,l[c]=!0,t.forEach(i.outEdges(c),function(h){t.has(l,h.w)?o.push(h):f(h.w)}),delete l[c])}return t.forEach(i.nodes(),f),o}function a(i){t.forEach(i.edges(),function(o){var l=i.edge(o);if(l.reversed){i.removeEdge(o);var u=l.forwardName;delete l.reversed,delete l.forwardName,i.setEdge(o.w,o.v,l,u)}})}return W0}var V0,AM;function kn(){if(AM)return V0;AM=1;var t=hr(),e=fa().Graph;V0={addDummyNode:r,simplify:n,asNonCompoundGraph:a,successorWeights:i,predecessorWeights:o,intersectRect:l,buildLayerMatrix:u,normalizeRanks:f,removeEmptyRanks:c,addBorderNode:h,maxRank:p,partition:y,time:g,notime:E};function r(x,v,C,w){var T;do T=t.uniqueId(w);while(x.hasNode(T));return C.dummy=v,x.setNode(T,C),T}function n(x){var v=new e().setGraph(x.graph());return t.forEach(x.nodes(),function(C){v.setNode(C,x.node(C))}),t.forEach(x.edges(),function(C){var w=v.edge(C.v,C.w)||{weight:0,minlen:1},T=x.edge(C);v.setEdge(C.v,C.w,{weight:w.weight+T.weight,minlen:Math.max(w.minlen,T.minlen)})}),v}function a(x){var v=new e({multigraph:x.isMultigraph()}).setGraph(x.graph());return t.forEach(x.nodes(),function(C){x.children(C).length||v.setNode(C,x.node(C))}),t.forEach(x.edges(),function(C){v.setEdge(C,x.edge(C))}),v}function i(x){var v=t.map(x.nodes(),function(C){var w={};return t.forEach(x.outEdges(C),function(T){w[T.w]=(w[T.w]||0)+x.edge(T).weight}),w});return t.zipObject(x.nodes(),v)}function o(x){var v=t.map(x.nodes(),function(C){var w={};return t.forEach(x.inEdges(C),function(T){w[T.v]=(w[T.v]||0)+x.edge(T).weight}),w});return t.zipObject(x.nodes(),v)}function l(x,v){var C=x.x,w=x.y,T=v.x-C,A=v.y-w,_=x.width/2,D=x.height/2;if(!T&&!A)throw new Error("Not possible to find intersection inside of the rectangle");var R,k;return Math.abs(A)*_>Math.abs(T)*D?(A<0&&(D=-D),R=D*T/A,k=D):(T<0&&(_=-_),R=_,k=_*A/T),{x:C+R,y:w+k}}function u(x){var v=t.map(t.range(p(x)+1),function(){return[]});return t.forEach(x.nodes(),function(C){var w=x.node(C),T=w.rank;t.isUndefined(T)||(v[T][w.order]=C)}),v}function f(x){var v=t.min(t.map(x.nodes(),function(C){return x.node(C).rank}));t.forEach(x.nodes(),function(C){var w=x.node(C);t.has(w,"rank")&&(w.rank-=v)})}function c(x){var v=t.min(t.map(x.nodes(),function(A){return x.node(A).rank})),C=[];t.forEach(x.nodes(),function(A){var _=x.node(A).rank-v;C[_]||(C[_]=[]),C[_].push(A)});var w=0,T=x.graph().nodeRankFactor;t.forEach(C,function(A,_){t.isUndefined(A)&&_%T!==0?--w:w&&t.forEach(A,function(D){x.node(D).rank+=w})})}function h(x,v,C,w){var T={width:0,height:0};return arguments.length>=4&&(T.rank=C,T.order=w),r(x,"border",T,v)}function p(x){return t.max(t.map(x.nodes(),function(v){var C=x.node(v).rank;if(!t.isUndefined(C))return C}))}function y(x,v){var C={lhs:[],rhs:[]};return t.forEach(x,function(w){v(w)?C.lhs.push(w):C.rhs.push(w)}),C}function g(x,v){var C=t.now();try{return v()}finally{console.log(x+" time: "+(t.now()-C)+"ms")}}function E(x,v){return v()}return V0}var $0,LM;function J$(){if(LM)return $0;LM=1;var t=hr(),e=kn();$0={run:r,undo:a};function r(i){i.graph().dummyChains=[],t.forEach(i.edges(),function(o){n(i,o)})}function n(i,o){var l=o.v,u=i.node(l).rank,f=o.w,c=i.node(f).rank,h=o.name,p=i.edge(o),y=p.labelRank;if(c!==u+1){i.removeEdge(o);var g,E,x;for(x=0,++u;u<c;++x,++u)p.points=[],E={width:0,height:0,edgeLabel:p,edgeObj:o,rank:u},g=e.addDummyNode(i,"edge",E,"_d"),u===y&&(E.width=p.width,E.height=p.height,E.dummy="edge-label",E.labelpos=p.labelpos),i.setEdge(l,g,{weight:p.weight},h),x===0&&i.graph().dummyChains.push(g),l=g;i.setEdge(l,f,{weight:p.weight},h)}}function a(i){t.forEach(i.graph().dummyChains,function(o){var l=i.node(o),u=l.edgeLabel,f;for(i.setEdge(l.edgeObj,u);l.dummy;)f=i.successors(o)[0],i.removeNode(o),u.points.push({x:l.x,y:l.y}),l.dummy==="edge-label"&&(u.x=l.x,u.y=l.y,u.width=l.width,u.height=l.height),o=f,l=i.node(o)})}return $0}var Y0,_M;function lc(){if(_M)return Y0;_M=1;var t=hr();Y0={longestPath:e,slack:r};function e(n){var a={};function i(o){var l=n.node(o);if(t.has(a,o))return l.rank;a[o]=!0;var u=t.min(t.map(n.outEdges(o),function(f){return i(f.w)-n.edge(f).minlen}));return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),l.rank=u}t.forEach(n.sources(),i)}function r(n,a){return n.node(a.w).rank-n.node(a.v).rank-n.edge(a).minlen}return Y0}var X0,DM;function SO(){if(DM)return X0;DM=1;var t=hr(),e=fa().Graph,r=lc().slack;X0=n;function n(l){var u=new e({directed:!1}),f=l.nodes()[0],c=l.nodeCount();u.setNode(f,{});for(var h,p;a(u,l)<c;)h=i(u,l),p=u.hasNode(h.v)?r(l,h):-r(l,h),o(u,l,p);return u}function a(l,u){function f(c){t.forEach(u.nodeEdges(c),function(h){var p=h.v,y=c===p?h.w:p;!l.hasNode(y)&&!r(u,h)&&(l.setNode(y,{}),l.setEdge(c,y,{}),f(y))})}return t.forEach(l.nodes(),f),l.nodeCount()}function i(l,u){return t.minBy(u.edges(),function(f){if(l.hasNode(f.v)!==l.hasNode(f.w))return r(u,f)})}function o(l,u,f){t.forEach(l.nodes(),function(c){u.node(c).rank+=f})}return X0}var K0,MM;function e4(){if(MM)return K0;MM=1;var t=hr(),e=SO(),r=lc().slack,n=lc().longestPath,a=fa().alg.preorder,i=fa().alg.postorder,o=kn().simplify;K0=l,l.initLowLimValues=h,l.initCutValues=u,l.calcCutValue=c,l.leaveEdge=y,l.enterEdge=g,l.exchangeEdges=E;function l(w){w=o(w),n(w);var T=e(w);h(T),u(T,w);for(var A,_;A=y(T);)_=g(T,w,A),E(T,w,A,_)}function u(w,T){var A=i(w,w.nodes());A=A.slice(0,A.length-1),t.forEach(A,function(_){f(w,T,_)})}function f(w,T,A){var _=w.node(A),D=_.parent;w.edge(A,D).cutvalue=c(w,T,A)}function c(w,T,A){var _=w.node(A),D=_.parent,R=!0,k=T.edge(A,D),B=0;return k||(R=!1,k=T.edge(D,A)),B=k.weight,t.forEach(T.nodeEdges(A),function(G){var F=G.v===A,q=F?G.w:G.v;if(q!==D){var M=F===R,P=T.edge(G).weight;if(B+=M?P:-P,v(w,A,q)){var N=w.edge(A,q).cutvalue;B+=M?-N:N}}}),B}function h(w,T){arguments.length<2&&(T=w.nodes()[0]),p(w,{},1,T)}function p(w,T,A,_,D){var R=A,k=w.node(_);return T[_]=!0,t.forEach(w.neighbors(_),function(B){t.has(T,B)||(A=p(w,T,A,B,_))}),k.low=R,k.lim=A++,D?k.parent=D:delete k.parent,A}function y(w){return t.find(w.edges(),function(T){return w.edge(T).cutvalue<0})}function g(w,T,A){var _=A.v,D=A.w;T.hasEdge(_,D)||(_=A.w,D=A.v);var R=w.node(_),k=w.node(D),B=R,G=!1;R.lim>k.lim&&(B=k,G=!0);var F=t.filter(T.edges(),function(q){return G===C(w,w.node(q.v),B)&&G!==C(w,w.node(q.w),B)});return t.minBy(F,function(q){return r(T,q)})}function E(w,T,A,_){var D=A.v,R=A.w;w.removeEdge(D,R),w.setEdge(_.v,_.w,{}),h(w),u(w,T),x(w,T)}function x(w,T){var A=t.find(w.nodes(),function(D){return!T.node(D).parent}),_=a(w,A);_=_.slice(1),t.forEach(_,function(D){var R=w.node(D).parent,k=T.edge(D,R),B=!1;k||(k=T.edge(R,D),B=!0),T.node(D).rank=T.node(R).rank+(B?k.minlen:-k.minlen)})}function v(w,T,A){return w.hasEdge(T,A)}function C(w,T,A){return A.low<=T.lim&&T.lim<=A.lim}return K0}var j0,RM;function t4(){if(RM)return j0;RM=1;var t=lc(),e=t.longestPath,r=SO(),n=e4();j0=a;function a(u){switch(u.graph().ranker){case"network-simplex":l(u);break;case"tight-tree":o(u);break;case"longest-path":i(u);break;default:l(u)}}var i=e;function o(u){e(u),r(u)}function l(u){n(u)}return j0}var Z0,PM;function r4(){if(PM)return Z0;PM=1;var t=hr();Z0=e;function e(a){var i=n(a);t.forEach(a.graph().dummyChains,function(o){for(var l=a.node(o),u=l.edgeObj,f=r(a,i,u.v,u.w),c=f.path,h=f.lca,p=0,y=c[p],g=!0;o!==u.w;){if(l=a.node(o),g){for(;(y=c[p])!==h&&a.node(y).maxRank<l.rank;)p++;y===h&&(g=!1)}if(!g){for(;p<c.length-1&&a.node(y=c[p+1]).minRank<=l.rank;)p++;y=c[p]}a.setParent(o,y),o=a.successors(o)[0]}})}function r(a,i,o,l){var u=[],f=[],c=Math.min(i[o].low,i[l].low),h=Math.max(i[o].lim,i[l].lim),p,y;p=o;do p=a.parent(p),u.push(p);while(p&&(i[p].low>c||h>i[p].lim));for(y=p,p=l;(p=a.parent(p))!==y;)f.push(p);return{path:u.concat(f.reverse()),lca:y}}function n(a){var i={},o=0;function l(u){var f=o;t.forEach(a.children(u),l),i[u]={low:f,lim:o++}}return t.forEach(a.children(),l),i}return Z0}var Q0,kM;function n4(){if(kM)return Q0;kM=1;var t=hr(),e=kn();Q0={run:r,cleanup:o};function r(l){var u=e.addDummyNode(l,"root",{},"_root"),f=a(l),c=t.max(t.values(f))-1,h=2*c+1;l.graph().nestingRoot=u,t.forEach(l.edges(),function(y){l.edge(y).minlen*=h});var p=i(l)+1;t.forEach(l.children(),function(y){n(l,u,h,p,c,f,y)}),l.graph().nodeRankFactor=h}function n(l,u,f,c,h,p,y){var g=l.children(y);if(!g.length){y!==u&&l.setEdge(u,y,{weight:0,minlen:f});return}var E=e.addBorderNode(l,"_bt"),x=e.addBorderNode(l,"_bb"),v=l.node(y);l.setParent(E,y),v.borderTop=E,l.setParent(x,y),v.borderBottom=x,t.forEach(g,function(C){n(l,u,f,c,h,p,C);var w=l.node(C),T=w.borderTop?w.borderTop:C,A=w.borderBottom?w.borderBottom:C,_=w.borderTop?c:2*c,D=T!==A?1:h-p[y]+1;l.setEdge(E,T,{weight:_,minlen:D,nestingEdge:!0}),l.setEdge(A,x,{weight:_,minlen:D,nestingEdge:!0})}),l.parent(y)||l.setEdge(u,E,{weight:0,minlen:h+p[y]})}function a(l){var u={};function f(c,h){var p=l.children(c);p&&p.length&&t.forEach(p,function(y){f(y,h+1)}),u[c]=h}return t.forEach(l.children(),function(c){f(c,1)}),u}function i(l){return t.reduce(l.edges(),function(u,f){return u+l.edge(f).weight},0)}function o(l){var u=l.graph();l.removeNode(u.nestingRoot),delete u.nestingRoot,t.forEach(l.edges(),function(f){var c=l.edge(f);c.nestingEdge&&l.removeEdge(f)})}return Q0}var J0,NM;function a4(){if(NM)return J0;NM=1;var t=hr(),e=kn();J0=r;function r(a){function i(o){var l=a.children(o),u=a.node(o);if(l.length&&t.forEach(l,i),t.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var f=u.minRank,c=u.maxRank+1;f<c;++f)n(a,"borderLeft","_bl",o,u,f),n(a,"borderRight","_br",o,u,f)}}t.forEach(a.children(),i)}function n(a,i,o,l,u,f){var c={width:0,height:0,rank:f,borderType:i},h=u[i][f-1],p=e.addDummyNode(a,"border",c,o);u[i][f]=p,a.setParent(p,l),h&&a.setEdge(h,p,{weight:1})}return J0}var eb,OM;function i4(){if(OM)return eb;OM=1;var t=hr();eb={adjust:e,undo:r};function e(f){var c=f.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(f)}function r(f){var c=f.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&i(f),(c==="lr"||c==="rl")&&(l(f),n(f))}function n(f){t.forEach(f.nodes(),function(c){a(f.node(c))}),t.forEach(f.edges(),function(c){a(f.edge(c))})}function a(f){var c=f.width;f.width=f.height,f.height=c}function i(f){t.forEach(f.nodes(),function(c){o(f.node(c))}),t.forEach(f.edges(),function(c){var h=f.edge(c);t.forEach(h.points,o),t.has(h,"y")&&o(h)})}function o(f){f.y=-f.y}function l(f){t.forEach(f.nodes(),function(c){u(f.node(c))}),t.forEach(f.edges(),function(c){var h=f.edge(c);t.forEach(h.points,u),t.has(h,"x")&&u(h)})}function u(f){var c=f.x;f.x=f.y,f.y=c}return eb}var tb,IM;function o4(){if(IM)return tb;IM=1;var t=hr();tb=e;function e(r){var n={},a=t.filter(r.nodes(),function(f){return!r.children(f).length}),i=t.max(t.map(a,function(f){return r.node(f).rank})),o=t.map(t.range(i+1),function(){return[]});function l(f){if(!t.has(n,f)){n[f]=!0;var c=r.node(f);o[c.rank].push(f),t.forEach(r.successors(f),l)}}var u=t.sortBy(a,function(f){return r.node(f).rank});return t.forEach(u,l),o}return tb}var rb,FM;function s4(){if(FM)return rb;FM=1;var t=hr();rb=e;function e(n,a){for(var i=0,o=1;o<a.length;++o)i+=r(n,a[o-1],a[o]);return i}function r(n,a,i){for(var o=t.zipObject(i,t.map(i,function(p,y){return y})),l=t.flatten(t.map(a,function(p){return t.sortBy(t.map(n.outEdges(p),function(y){return{pos:o[y.w],weight:n.edge(y).weight}}),"pos")}),!0),u=1;u<i.length;)u<<=1;var f=2*u-1;u-=1;var c=t.map(new Array(f),function(){return 0}),h=0;return t.forEach(l.forEach(function(p){var y=p.pos+u;c[y]+=p.weight;for(var g=0;y>0;)y%2&&(g+=c[y+1]),y=y-1>>1,c[y]+=p.weight;h+=p.weight*g})),h}return rb}var nb,BM;function l4(){if(BM)return nb;BM=1;var t=hr();nb=e;function e(r,n){return t.map(n,function(a){var i=r.inEdges(a);if(i.length){var o=t.reduce(i,function(l,u){var f=r.edge(u),c=r.node(u.v);return{sum:l.sum+f.weight*c.order,weight:l.weight+f.weight}},{sum:0,weight:0});return{v:a,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:a}})}return nb}var ab,qM;function u4(){if(qM)return ab;qM=1;var t=hr();ab=e;function e(a,i){var o={};t.forEach(a,function(u,f){var c=o[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:f};t.isUndefined(u.barycenter)||(c.barycenter=u.barycenter,c.weight=u.weight)}),t.forEach(i.edges(),function(u){var f=o[u.v],c=o[u.w];!t.isUndefined(f)&&!t.isUndefined(c)&&(c.indegree++,f.out.push(o[u.w]))});var l=t.filter(o,function(u){return!u.indegree});return r(l)}function r(a){var i=[];function o(f){return function(c){c.merged||(t.isUndefined(c.barycenter)||t.isUndefined(f.barycenter)||c.barycenter>=f.barycenter)&&n(f,c)}}function l(f){return function(c){c.in.push(f),--c.indegree===0&&a.push(c)}}for(;a.length;){var u=a.pop();i.push(u),t.forEach(u.in.reverse(),o(u)),t.forEach(u.out,l(u))}return t.map(t.filter(i,function(f){return!f.merged}),function(f){return t.pick(f,["vs","i","barycenter","weight"])})}function n(a,i){var o=0,l=0;a.weight&&(o+=a.barycenter*a.weight,l+=a.weight),i.weight&&(o+=i.barycenter*i.weight,l+=i.weight),a.vs=i.vs.concat(a.vs),a.barycenter=o/l,a.weight=l,a.i=Math.min(i.i,a.i),i.merged=!0}return ab}var ib,zM;function f4(){if(zM)return ib;zM=1;var t=hr(),e=kn();ib=r;function r(i,o){var l=e.partition(i,function(E){return t.has(E,"barycenter")}),u=l.lhs,f=t.sortBy(l.rhs,function(E){return-E.i}),c=[],h=0,p=0,y=0;u.sort(a(!!o)),y=n(c,f,y),t.forEach(u,function(E){y+=E.vs.length,c.push(E.vs),h+=E.barycenter*E.weight,p+=E.weight,y=n(c,f,y)});var g={vs:t.flatten(c,!0)};return p&&(g.barycenter=h/p,g.weight=p),g}function n(i,o,l){for(var u;o.length&&(u=t.last(o)).i<=l;)o.pop(),i.push(u.vs),l++;return l}function a(i){return function(o,l){return o.barycenter<l.barycenter?-1:o.barycenter>l.barycenter?1:i?l.i-o.i:o.i-l.i}}return ib}var ob,GM;function c4(){if(GM)return ob;GM=1;var t=hr(),e=l4(),r=u4(),n=f4();ob=a;function a(l,u,f,c){var h=l.children(u),p=l.node(u),y=p?p.borderLeft:void 0,g=p?p.borderRight:void 0,E={};y&&(h=t.filter(h,function(A){return A!==y&&A!==g}));var x=e(l,h);t.forEach(x,function(A){if(l.children(A.v).length){var _=a(l,A.v,f,c);E[A.v]=_,t.has(_,"barycenter")&&o(A,_)}});var v=r(x,f);i(v,E);var C=n(v,c);if(y&&(C.vs=t.flatten([y,C.vs,g],!0),l.predecessors(y).length)){var w=l.node(l.predecessors(y)[0]),T=l.node(l.predecessors(g)[0]);t.has(C,"barycenter")||(C.barycenter=0,C.weight=0),C.barycenter=(C.barycenter*C.weight+w.order+T.order)/(C.weight+2),C.weight+=2}return C}function i(l,u){t.forEach(l,function(f){f.vs=t.flatten(f.vs.map(function(c){return u[c]?u[c].vs:c}),!0)})}function o(l,u){t.isUndefined(l.barycenter)?(l.barycenter=u.barycenter,l.weight=u.weight):(l.barycenter=(l.barycenter*l.weight+u.barycenter*u.weight)/(l.weight+u.weight),l.weight+=u.weight)}return ob}var sb,HM;function d4(){if(HM)return sb;HM=1;var t=hr(),e=fa().Graph;sb=r;function r(a,i,o){var l=n(a),u=new e({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(function(f){return a.node(f)});return t.forEach(a.nodes(),function(f){var c=a.node(f),h=a.parent(f);(c.rank===i||c.minRank<=i&&i<=c.maxRank)&&(u.setNode(f),u.setParent(f,h||l),t.forEach(a[o](f),function(p){var y=p.v===f?p.w:p.v,g=u.edge(y,f),E=t.isUndefined(g)?0:g.weight;u.setEdge(y,f,{weight:a.edge(p).weight+E})}),t.has(c,"minRank")&&u.setNode(f,{borderLeft:c.borderLeft[i],borderRight:c.borderRight[i]}))}),u}function n(a){for(var i;a.hasNode(i=t.uniqueId("_root")););return i}return sb}var lb,UM;function h4(){if(UM)return lb;UM=1;var t=hr();lb=e;function e(r,n,a){var i={},o;t.forEach(a,function(l){for(var u=r.parent(l),f,c;u;){if(f=r.parent(u),f?(c=i[f],i[f]=u):(c=o,o=u),c&&c!==u){n.setEdge(c,u);return}u=f}})}return lb}var ub,WM;function v4(){if(WM)return ub;WM=1;var t=hr(),e=o4(),r=s4(),n=c4(),a=d4(),i=h4(),o=fa().Graph,l=kn();ub=u;function u(p){var y=l.maxRank(p),g=f(p,t.range(1,y+1),"inEdges"),E=f(p,t.range(y-1,-1,-1),"outEdges"),x=e(p);h(p,x);for(var v=Number.POSITIVE_INFINITY,C,w=0,T=0;T<4;++w,++T){c(w%2?g:E,w%4>=2),x=l.buildLayerMatrix(p);var A=r(p,x);A<v&&(T=0,C=t.cloneDeep(x),v=A)}h(p,C)}function f(p,y,g){return t.map(y,function(E){return a(p,E,g)})}function c(p,y){var g=new o;t.forEach(p,function(E){var x=E.graph().root,v=n(E,x,g,y);t.forEach(v.vs,function(C,w){E.node(C).order=w}),i(E,g,v.vs)})}function h(p,y){t.forEach(y,function(g){t.forEach(g,function(E,x){p.node(E).order=x})})}return ub}var fb,VM;function p4(){if(VM)return fb;VM=1;var t=hr(),e=fa().Graph,r=kn();fb={positionX:g,findType1Conflicts:n,findType2Conflicts:a,addConflict:o,hasConflict:l,verticalAlignment:u,horizontalCompaction:f,alignCoordinates:p,findSmallestWidthAlignment:h,balance:y};function n(v,C){var w={};function T(A,_){var D=0,R=0,k=A.length,B=t.last(_);return t.forEach(_,function(G,F){var q=i(v,G),M=q?v.node(q).order:k;(q||G===B)&&(t.forEach(_.slice(R,F+1),function(P){t.forEach(v.predecessors(P),function(N){var I=v.node(N),z=I.order;(z<D||M<z)&&!(I.dummy&&v.node(P).dummy)&&o(w,N,P)})}),R=F+1,D=M)}),_}return t.reduce(C,T),w}function a(v,C){var w={};function T(_,D,R,k,B){var G;t.forEach(t.range(D,R),function(F){G=_[F],v.node(G).dummy&&t.forEach(v.predecessors(G),function(q){var M=v.node(q);M.dummy&&(M.order<k||M.order>B)&&o(w,q,G)})})}function A(_,D){var R=-1,k,B=0;return t.forEach(D,function(G,F){if(v.node(G).dummy==="border"){var q=v.predecessors(G);q.length&&(k=v.node(q[0]).order,T(D,B,F,R,k),B=F,R=k)}T(D,B,D.length,k,_.length)}),D}return t.reduce(C,A),w}function i(v,C){if(v.node(C).dummy)return t.find(v.predecessors(C),function(w){return v.node(w).dummy})}function o(v,C,w){if(C>w){var T=C;C=w,w=T}var A=v[C];A||(v[C]=A={}),A[w]=!0}function l(v,C,w){if(C>w){var T=C;C=w,w=T}return t.has(v[C],w)}function u(v,C,w,T){var A={},_={},D={};return t.forEach(C,function(R){t.forEach(R,function(k,B){A[k]=k,_[k]=k,D[k]=B})}),t.forEach(C,function(R){var k=-1;t.forEach(R,function(B){var G=T(B);if(G.length){G=t.sortBy(G,function(N){return D[N]});for(var F=(G.length-1)/2,q=Math.floor(F),M=Math.ceil(F);q<=M;++q){var P=G[q];_[B]===B&&k<D[P]&&!l(w,B,P)&&(_[P]=B,_[B]=A[B]=A[P],k=D[P])}}})}),{root:A,align:_}}function f(v,C,w,T,A){var _={},D=c(v,C,w,A),R=A?"borderLeft":"borderRight";function k(F,q){for(var M=D.nodes(),P=M.pop(),N={};P;)N[P]?F(P):(N[P]=!0,M.push(P),M=M.concat(q(P))),P=M.pop()}function B(F){_[F]=D.inEdges(F).reduce(function(q,M){return Math.max(q,_[M.v]+D.edge(M))},0)}function G(F){var q=D.outEdges(F).reduce(function(P,N){return Math.min(P,_[N.w]-D.edge(N))},Number.POSITIVE_INFINITY),M=v.node(F);q!==Number.POSITIVE_INFINITY&&M.borderType!==R&&(_[F]=Math.max(_[F],q))}return k(B,D.predecessors.bind(D)),k(G,D.successors.bind(D)),t.forEach(T,function(F){_[F]=_[w[F]]}),_}function c(v,C,w,T){var A=new e,_=v.graph(),D=E(_.nodesep,_.edgesep,T);return t.forEach(C,function(R){var k;t.forEach(R,function(B){var G=w[B];if(A.setNode(G),k){var F=w[k],q=A.edge(F,G);A.setEdge(F,G,Math.max(D(v,B,k),q||0))}k=B})}),A}function h(v,C){return t.minBy(t.values(C),function(w){var T=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;return t.forIn(w,function(_,D){var R=x(v,D)/2;T=Math.max(_+R,T),A=Math.min(_-R,A)}),T-A})}function p(v,C){var w=t.values(C),T=t.min(w),A=t.max(w);t.forEach(["u","d"],function(_){t.forEach(["l","r"],function(D){var R=_+D,k=v[R],B;if(k!==C){var G=t.values(k);B=D==="l"?T-t.min(G):A-t.max(G),B&&(v[R]=t.mapValues(k,function(F){return F+B}))}})})}function y(v,C){return t.mapValues(v.ul,function(w,T){if(C)return v[C.toLowerCase()][T];var A=t.sortBy(t.map(v,T));return(A[1]+A[2])/2})}function g(v){var C=r.buildLayerMatrix(v),w=t.merge(n(v,C),a(v,C)),T={},A;t.forEach(["u","d"],function(D){A=D==="u"?C:t.values(C).reverse(),t.forEach(["l","r"],function(R){R==="r"&&(A=t.map(A,function(F){return t.values(F).reverse()}));var k=(D==="u"?v.predecessors:v.successors).bind(v),B=u(v,A,w,k),G=f(v,A,B.root,B.align,R==="r");R==="r"&&(G=t.mapValues(G,function(F){return-F})),T[D+R]=G})});var _=h(v,T);return p(T,_),y(T,v.graph().align)}function E(v,C,w){return function(T,A,_){var D=T.node(A),R=T.node(_),k=0,B;if(k+=D.width/2,t.has(D,"labelpos"))switch(D.labelpos.toLowerCase()){case"l":B=-D.width/2;break;case"r":B=D.width/2;break}if(B&&(k+=w?B:-B),B=0,k+=(D.dummy?C:v)/2,k+=(R.dummy?C:v)/2,k+=R.width/2,t.has(R,"labelpos"))switch(R.labelpos.toLowerCase()){case"l":B=R.width/2;break;case"r":B=-R.width/2;break}return B&&(k+=w?B:-B),B=0,k}}function x(v,C){return v.node(C).width}return fb}var cb,$M;function g4(){if($M)return cb;$M=1;var t=hr(),e=kn(),r=p4().positionX;cb=n;function n(i){i=e.asNonCompoundGraph(i),a(i),t.forEach(r(i),function(o,l){i.node(l).x=o})}function a(i){var o=e.buildLayerMatrix(i),l=i.graph().ranksep,u=0;t.forEach(o,function(f){var c=t.max(t.map(f,function(h){return i.node(h).height}));t.forEach(f,function(h){i.node(h).y=u+c/2}),u+=c+l})}return cb}var db,YM;function y4(){if(YM)return db;YM=1;var t=hr(),e=Q$(),r=J$(),n=t4(),a=kn().normalizeRanks,i=r4(),o=kn().removeEmptyRanks,l=n4(),u=a4(),f=i4(),c=v4(),h=g4(),p=kn(),y=fa().Graph;db=g;function g(U,V){var Y=V&&V.debugTiming?p.time:p.notime;Y("layout",function(){var ee=Y("  buildLayoutGraph",function(){return k(U)});Y("  runLayout",function(){E(ee,Y)}),Y("  updateInputGraph",function(){x(U,ee)})})}function E(U,V){V("    makeSpaceForEdgeLabels",function(){B(U)}),V("    removeSelfEdges",function(){ae(U)}),V("    acyclic",function(){e.run(U)}),V("    nestingGraph.run",function(){l.run(U)}),V("    rank",function(){n(p.asNonCompoundGraph(U))}),V("    injectEdgeLabelProxies",function(){G(U)}),V("    removeEmptyRanks",function(){o(U)}),V("    nestingGraph.cleanup",function(){l.cleanup(U)}),V("    normalizeRanks",function(){a(U)}),V("    assignRankMinMax",function(){F(U)}),V("    removeEdgeLabelProxies",function(){q(U)}),V("    normalize.run",function(){r.run(U)}),V("    parentDummyChains",function(){i(U)}),V("    addBorderSegments",function(){u(U)}),V("    order",function(){c(U)}),V("    insertSelfEdges",function(){re(U)}),V("    adjustCoordinateSystem",function(){f.adjust(U)}),V("    position",function(){h(U)}),V("    positionSelfEdges",function(){K(U)}),V("    removeBorderNodes",function(){z(U)}),V("    normalize.undo",function(){r.undo(U)}),V("    fixupEdgeLabelCoords",function(){N(U)}),V("    undoCoordinateSystem",function(){f.undo(U)}),V("    translateGraph",function(){M(U)}),V("    assignNodeIntersects",function(){P(U)}),V("    reversePoints",function(){I(U)}),V("    acyclic.undo",function(){e.undo(U)})}function x(U,V){t.forEach(U.nodes(),function(Y){var ee=U.node(Y),oe=V.node(Y);ee&&(ee.x=oe.x,ee.y=oe.y,V.children(Y).length&&(ee.width=oe.width,ee.height=oe.height))}),t.forEach(U.edges(),function(Y){var ee=U.edge(Y),oe=V.edge(Y);ee.points=oe.points,t.has(oe,"x")&&(ee.x=oe.x,ee.y=oe.y)}),U.graph().width=V.graph().width,U.graph().height=V.graph().height}var v=["nodesep","edgesep","ranksep","marginx","marginy"],C={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],T=["width","height"],A={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],D={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},R=["labelpos"];function k(U){var V=new y({multigraph:!0,compound:!0}),Y=Z(U.graph());return V.setGraph(t.merge({},C,W(Y,v),t.pick(Y,w))),t.forEach(U.nodes(),function(ee){var oe=Z(U.node(ee));V.setNode(ee,t.defaults(W(oe,T),A)),V.setParent(ee,U.parent(ee))}),t.forEach(U.edges(),function(ee){var oe=Z(U.edge(ee));V.setEdge(ee,t.merge({},D,W(oe,_),t.pick(oe,R)))}),V}function B(U){var V=U.graph();V.ranksep/=2,t.forEach(U.edges(),function(Y){var ee=U.edge(Y);ee.minlen*=2,ee.labelpos.toLowerCase()!=="c"&&(V.rankdir==="TB"||V.rankdir==="BT"?ee.width+=ee.labeloffset:ee.height+=ee.labeloffset)})}function G(U){t.forEach(U.edges(),function(V){var Y=U.edge(V);if(Y.width&&Y.height){var ee=U.node(V.v),oe=U.node(V.w),te={rank:(oe.rank-ee.rank)/2+ee.rank,e:V};p.addDummyNode(U,"edge-proxy",te,"_ep")}})}function F(U){var V=0;t.forEach(U.nodes(),function(Y){var ee=U.node(Y);ee.borderTop&&(ee.minRank=U.node(ee.borderTop).rank,ee.maxRank=U.node(ee.borderBottom).rank,V=t.max(V,ee.maxRank))}),U.graph().maxRank=V}function q(U){t.forEach(U.nodes(),function(V){var Y=U.node(V);Y.dummy==="edge-proxy"&&(U.edge(Y.e).labelRank=Y.rank,U.removeNode(V))})}function M(U){var V=Number.POSITIVE_INFINITY,Y=0,ee=Number.POSITIVE_INFINITY,oe=0,te=U.graph(),ie=te.marginx||0,se=te.marginy||0;function $(ne){var le=ne.x,Se=ne.y,_e=ne.width,be=ne.height;V=Math.min(V,le-_e/2),Y=Math.max(Y,le+_e/2),ee=Math.min(ee,Se-be/2),oe=Math.max(oe,Se+be/2)}t.forEach(U.nodes(),function(ne){$(U.node(ne))}),t.forEach(U.edges(),function(ne){var le=U.edge(ne);t.has(le,"x")&&$(le)}),V-=ie,ee-=se,t.forEach(U.nodes(),function(ne){var le=U.node(ne);le.x-=V,le.y-=ee}),t.forEach(U.edges(),function(ne){var le=U.edge(ne);t.forEach(le.points,function(Se){Se.x-=V,Se.y-=ee}),t.has(le,"x")&&(le.x-=V),t.has(le,"y")&&(le.y-=ee)}),te.width=Y-V+ie,te.height=oe-ee+se}function P(U){t.forEach(U.edges(),function(V){var Y=U.edge(V),ee=U.node(V.v),oe=U.node(V.w),te,ie;Y.points?(te=Y.points[0],ie=Y.points[Y.points.length-1]):(Y.points=[],te=oe,ie=ee),Y.points.unshift(p.intersectRect(ee,te)),Y.points.push(p.intersectRect(oe,ie))})}function N(U){t.forEach(U.edges(),function(V){var Y=U.edge(V);if(t.has(Y,"x"))switch((Y.labelpos==="l"||Y.labelpos==="r")&&(Y.width-=Y.labeloffset),Y.labelpos){case"l":Y.x-=Y.width/2+Y.labeloffset;break;case"r":Y.x+=Y.width/2+Y.labeloffset;break}})}function I(U){t.forEach(U.edges(),function(V){var Y=U.edge(V);Y.reversed&&Y.points.reverse()})}function z(U){t.forEach(U.nodes(),function(V){if(U.children(V).length){var Y=U.node(V),ee=U.node(Y.borderTop),oe=U.node(Y.borderBottom),te=U.node(t.last(Y.borderLeft)),ie=U.node(t.last(Y.borderRight));Y.width=Math.abs(ie.x-te.x),Y.height=Math.abs(oe.y-ee.y),Y.x=te.x+Y.width/2,Y.y=ee.y+Y.height/2}}),t.forEach(U.nodes(),function(V){U.node(V).dummy==="border"&&U.removeNode(V)})}function ae(U){t.forEach(U.edges(),function(V){if(V.v===V.w){var Y=U.node(V.v);Y.selfEdges||(Y.selfEdges=[]),Y.selfEdges.push({e:V,label:U.edge(V)}),U.removeEdge(V)}})}function re(U){var V=p.buildLayerMatrix(U);t.forEach(V,function(Y){var ee=0;t.forEach(Y,function(oe,te){var ie=U.node(oe);ie.order=te+ee,t.forEach(ie.selfEdges,function(se){p.addDummyNode(U,"selfedge",{width:se.label.width,height:se.label.height,rank:ie.rank,order:te+ ++ee,e:se.e,label:se.label},"_se")}),delete ie.selfEdges})})}function K(U){t.forEach(U.nodes(),function(V){var Y=U.node(V);if(Y.dummy==="selfedge"){var ee=U.node(Y.e.v),oe=ee.x+ee.width/2,te=ee.y,ie=Y.x-oe,se=ee.height/2;U.setEdge(Y.e,Y.label),U.removeNode(V),Y.label.points=[{x:oe+2*ie/3,y:te-se},{x:oe+5*ie/6,y:te-se},{x:oe+ie,y:te},{x:oe+5*ie/6,y:te+se},{x:oe+2*ie/3,y:te+se}],Y.label.x=Y.x,Y.label.y=Y.y}})}function W(U,V){return t.mapValues(t.pick(U,V),Number)}function Z(U){var V={};return t.forEach(U,function(Y,ee){V[ee.toLowerCase()]=Y}),V}return db}var hb,XM;function m4(){if(XM)return hb;XM=1;var t=hr(),e=kn(),r=fa().Graph;hb={debugOrdering:n};function n(a){var i=e.buildLayerMatrix(a),o=new r({compound:!0,multigraph:!0}).setGraph({});return t.forEach(a.nodes(),function(l){o.setNode(l,{label:l}),o.setParent(l,"layer"+a.node(l).rank)}),t.forEach(a.edges(),function(l){o.setEdge(l.v,l.w,{},l.name)}),t.forEach(i,function(l,u){var f="layer"+u;o.setNode(f,{rank:"same"}),t.reduce(l,function(c,h){return o.setEdge(c,h,{style:"invis"}),h})}),o}return hb}var vb,KM;function b4(){return KM||(KM=1,vb="0.8.5"),vb}var pb,jM;function w4(){return jM||(jM=1,pb={graphlib:fa(),layout:y4(),debug:m4(),util:{time:kn().time,notime:kn().notime},version:b4()}),pb}var x4=kf.exports,ZM;function C4(){return ZM||(ZM=1,function(t,e){(function(n,a){t.exports=a(w4())})(x4,function(r){return function(n){var a={};function i(o){if(a[o])return a[o].exports;var l=a[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=a,i.d=function(o,l,u){i.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:u})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,l){if(l&1&&(o=i(o)),l&8||l&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),l&2&&typeof o!="string")for(var f in o)i.d(u,f,(function(c){return o[c]}).bind(null,f));return u},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=0)}([function(n,a,i){var o=i(1),l=function(f){f&&f("layout","dagre",o)};typeof cytoscape<"u"&&l(cytoscape),n.exports=l},function(n,a,i){function o(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(g){return typeof g}:o=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o(p)}var l=function(y){return typeof y=="function"},u=i(2),f=i(3),c=i(4);function h(p){this.options=f({},u,p)}h.prototype.run=function(){var p=this.options,y=this,g=p.cy,E=p.eles,x=function(K,W){return l(W)?W.apply(K,[K]):W},v=p.boundingBox||{x1:0,y1:0,w:g.width(),h:g.height()};v.x2===void 0&&(v.x2=v.x1+v.w),v.w===void 0&&(v.w=v.x2-v.x1),v.y2===void 0&&(v.y2=v.y1+v.h),v.h===void 0&&(v.h=v.y2-v.y1);var C=new c.graphlib.Graph({multigraph:!0,compound:!0}),w={},T=function(K,W){W!=null&&(w[K]=W)};T("nodesep",p.nodeSep),T("edgesep",p.edgeSep),T("ranksep",p.rankSep),T("rankdir",p.rankDir),T("align",p.align),T("ranker",p.ranker),T("acyclicer",p.acyclicer),C.setGraph(w),C.setDefaultEdgeLabel(function(){return{}}),C.setDefaultNodeLabel(function(){return{}});var A=E.nodes();l(p.sort)&&(A=A.sort(p.sort));for(var _=0;_<A.length;_++){var D=A[_],R=D.layoutDimensions(p);C.setNode(D.id(),{width:R.w,height:R.h,name:D.id()})}for(var k=0;k<A.length;k++){var B=A[k];B.isChild()&&C.setParent(B.id(),B.parent().id())}var G=E.edges().stdFilter(function(re){return!re.source().isParent()&&!re.target().isParent()});l(p.sort)&&(G=G.sort(p.sort));for(var F=0;F<G.length;F++){var q=G[F];C.setEdge(q.source().id(),q.target().id(),{minlen:x(q,p.minLen),weight:x(q,p.edgeWeight),name:q.id()},q.id())}c.layout(C);for(var M=C.nodes(),P=0;P<M.length;P++){var N=M[P],I=C.node(N);g.getElementById(N).scratch().dagre=I}var z;p.boundingBox?(z={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},A.forEach(function(re){var K=re.scratch().dagre;z.x1=Math.min(z.x1,K.x),z.x2=Math.max(z.x2,K.x),z.y1=Math.min(z.y1,K.y),z.y2=Math.max(z.y2,K.y)}),z.w=z.x2-z.x1,z.h=z.y2-z.y1):z=v;var ae=function(K){if(p.boundingBox){var W=z.w===0?0:(K.x-z.x1)/z.w,Z=z.h===0?0:(K.y-z.y1)/z.h;return{x:v.x1+W*v.w,y:v.y1+Z*v.h}}else return K};return A.layoutPositions(y,p,function(re){re=o(re)==="object"?re:this;var K=re.scratch().dagre;return ae({x:K.x,y:K.y})}),this},n.exports=h},function(n,a){var i={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(l){return 1},edgeWeight:function(l){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(l,u){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(l,u){return u},ready:function(){},sort:void 0,stop:function(){}};n.exports=i},function(n,a){n.exports=Object.assign!=null?Object.assign.bind(Object):function(i){for(var o=arguments.length,l=new Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];return l.forEach(function(f){Object.keys(f).forEach(function(c){return i[c]=f[c]})}),i}},function(n,a){n.exports=r}])})}(kf)),kf.exports}var E4=C4();const T4=So(E4);var Nf={exports:{}},Of={exports:{}},If={exports:{}},S4=If.exports,QM;function A4(){return QM||(QM=1,function(t,e){(function(n,a){t.exports=a()})(S4,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.i=function(i){return i},a.d=function(i,o,l){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=28)}([function(r,n,a){function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,r.exports=i},function(r,n,a){var i=a(2),o=a(8),l=a(9);function u(c,h,p){i.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=c,this.target=h}u.prototype=Object.create(i.prototype);for(var f in i)u[f]=i[f];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(c,h){for(var p=this.getOtherEnd(c),y=h.getGraphManager().getRoot();;){if(p.getOwner()==h)return p;if(p.getOwner()==y)break;p=p.getOwner().getParent()}return null},u.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,a){function i(o){this.vGraphObject=o}r.exports=i},function(r,n,a){var i=a(2),o=a(10),l=a(13),u=a(0),f=a(16),c=a(5);function h(y,g,E,x){E==null&&x==null&&(x=g),i.call(this,x),y.graphManager!=null&&(y=y.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=x,this.edges=[],this.graphManager=y,E!=null&&g!=null?this.rect=new l(g.x,g.y,E.width,E.height):this.rect=new l}h.prototype=Object.create(i.prototype);for(var p in i)h[p]=i[p];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(y){this.rect.width=y},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(y){this.rect.height=y},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(y,g){this.rect.x=y.x,this.rect.y=y.y,this.rect.width=g.width,this.rect.height=g.height},h.prototype.setCenter=function(y,g){this.rect.x=y-this.rect.width/2,this.rect.y=g-this.rect.height/2},h.prototype.setLocation=function(y,g){this.rect.x=y,this.rect.y=g},h.prototype.moveBy=function(y,g){this.rect.x+=y,this.rect.y+=g},h.prototype.getEdgeListToNode=function(y){var g=[],E=this;return E.edges.forEach(function(x){if(x.target==y){if(x.source!=E)throw"Incorrect edge source!";g.push(x)}}),g},h.prototype.getEdgesBetween=function(y){var g=[],E=this;return E.edges.forEach(function(x){if(!(x.source==E||x.target==E))throw"Incorrect edge source and/or target";(x.target==y||x.source==y)&&g.push(x)}),g},h.prototype.getNeighborsList=function(){var y=new Set,g=this;return g.edges.forEach(function(E){if(E.source==g)y.add(E.target);else{if(E.target!=g)throw"Incorrect incidency!";y.add(E.source)}}),y},h.prototype.withChildren=function(){var y=new Set,g,E;if(y.add(this),this.child!=null)for(var x=this.child.getNodes(),v=0;v<x.length;v++)g=x[v],E=g.withChildren(),E.forEach(function(C){y.add(C)});return y},h.prototype.getNoOfChildren=function(){var y=0,g;if(this.child==null)y=1;else for(var E=this.child.getNodes(),x=0;x<E.length;x++)g=E[x],y+=g.getNoOfChildren();return y==0&&(y=1),y},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var y,g,E=-u.INITIAL_WORLD_BOUNDARY,x=u.INITIAL_WORLD_BOUNDARY;y=u.WORLD_CENTER_X+f.nextDouble()*(x-E)+E;var v=-u.INITIAL_WORLD_BOUNDARY,C=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_Y+f.nextDouble()*(C-v)+v,this.rect.x=y,this.rect.y=g},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var y=this.getChild();if(y.updateBounds(!0),this.rect.x=y.getLeft(),this.rect.y=y.getTop(),this.setWidth(y.getRight()-y.getLeft()),this.setHeight(y.getBottom()-y.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var g=y.getRight()-y.getLeft(),E=y.getBottom()-y.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(g+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>g?(this.rect.x-=(this.labelWidth-g)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(g+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(E+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>E?(this.rect.y-=(this.labelHeight-E)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(E+this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(y){var g=this.rect.x;g>u.WORLD_BOUNDARY?g=u.WORLD_BOUNDARY:g<-u.WORLD_BOUNDARY&&(g=-u.WORLD_BOUNDARY);var E=this.rect.y;E>u.WORLD_BOUNDARY?E=u.WORLD_BOUNDARY:E<-u.WORLD_BOUNDARY&&(E=-u.WORLD_BOUNDARY);var x=new c(g,E),v=y.inverseTransformPoint(x);this.setLocation(v.x,v.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=h},function(r,n,a){var i=a(0);function o(){}for(var l in i)o[l]=i[l];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=o},function(r,n,a){function i(o,l){o==null&&l==null?(this.x=0,this.y=0):(this.x=o,this.y=l)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(o){this.x=o},i.prototype.setY=function(o){this.y=o},i.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},r.exports=i},function(r,n,a){var i=a(2),o=a(10),l=a(0),u=a(7),f=a(3),c=a(1),h=a(13),p=a(12),y=a(11);function g(x,v,C){i.call(this,C),this.estimatedSize=o.MIN_VALUE,this.margin=l.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=x,v!=null&&v instanceof u?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}g.prototype=Object.create(i.prototype);for(var E in i)g[E]=i[E];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(x,v,C){if(v==null&&C==null){var w=x;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var T=x;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(C)>-1))throw"Source or target not in graph!";if(!(v.owner==C.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=C.owner?null:(T.source=v,T.target=C,T.isInterGraph=!1,this.getEdges().push(T),v.edges.push(T),C!=v&&C.edges.push(T),T)}},g.prototype.remove=function(x){var v=x;if(x instanceof f){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var C=v.edges.slice(),w,T=C.length,A=0;A<T;A++)w=C[A],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var _=this.nodes.indexOf(v);if(_==-1)throw"Node not in owner node list!";this.nodes.splice(_,1)}else if(x instanceof c){var w=x;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var D=w.source.edges.indexOf(w),R=w.target.edges.indexOf(w);if(!(D>-1&&R>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(D,1),w.target!=w.source&&w.target.edges.splice(R,1);var _=w.source.owner.getEdges().indexOf(w);if(_==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(_,1)}},g.prototype.updateLeftTop=function(){for(var x=o.MAX_VALUE,v=o.MAX_VALUE,C,w,T,A=this.getNodes(),_=A.length,D=0;D<_;D++){var R=A[D];C=R.getTop(),w=R.getLeft(),x>C&&(x=C),v>w&&(v=w)}return x==o.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?T=A[0].getParent().paddingLeft:T=this.margin,this.left=v-T,this.top=x-T,new p(this.left,this.top))},g.prototype.updateBounds=function(x){for(var v=o.MAX_VALUE,C=-o.MAX_VALUE,w=o.MAX_VALUE,T=-o.MAX_VALUE,A,_,D,R,k,B=this.nodes,G=B.length,F=0;F<G;F++){var q=B[F];x&&q.child!=null&&q.updateBounds(),A=q.getLeft(),_=q.getRight(),D=q.getTop(),R=q.getBottom(),v>A&&(v=A),C<_&&(C=_),w>D&&(w=D),T<R&&(T=R)}var M=new h(v,w,C-v,T-w);v==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),B[0].getParent().paddingLeft!=null?k=B[0].getParent().paddingLeft:k=this.margin,this.left=M.x-k,this.right=M.x+M.width+k,this.top=M.y-k,this.bottom=M.y+M.height+k},g.calculateBounds=function(x){for(var v=o.MAX_VALUE,C=-o.MAX_VALUE,w=o.MAX_VALUE,T=-o.MAX_VALUE,A,_,D,R,k=x.length,B=0;B<k;B++){var G=x[B];A=G.getLeft(),_=G.getRight(),D=G.getTop(),R=G.getBottom(),v>A&&(v=A),C<_&&(C=_),w>D&&(w=D),T<R&&(T=R)}var F=new h(v,w,C-v,T-w);return F},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var x=0,v=this.nodes,C=v.length,w=0;w<C;w++){var T=v[w];x+=T.calcEstimatedSize()}return x==0?this.estimatedSize=l.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=x/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var x=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new y,C=new Set,w=this.nodes[0],T,A,_=w.withChildren();for(_.forEach(function(F){v.push(F),C.add(F)});v.length!==0;){w=v.shift(),T=w.getEdges();for(var D=T.length,R=0;R<D;R++){var k=T[R];if(A=k.getOtherEndInGraph(w,this),A!=null&&!C.has(A)){var B=A.withChildren();B.forEach(function(F){v.push(F),C.add(F)})}}}if(this.isConnected=!1,C.size>=this.nodes.length){var G=0;C.forEach(function(F){F.owner==x&&G++}),G==this.nodes.length&&(this.isConnected=!0)}},r.exports=g},function(r,n,a){var i,o=a(1);function l(u){i=a(6),this.layout=u,this.graphs=[],this.edges=[]}l.prototype.addRoot=function(){var u=this.layout.newGraph(),f=this.layout.newNode(null),c=this.add(u,f);return this.setRootGraph(c),this.rootGraph},l.prototype.add=function(u,f,c,h,p){if(c==null&&h==null&&p==null){if(u==null)throw"Graph is null!";if(f==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(f.child!=null)throw"Already has a child!";return u.parent=f,f.child=u,u}else{p=c,h=f,c=u;var y=h.getOwner(),g=p.getOwner();if(!(y!=null&&y.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(g!=null&&g.getGraphManager()==this))throw"Target not in this graph mgr!";if(y==g)return c.isInterGraph=!1,y.add(c,h,p);if(c.isInterGraph=!0,c.source=h,c.target=p,this.edges.indexOf(c)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(c),!(c.source!=null&&c.target!=null))throw"Edge source and/or target is null!";if(!(c.source.edges.indexOf(c)==-1&&c.target.edges.indexOf(c)==-1))throw"Edge already in source and/or target incidency list!";return c.source.edges.push(c),c.target.edges.push(c),c}},l.prototype.remove=function(u){if(u instanceof i){var f=u;if(f.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(f==this.rootGraph||f.parent!=null&&f.parent.graphManager==this))throw"Invalid parent node!";var c=[];c=c.concat(f.getEdges());for(var h,p=c.length,y=0;y<p;y++)h=c[y],f.remove(h);var g=[];g=g.concat(f.getNodes());var E;p=g.length;for(var y=0;y<p;y++)E=g[y],f.remove(E);f==this.rootGraph&&this.setRootGraph(null);var x=this.graphs.indexOf(f);this.graphs.splice(x,1),f.parent=null}else if(u instanceof o){if(h=u,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var x=h.source.edges.indexOf(h);if(h.source.edges.splice(x,1),x=h.target.edges.indexOf(h),h.target.edges.splice(x,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var x=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(x,1)}},l.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},l.prototype.getGraphs=function(){return this.graphs},l.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],f=this.getGraphs(),c=f.length,h=0;h<c;h++)u=u.concat(f[h].getNodes());this.allNodes=u}return this.allNodes},l.prototype.resetAllNodes=function(){this.allNodes=null},l.prototype.resetAllEdges=function(){this.allEdges=null},l.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},l.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],f=this.getGraphs();f.length;for(var c=0;c<f.length;c++)u=u.concat(f[c].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},l.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},l.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},l.prototype.getRoot=function(){return this.rootGraph},l.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},l.prototype.getLayout=function(){return this.layout},l.prototype.isOneAncestorOfOther=function(u,f){if(!(u!=null&&f!=null))throw"assert failed";if(u==f)return!0;var c=u.getOwner(),h;do{if(h=c.getParent(),h==null)break;if(h==f)return!0;if(c=h.getOwner(),c==null)break}while(!0);c=f.getOwner();do{if(h=c.getParent(),h==null)break;if(h==u)return!0;if(c=h.getOwner(),c==null)break}while(!0);return!1},l.prototype.calcLowestCommonAncestors=function(){for(var u,f,c,h,p,y=this.getAllEdges(),g=y.length,E=0;E<g;E++){if(u=y[E],f=u.source,c=u.target,u.lca=null,u.sourceInLca=f,u.targetInLca=c,f==c){u.lca=f.getOwner();continue}for(h=f.getOwner();u.lca==null;){for(u.targetInLca=c,p=c.getOwner();u.lca==null;){if(p==h){u.lca=p;break}if(p==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=p.getParent(),p=u.targetInLca.getOwner()}if(h==this.rootGraph)break;u.lca==null&&(u.sourceInLca=h.getParent(),h=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},l.prototype.calcLowestCommonAncestor=function(u,f){if(u==f)return u.getOwner();var c=u.getOwner();do{if(c==null)break;var h=f.getOwner();do{if(h==null)break;if(h==c)return h;h=h.getParent().getOwner()}while(!0);c=c.getParent().getOwner()}while(!0);return c},l.prototype.calcInclusionTreeDepths=function(u,f){u==null&&f==null&&(u=this.rootGraph,f=1);for(var c,h=u.getNodes(),p=h.length,y=0;y<p;y++)c=h[y],c.inclusionTreeDepth=f,c.child!=null&&this.calcInclusionTreeDepths(c.child,f+1)},l.prototype.includesInvalidEdge=function(){for(var u,f=[],c=this.edges.length,h=0;h<c;h++)u=this.edges[h],this.isOneAncestorOfOther(u.source,u.target)&&f.push(u);for(var h=0;h<f.length;h++)this.remove(f[h]);return!1},r.exports=l},function(r,n,a){var i=a(12);function o(){}o.calcSeparationAmount=function(l,u,f,c){if(!l.intersects(u))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(l,u,h),f[0]=Math.min(l.getRight(),u.getRight())-Math.max(l.x,u.x),f[1]=Math.min(l.getBottom(),u.getBottom())-Math.max(l.y,u.y),l.getX()<=u.getX()&&l.getRight()>=u.getRight()?f[0]+=Math.min(u.getX()-l.getX(),l.getRight()-u.getRight()):u.getX()<=l.getX()&&u.getRight()>=l.getRight()&&(f[0]+=Math.min(l.getX()-u.getX(),u.getRight()-l.getRight())),l.getY()<=u.getY()&&l.getBottom()>=u.getBottom()?f[1]+=Math.min(u.getY()-l.getY(),l.getBottom()-u.getBottom()):u.getY()<=l.getY()&&u.getBottom()>=l.getBottom()&&(f[1]+=Math.min(l.getY()-u.getY(),u.getBottom()-l.getBottom()));var p=Math.abs((u.getCenterY()-l.getCenterY())/(u.getCenterX()-l.getCenterX()));u.getCenterY()===l.getCenterY()&&u.getCenterX()===l.getCenterX()&&(p=1);var y=p*f[0],g=f[1]/p;f[0]<g?g=f[0]:y=f[1],f[0]=-1*h[0]*(g/2+c),f[1]=-1*h[1]*(y/2+c)},o.decideDirectionsForOverlappingNodes=function(l,u,f){l.getCenterX()<u.getCenterX()?f[0]=-1:f[0]=1,l.getCenterY()<u.getCenterY()?f[1]=-1:f[1]=1},o.getIntersection2=function(l,u,f){var c=l.getCenterX(),h=l.getCenterY(),p=u.getCenterX(),y=u.getCenterY();if(l.intersects(u))return f[0]=c,f[1]=h,f[2]=p,f[3]=y,!0;var g=l.getX(),E=l.getY(),x=l.getRight(),v=l.getX(),C=l.getBottom(),w=l.getRight(),T=l.getWidthHalf(),A=l.getHeightHalf(),_=u.getX(),D=u.getY(),R=u.getRight(),k=u.getX(),B=u.getBottom(),G=u.getRight(),F=u.getWidthHalf(),q=u.getHeightHalf(),M=!1,P=!1;if(c===p){if(h>y)return f[0]=c,f[1]=E,f[2]=p,f[3]=B,!1;if(h<y)return f[0]=c,f[1]=C,f[2]=p,f[3]=D,!1}else if(h===y){if(c>p)return f[0]=g,f[1]=h,f[2]=R,f[3]=y,!1;if(c<p)return f[0]=x,f[1]=h,f[2]=_,f[3]=y,!1}else{var N=l.height/l.width,I=u.height/u.width,z=(y-h)/(p-c),ae=void 0,re=void 0,K=void 0,W=void 0,Z=void 0,U=void 0;if(-N===z?c>p?(f[0]=v,f[1]=C,M=!0):(f[0]=x,f[1]=E,M=!0):N===z&&(c>p?(f[0]=g,f[1]=E,M=!0):(f[0]=w,f[1]=C,M=!0)),-I===z?p>c?(f[2]=k,f[3]=B,P=!0):(f[2]=R,f[3]=D,P=!0):I===z&&(p>c?(f[2]=_,f[3]=D,P=!0):(f[2]=G,f[3]=B,P=!0)),M&&P)return!1;if(c>p?h>y?(ae=this.getCardinalDirection(N,z,4),re=this.getCardinalDirection(I,z,2)):(ae=this.getCardinalDirection(-N,z,3),re=this.getCardinalDirection(-I,z,1)):h>y?(ae=this.getCardinalDirection(-N,z,1),re=this.getCardinalDirection(-I,z,3)):(ae=this.getCardinalDirection(N,z,2),re=this.getCardinalDirection(I,z,4)),!M)switch(ae){case 1:W=E,K=c+-A/z,f[0]=K,f[1]=W;break;case 2:K=w,W=h+T*z,f[0]=K,f[1]=W;break;case 3:W=C,K=c+A/z,f[0]=K,f[1]=W;break;case 4:K=v,W=h+-T*z,f[0]=K,f[1]=W;break}if(!P)switch(re){case 1:U=D,Z=p+-q/z,f[2]=Z,f[3]=U;break;case 2:Z=G,U=y+F*z,f[2]=Z,f[3]=U;break;case 3:U=B,Z=p+q/z,f[2]=Z,f[3]=U;break;case 4:Z=k,U=y+-F*z,f[2]=Z,f[3]=U;break}}return!1},o.getCardinalDirection=function(l,u,f){return l>u?f:1+f%4},o.getIntersection=function(l,u,f,c){if(c==null)return this.getIntersection2(l,u,f);var h=l.x,p=l.y,y=u.x,g=u.y,E=f.x,x=f.y,v=c.x,C=c.y,w=void 0,T=void 0,A=void 0,_=void 0,D=void 0,R=void 0,k=void 0,B=void 0,G=void 0;return A=g-p,D=h-y,k=y*p-h*g,_=C-x,R=E-v,B=v*x-E*C,G=A*R-_*D,G===0?null:(w=(D*B-R*k)/G,T=(_*k-A*B)/G,new i(w,T))},o.angleOfVector=function(l,u,f,c){var h=void 0;return l!==f?(h=Math.atan((c-u)/(f-l)),f<l?h+=Math.PI:c<u&&(h+=this.TWO_PI)):c<u?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},o.doIntersect=function(l,u,f,c){var h=l.x,p=l.y,y=u.x,g=u.y,E=f.x,x=f.y,v=c.x,C=c.y,w=(y-h)*(C-x)-(v-E)*(g-p);if(w===0)return!1;var T=((C-x)*(v-h)+(E-v)*(C-p))/w,A=((p-g)*(v-h)+(y-h)*(C-p))/w;return 0<T&&T<1&&0<A&&A<1},o.findCircleLineIntersections=function(l,u,f,c,h,p,y){var g=(f-l)*(f-l)+(c-u)*(c-u),E=2*((l-h)*(f-l)+(u-p)*(c-u)),x=(l-h)*(l-h)+(u-p)*(u-p)-y*y,v=E*E-4*g*x;if(v>=0){var C=(-E+Math.sqrt(E*E-4*g*x))/(2*g),w=(-E-Math.sqrt(E*E-4*g*x))/(2*g),T=null;return C>=0&&C<=1?[C]:w>=0&&w<=1?[w]:T}else return null},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,r.exports=o},function(r,n,a){function i(){}i.sign=function(o){return o>0?1:o<0?-1:0},i.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},i.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},r.exports=i},function(r,n,a){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,r.exports=i},function(r,n,a){var i=function(){function h(p,y){for(var g=0;g<y.length;g++){var E=y[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,y,g){return y&&h(p.prototype,y),g&&h(p,g),p}}();function o(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var l=function(p){return{value:p,next:null,prev:null}},u=function(p,y,g,E){return p!==null?p.next=y:E.head=y,g!==null?g.prev=y:E.tail=y,y.prev=p,y.next=g,E.length++,y},f=function(p,y){var g=p.prev,E=p.next;return g!==null?g.next=E:y.head=E,E!==null?E.prev=g:y.tail=g,p.prev=p.next=null,y.length--,p},c=function(){function h(p){var y=this;o(this,h),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(g){return y.push(g)})}return i(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(y,g){return u(g.prev,l(y),g,this)}},{key:"insertAfter",value:function(y,g){return u(g,l(y),g.next,this)}},{key:"insertNodeBefore",value:function(y,g){return u(g.prev,y,g,this)}},{key:"insertNodeAfter",value:function(y,g){return u(g,y,g.next,this)}},{key:"push",value:function(y){return u(this.tail,l(y),null,this)}},{key:"unshift",value:function(y){return u(null,l(y),this.head,this)}},{key:"remove",value:function(y){return f(y,this)}},{key:"pop",value:function(){return f(this.tail,this).value}},{key:"popNode",value:function(){return f(this.tail,this)}},{key:"shift",value:function(){return f(this.head,this).value}},{key:"shiftNode",value:function(){return f(this.head,this)}},{key:"get_object_at",value:function(y){if(y<=this.length()){for(var g=1,E=this.head;g<y;)E=E.next,g++;return E.value}}},{key:"set_object_at",value:function(y,g){if(y<=this.length()){for(var E=1,x=this.head;E<y;)x=x.next,E++;x.value=g}}}]),h}();r.exports=c},function(r,n,a){function i(o,l,u){this.x=null,this.y=null,o==null&&l==null&&u==null?(this.x=0,this.y=0):typeof o=="number"&&typeof l=="number"&&u==null?(this.x=o,this.y=l):o.constructor.name=="Point"&&l==null&&u==null&&(u=o,this.x=u.x,this.y=u.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(o,l,u){o.constructor.name=="Point"&&l==null&&u==null?(u=o,this.setLocation(u.x,u.y)):typeof o=="number"&&typeof l=="number"&&u==null&&(parseInt(o)==o&&parseInt(l)==l?this.move(o,l):(this.x=Math.floor(o+.5),this.y=Math.floor(l+.5)))},i.prototype.move=function(o,l){this.x=o,this.y=l},i.prototype.translate=function(o,l){this.x+=o,this.y+=l},i.prototype.equals=function(o){if(o.constructor.name=="Point"){var l=o;return this.x==l.x&&this.y==l.y}return this==o},i.prototype.toString=function(){return new i().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=i},function(r,n,a){function i(o,l,u,f){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&l!=null&&u!=null&&f!=null&&(this.x=o,this.y=l,this.width=u,this.height=f)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(o){this.x=o},i.prototype.getY=function(){return this.y},i.prototype.setY=function(o){this.y=o},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},r.exports=i},function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function o(){}o.lastID=0,o.createID=function(l){return o.isPrimitive(l)?l:(l.uniqueID!=null||(l.uniqueID=o.getString(),o.lastID++),l.uniqueID)},o.getString=function(l){return l==null&&(l=o.lastID),"Object#"+l},o.isPrimitive=function(l){var u=typeof l>"u"?"undefined":i(l);return l==null||u!="object"&&u!="function"},r.exports=o},function(r,n,a){function i(E){if(Array.isArray(E)){for(var x=0,v=Array(E.length);x<E.length;x++)v[x]=E[x];return v}else return Array.from(E)}var o=a(0),l=a(7),u=a(3),f=a(1),c=a(6),h=a(5),p=a(17),y=a(29);function g(E){y.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new l(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,E!=null&&(this.isRemoteUse=E)}g.RANDOM_SEED=1,g.prototype=Object.create(y.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var E=new l(this);return this.graphManager=E,E},g.prototype.newGraph=function(E){return new c(null,this.graphManager,E)},g.prototype.newNode=function(E){return new u(this.graphManager,E)},g.prototype.newEdge=function(E){return new f(null,null,E)},g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var E;return this.checkLayoutSuccess()?E=!1:E=this.layout(),o.ANIMATE==="during"?!1:(E&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,E)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var E=this.graphManager.getAllEdges(),x=0;x<E.length;x++)E[x];for(var v=this.graphManager.getRoot().getNodes(),x=0;x<v.length;x++)v[x];this.update(this.graphManager.getRoot())}},g.prototype.update=function(E){if(E==null)this.update2();else if(E instanceof u){var x=E;if(x.getChild()!=null)for(var v=x.getChild().getNodes(),C=0;C<v.length;C++)update(v[C]);if(x.vGraphObject!=null){var w=x.vGraphObject;w.update(x)}}else if(E instanceof f){var T=E;if(T.vGraphObject!=null){var A=T.vGraphObject;A.update(T)}}else if(E instanceof c){var _=E;if(_.vGraphObject!=null){var D=_.vGraphObject;D.update(_)}}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(E){if(E==null)this.transform(new h(0,0));else{var x=new p,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){x.setWorldOrgX(E.x),x.setWorldOrgY(E.y),x.setDeviceOrgX(v.x),x.setDeviceOrgY(v.y);for(var C=this.getAllNodes(),w,T=0;T<C.length;T++)w=C[T],w.transform(x)}}},g.prototype.positionNodesRandomly=function(E){if(E==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var x,v,C=E.getNodes(),w=0;w<C.length;w++)x=C[w],v=x.getChild(),v==null||v.getNodes().length==0?x.scatter():(this.positionNodesRandomly(v),x.updateBounds())},g.prototype.getFlatForest=function(){for(var E=[],x=!0,v=this.graphManager.getRoot().getNodes(),C=!0,w=0;w<v.length;w++)v[w].getChild()!=null&&(C=!1);if(!C)return E;var T=new Set,A=[],_=new Map,D=[];for(D=D.concat(v);D.length>0&&x;){for(A.push(D[0]);A.length>0&&x;){var R=A[0];A.splice(0,1),T.add(R);for(var k=R.getEdges(),w=0;w<k.length;w++){var B=k[w].getOtherEnd(R);if(_.get(R)!=B)if(!T.has(B))A.push(B),_.set(B,R);else{x=!1;break}}}if(!x)E=[];else{var G=[].concat(i(T));E.push(G);for(var w=0;w<G.length;w++){var F=G[w],q=D.indexOf(F);q>-1&&D.splice(q,1)}T=new Set,_=new Map}}return E},g.prototype.createDummyNodesForBendpoints=function(E){for(var x=[],v=E.source,C=this.graphManager.calcLowestCommonAncestor(E.source,E.target),w=0;w<E.bendpoints.length;w++){var T=this.newNode(null);T.setRect(new Point(0,0),new Dimension(1,1)),C.add(T);var A=this.newEdge(null);this.graphManager.add(A,v,T),x.add(T),v=T}var A=this.newEdge(null);return this.graphManager.add(A,v,E.target),this.edgeToDummyNodes.set(E,x),E.isInterGraph()?this.graphManager.remove(E):C.remove(E),x},g.prototype.createBendpointsFromDummyNodes=function(){var E=[];E=E.concat(this.graphManager.getAllEdges()),E=[].concat(i(this.edgeToDummyNodes.keys())).concat(E);for(var x=0;x<E.length;x++){var v=E[x];if(v.bendpoints.length>0){for(var C=this.edgeToDummyNodes.get(v),w=0;w<C.length;w++){var T=C[w],A=new h(T.getCenterX(),T.getCenterY()),_=v.bendpoints.get(w);_.x=A.x,_.y=A.y,T.getOwner().remove(T)}this.graphManager.add(v,v.source,v.target)}}},g.transform=function(E,x,v,C){if(v!=null&&C!=null){var w=x;if(E<=50){var T=x/v;w-=(x-T)/50*(50-E)}else{var A=x*C;w+=(A-x)/50*(E-50)}return w}else{var _,D;return E<=50?(_=9*x/500,D=x/10):(_=9*x/50,D=-8*x),_*E+D}},g.findCenterOfTree=function(E){var x=[];x=x.concat(E);var v=[],C=new Map,w=!1,T=null;(x.length==1||x.length==2)&&(w=!0,T=x[0]);for(var A=0;A<x.length;A++){var _=x[A],D=_.getNeighborsList().size;C.set(_,_.getNeighborsList().size),D==1&&v.push(_)}var R=[];for(R=R.concat(v);!w;){var k=[];k=k.concat(R),R=[];for(var A=0;A<x.length;A++){var _=x[A],B=x.indexOf(_);B>=0&&x.splice(B,1);var G=_.getNeighborsList();G.forEach(function(M){if(v.indexOf(M)<0){var P=C.get(M),N=P-1;N==1&&R.push(M),C.set(M,N)}})}v=v.concat(R),(x.length==1||x.length==2)&&(w=!0,T=x[0])}return T},g.prototype.setGraphManager=function(E){this.graphManager=E},r.exports=g},function(r,n,a){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=Math.sin(i.seed++)*1e4,i.x-Math.floor(i.x)},r.exports=i},function(r,n,a){var i=a(5);function o(l,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(l){this.lworldOrgX=l},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(l){this.lworldOrgY=l},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(l){this.lworldExtX=l},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(l){this.lworldExtY=l},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(l){this.ldeviceOrgX=l},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(l){this.ldeviceOrgY=l},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(l){this.ldeviceExtX=l},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(l){this.ldeviceExtY=l},o.prototype.transformX=function(l){var u=0,f=this.lworldExtX;return f!=0&&(u=this.ldeviceOrgX+(l-this.lworldOrgX)*this.ldeviceExtX/f),u},o.prototype.transformY=function(l){var u=0,f=this.lworldExtY;return f!=0&&(u=this.ldeviceOrgY+(l-this.lworldOrgY)*this.ldeviceExtY/f),u},o.prototype.inverseTransformX=function(l){var u=0,f=this.ldeviceExtX;return f!=0&&(u=this.lworldOrgX+(l-this.ldeviceOrgX)*this.lworldExtX/f),u},o.prototype.inverseTransformY=function(l){var u=0,f=this.ldeviceExtY;return f!=0&&(u=this.lworldOrgY+(l-this.ldeviceOrgY)*this.lworldExtY/f),u},o.prototype.inverseTransformPoint=function(l){var u=new i(this.inverseTransformX(l.x),this.inverseTransformY(l.y));return u},r.exports=o},function(r,n,a){function i(y){if(Array.isArray(y)){for(var g=0,E=Array(y.length);g<y.length;g++)E[g]=y[g];return E}else return Array.from(y)}var o=a(15),l=a(4),u=a(0),f=a(8),c=a(9);function h(){o.call(this),this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=l.MAX_ITERATIONS}h.prototype=Object.create(o.prototype);for(var p in o)h[p]=o[p];h.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var y,g,E,x,v,C,w,T=this.getGraphManager().getAllEdges(),A=0;A<T.length;A++)y=T[A],g=y.idealLength,y.isInterGraph&&(x=y.getSource(),v=y.getTarget(),C=y.getSourceInLca().getEstimatedSize(),w=y.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(y.idealLength+=C+w-2*u.SIMPLE_NODE_SIZE),E=y.getLca().getInclusionTreeDepth(),y.idealLength+=g*l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(x.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*E))},h.prototype.initSpringEmbedder=function(){var y=this.getAllNodes().length;this.incremental?(y>l.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*l.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(y-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-l.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT_INCREMENTAL):(y>l.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(l.COOLING_ADAPTATION_FACTOR,1-(y-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*(1-l.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var y=this.getAllEdges(),g,E=0;E<y.length;E++)g=y[E],this.calcSpringForce(g,g.idealLength)},h.prototype.calcRepulsionForces=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E,x,v,C,w=this.getAllNodes(),T;if(this.useFRGridVariant)for(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&y&&this.updateGrid(),T=new Set,E=0;E<w.length;E++)v=w[E],this.calculateRepulsionForceOfANode(v,T,y,g),T.add(v);else for(E=0;E<w.length;E++)for(v=w[E],x=E+1;x<w.length;x++)C=w[x],v.getOwner()==C.getOwner()&&this.calcRepulsionForce(v,C)},h.prototype.calcGravitationalForces=function(){for(var y,g=this.getAllNodesToApplyGravitation(),E=0;E<g.length;E++)y=g[E],this.calcGravitationalForce(y)},h.prototype.moveNodes=function(){for(var y=this.getAllNodes(),g,E=0;E<y.length;E++)g=y[E],g.move()},h.prototype.calcSpringForce=function(y,g){var E=y.getSource(),x=y.getTarget(),v,C,w,T;if(this.uniformLeafNodeSizes&&E.getChild()==null&&x.getChild()==null)y.updateLengthSimple();else if(y.updateLength(),y.isOverlapingSourceAndTarget)return;v=y.getLength(),v!=0&&(C=y.edgeElasticity*(v-g),w=C*(y.lengthX/v),T=C*(y.lengthY/v),E.springForceX+=w,E.springForceY+=T,x.springForceX-=w,x.springForceY-=T)},h.prototype.calcRepulsionForce=function(y,g){var E=y.getRect(),x=g.getRect(),v=new Array(2),C=new Array(4),w,T,A,_,D,R,k;if(E.intersects(x)){f.calcSeparationAmount(E,x,v,l.DEFAULT_EDGE_LENGTH/2),R=2*v[0],k=2*v[1];var B=y.noOfChildren*g.noOfChildren/(y.noOfChildren+g.noOfChildren);y.repulsionForceX-=B*R,y.repulsionForceY-=B*k,g.repulsionForceX+=B*R,g.repulsionForceY+=B*k}else this.uniformLeafNodeSizes&&y.getChild()==null&&g.getChild()==null?(w=x.getCenterX()-E.getCenterX(),T=x.getCenterY()-E.getCenterY()):(f.getIntersection(E,x,C),w=C[2]-C[0],T=C[3]-C[1]),Math.abs(w)<l.MIN_REPULSION_DIST&&(w=c.sign(w)*l.MIN_REPULSION_DIST),Math.abs(T)<l.MIN_REPULSION_DIST&&(T=c.sign(T)*l.MIN_REPULSION_DIST),A=w*w+T*T,_=Math.sqrt(A),D=(y.nodeRepulsion/2+g.nodeRepulsion/2)*y.noOfChildren*g.noOfChildren/A,R=D*w/_,k=D*T/_,y.repulsionForceX-=R,y.repulsionForceY-=k,g.repulsionForceX+=R,g.repulsionForceY+=k},h.prototype.calcGravitationalForce=function(y){var g,E,x,v,C,w,T,A;g=y.getOwner(),E=(g.getRight()+g.getLeft())/2,x=(g.getTop()+g.getBottom())/2,v=y.getCenterX()-E,C=y.getCenterY()-x,w=Math.abs(v)+y.getWidth()/2,T=Math.abs(C)+y.getHeight()/2,y.getOwner()==this.graphManager.getRoot()?(A=g.getEstimatedSize()*this.gravityRangeFactor,(w>A||T>A)&&(y.gravitationForceX=-this.gravityConstant*v,y.gravitationForceY=-this.gravityConstant*C)):(A=g.getEstimatedSize()*this.compoundGravityRangeFactor,(w>A||T>A)&&(y.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,y.gravitationForceY=-this.gravityConstant*C*this.compoundGravityConstant))},h.prototype.isConverged=function(){var y,g=!1;return this.totalIterations>this.maxIterations/3&&(g=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),y=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,y||g},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var y,g=this.graphManager.getAllNodes(),E=0;E<g.length;E++)y=g[E],y.noOfChildren=y.getNoOfChildren()},h.prototype.calcGrid=function(y){var g=0,E=0;g=parseInt(Math.ceil((y.getRight()-y.getLeft())/this.repulsionRange)),E=parseInt(Math.ceil((y.getBottom()-y.getTop())/this.repulsionRange));for(var x=new Array(g),v=0;v<g;v++)x[v]=new Array(E);for(var v=0;v<g;v++)for(var C=0;C<E;C++)x[v][C]=new Array;return x},h.prototype.addNodeToGrid=function(y,g,E){var x=0,v=0,C=0,w=0;x=parseInt(Math.floor((y.getRect().x-g)/this.repulsionRange)),v=parseInt(Math.floor((y.getRect().width+y.getRect().x-g)/this.repulsionRange)),C=parseInt(Math.floor((y.getRect().y-E)/this.repulsionRange)),w=parseInt(Math.floor((y.getRect().height+y.getRect().y-E)/this.repulsionRange));for(var T=x;T<=v;T++)for(var A=C;A<=w;A++)this.grid[T][A].push(y),y.setGridCoordinates(x,v,C,w)},h.prototype.updateGrid=function(){var y,g,E=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),y=0;y<E.length;y++)g=E[y],this.addNodeToGrid(g,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(y,g,E,x){if(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&E||x){var v=new Set;y.surrounding=new Array;for(var C,w=this.grid,T=y.startX-1;T<y.finishX+2;T++)for(var A=y.startY-1;A<y.finishY+2;A++)if(!(T<0||A<0||T>=w.length||A>=w[0].length)){for(var _=0;_<w[T][A].length;_++)if(C=w[T][A][_],!(y.getOwner()!=C.getOwner()||y==C)&&!g.has(C)&&!v.has(C)){var D=Math.abs(y.getCenterX()-C.getCenterX())-(y.getWidth()/2+C.getWidth()/2),R=Math.abs(y.getCenterY()-C.getCenterY())-(y.getHeight()/2+C.getHeight()/2);D<=this.repulsionRange&&R<=this.repulsionRange&&v.add(C)}}y.surrounding=[].concat(i(v))}for(T=0;T<y.surrounding.length;T++)this.calcRepulsionForce(y,y.surrounding[T])},h.prototype.calcRepulsionRange=function(){return 0},r.exports=h},function(r,n,a){var i=a(1),o=a(4);function l(f,c,h){i.call(this,f,c,h),this.idealLength=o.DEFAULT_EDGE_LENGTH,this.edgeElasticity=o.DEFAULT_SPRING_STRENGTH}l.prototype=Object.create(i.prototype);for(var u in i)l[u]=i[u];r.exports=l},function(r,n,a){var i=a(3),o=a(4);function l(f,c,h,p){i.call(this,f,c,h,p),this.nodeRepulsion=o.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}l.prototype=Object.create(i.prototype);for(var u in i)l[u]=i[u];l.prototype.setGridCoordinates=function(f,c,h,p){this.startX=f,this.finishX=c,this.startY=h,this.finishY=p},r.exports=l},function(r,n,a){function i(o,l){this.width=0,this.height=0,o!==null&&l!==null&&(this.height=l,this.width=o)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},r.exports=i},function(r,n,a){var i=a(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(l,u){var f=i.createID(l);this.contains(f)||(this.map[f]=u,this.keys.push(l))},o.prototype.contains=function(l){return i.createID(l),this.map[l]!=null},o.prototype.get=function(l){var u=i.createID(l);return this.map[u]},o.prototype.keySet=function(){return this.keys},r.exports=o},function(r,n,a){var i=a(14);function o(){this.set={}}o.prototype.add=function(l){var u=i.createID(l);this.contains(u)||(this.set[u]=l)},o.prototype.remove=function(l){delete this.set[i.createID(l)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(l){return this.set[i.createID(l)]==l},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(l){for(var u=Object.keys(this.set),f=u.length,c=0;c<f;c++)l.push(this.set[u[c]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(l){for(var u=l.length,f=0;f<u;f++){var c=l[f];this.add(c)}},r.exports=o},function(r,n,a){function i(){}i.multMat=function(o,l){for(var u=[],f=0;f<o.length;f++){u[f]=[];for(var c=0;c<l[0].length;c++){u[f][c]=0;for(var h=0;h<o[0].length;h++)u[f][c]+=o[f][h]*l[h][c]}}return u},i.transpose=function(o){for(var l=[],u=0;u<o[0].length;u++){l[u]=[];for(var f=0;f<o.length;f++)l[u][f]=o[f][u]}return l},i.multCons=function(o,l){for(var u=[],f=0;f<o.length;f++)u[f]=o[f]*l;return u},i.minusOp=function(o,l){for(var u=[],f=0;f<o.length;f++)u[f]=o[f]-l[f];return u},i.dotProduct=function(o,l){for(var u=0,f=0;f<o.length;f++)u+=o[f]*l[f];return u},i.mag=function(o){return Math.sqrt(this.dotProduct(o,o))},i.normalize=function(o){for(var l=[],u=this.mag(o),f=0;f<o.length;f++)l[f]=o[f]/u;return l},i.multGamma=function(o){for(var l=[],u=0,f=0;f<o.length;f++)u+=o[f];u*=-1/o.length;for(var c=0;c<o.length;c++)l[c]=u+o[c];return l},i.multL=function(o,l,u){for(var f=[],c=[],h=[],p=0;p<l[0].length;p++){for(var y=0,g=0;g<l.length;g++)y+=-.5*l[g][p]*o[g];c[p]=y}for(var E=0;E<u.length;E++){for(var x=0,v=0;v<u.length;v++)x+=u[E][v]*c[v];h[E]=x}for(var C=0;C<l.length;C++){for(var w=0,T=0;T<l[0].length;T++)w+=l[C][T]*h[T];f[C]=w}return f},r.exports=i},function(r,n,a){var i=function(){function f(c,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}return function(c,h,p){return h&&f(c.prototype,h),p&&f(c,p),c}}();function o(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}var l=a(11),u=function(){function f(c,h){o(this,f),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;c instanceof l?p=c.size():p=c.length,this._quicksort(c,0,p-1)}return i(f,[{key:"_quicksort",value:function(h,p,y){if(p<y){var g=this._partition(h,p,y);this._quicksort(h,p,g),this._quicksort(h,g+1,y)}}},{key:"_partition",value:function(h,p,y){for(var g=this._get(h,p),E=p,x=y;;){for(;this.compareFunction(g,this._get(h,x));)x--;for(;this.compareFunction(this._get(h,E),g);)E++;if(E<x)this._swap(h,E,x),E++,x--;else return x}}},{key:"_get",value:function(h,p){return h instanceof l?h.get_object_at(p):h[p]}},{key:"_set",value:function(h,p,y){h instanceof l?h.set_object_at(p,y):h[p]=y}},{key:"_swap",value:function(h,p,y){var g=this._get(h,p);this._set(h,p,this._get(h,y)),this._set(h,y,g)}},{key:"_defaultCompareFunction",value:function(h,p){return p>h}}]),f}();r.exports=u},function(r,n,a){function i(){}i.svd=function(o){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=o.length,this.n=o[0].length;var l=Math.min(this.m,this.n);this.s=function(ct){for(var gt=[];ct-- >0;)gt.push(0);return gt}(Math.min(this.m+1,this.n)),this.U=function(ct){var gt=function Dt(Mt){if(Mt.length==0)return 0;for(var Kt=[],Lt=0;Lt<Mt[0];Lt++)Kt.push(Dt(Mt.slice(1)));return Kt};return gt(ct)}([this.m,l]),this.V=function(ct){var gt=function Dt(Mt){if(Mt.length==0)return 0;for(var Kt=[],Lt=0;Lt<Mt[0];Lt++)Kt.push(Dt(Mt.slice(1)));return Kt};return gt(ct)}([this.n,this.n]);for(var u=function(ct){for(var gt=[];ct-- >0;)gt.push(0);return gt}(this.n),f=function(ct){for(var gt=[];ct-- >0;)gt.push(0);return gt}(this.m),c=!0,h=Math.min(this.m-1,this.n),p=Math.max(0,Math.min(this.n-2,this.m)),y=0;y<Math.max(h,p);y++){if(y<h){this.s[y]=0;for(var g=y;g<this.m;g++)this.s[y]=i.hypot(this.s[y],o[g][y]);if(this.s[y]!==0){o[y][y]<0&&(this.s[y]=-this.s[y]);for(var E=y;E<this.m;E++)o[E][y]/=this.s[y];o[y][y]+=1}this.s[y]=-this.s[y]}for(var x=y+1;x<this.n;x++){if(function(ct,gt){return ct&&gt}(y<h,this.s[y]!==0)){for(var v=0,C=y;C<this.m;C++)v+=o[C][y]*o[C][x];v=-v/o[y][y];for(var w=y;w<this.m;w++)o[w][x]+=v*o[w][y]}u[x]=o[y][x]}if(function(ct,gt){return gt}(c,y<h))for(var T=y;T<this.m;T++)this.U[T][y]=o[T][y];if(y<p){u[y]=0;for(var A=y+1;A<this.n;A++)u[y]=i.hypot(u[y],u[A]);if(u[y]!==0){u[y+1]<0&&(u[y]=-u[y]);for(var _=y+1;_<this.n;_++)u[_]/=u[y];u[y+1]+=1}if(u[y]=-u[y],function(ct,gt){return ct&&gt}(y+1<this.m,u[y]!==0)){for(var D=y+1;D<this.m;D++)f[D]=0;for(var R=y+1;R<this.n;R++)for(var k=y+1;k<this.m;k++)f[k]+=u[R]*o[k][R];for(var B=y+1;B<this.n;B++)for(var G=-u[B]/u[y+1],F=y+1;F<this.m;F++)o[F][B]+=G*f[F]}for(var q=y+1;q<this.n;q++)this.V[q][y]=u[q]}}var M=Math.min(this.n,this.m+1);h<this.n&&(this.s[h]=o[h][h]),this.m<M&&(this.s[M-1]=0),p+1<M&&(u[p]=o[p][M-1]),u[M-1]=0;{for(var P=h;P<l;P++){for(var N=0;N<this.m;N++)this.U[N][P]=0;this.U[P][P]=1}for(var I=h-1;I>=0;I--)if(this.s[I]!==0){for(var z=I+1;z<l;z++){for(var ae=0,re=I;re<this.m;re++)ae+=this.U[re][I]*this.U[re][z];ae=-ae/this.U[I][I];for(var K=I;K<this.m;K++)this.U[K][z]+=ae*this.U[K][I]}for(var W=I;W<this.m;W++)this.U[W][I]=-this.U[W][I];this.U[I][I]=1+this.U[I][I];for(var Z=0;Z<I-1;Z++)this.U[Z][I]=0}else{for(var U=0;U<this.m;U++)this.U[U][I]=0;this.U[I][I]=1}}for(var V=this.n-1;V>=0;V--){if(function(ct,gt){return ct&&gt}(V<p,u[V]!==0))for(var Y=V+1;Y<l;Y++){for(var ee=0,oe=V+1;oe<this.n;oe++)ee+=this.V[oe][V]*this.V[oe][Y];ee=-ee/this.V[V+1][V];for(var te=V+1;te<this.n;te++)this.V[te][Y]+=ee*this.V[te][V]}for(var ie=0;ie<this.n;ie++)this.V[ie][V]=0;this.V[V][V]=1}for(var se=M-1,$=Math.pow(2,-52),ne=Math.pow(2,-966);M>0;){var le=void 0,Se=void 0;for(le=M-2;le>=-1&&le!==-1;le--)if(Math.abs(u[le])<=ne+$*(Math.abs(this.s[le])+Math.abs(this.s[le+1]))){u[le]=0;break}if(le===M-2)Se=4;else{var _e=void 0;for(_e=M-1;_e>=le&&_e!==le;_e--){var be=(_e!==M?Math.abs(u[_e]):0)+(_e!==le+1?Math.abs(u[_e-1]):0);if(Math.abs(this.s[_e])<=ne+$*be){this.s[_e]=0;break}}_e===le?Se=3:_e===M-1?Se=1:(Se=2,le=_e)}switch(le++,Se){case 1:{var Te=u[M-2];u[M-2]=0;for(var ve=M-2;ve>=le;ve--){var de=i.hypot(this.s[ve],Te),ye=this.s[ve]/de,Ce=Te/de;this.s[ve]=de,ve!==le&&(Te=-Ce*u[ve-1],u[ve-1]=ye*u[ve-1]);for(var ue=0;ue<this.n;ue++)de=ye*this.V[ue][ve]+Ce*this.V[ue][M-1],this.V[ue][M-1]=-Ce*this.V[ue][ve]+ye*this.V[ue][M-1],this.V[ue][ve]=de}}break;case 2:{var Ae=u[le-1];u[le-1]=0;for(var Pe=le;Pe<M;Pe++){var Fe=i.hypot(this.s[Pe],Ae),Ye=this.s[Pe]/Fe,We=Ae/Fe;this.s[Pe]=Fe,Ae=-We*u[Pe],u[Pe]=Ye*u[Pe];for(var Qe=0;Qe<this.m;Qe++)Fe=Ye*this.U[Qe][Pe]+We*this.U[Qe][le-1],this.U[Qe][le-1]=-We*this.U[Qe][Pe]+Ye*this.U[Qe][le-1],this.U[Qe][Pe]=Fe}}break;case 3:{var Xe=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[M-1]),Math.abs(this.s[M-2])),Math.abs(u[M-2])),Math.abs(this.s[le])),Math.abs(u[le])),Ve=this.s[M-1]/Xe,he=this.s[M-2]/Xe,j=u[M-2]/Xe,pe=this.s[le]/Xe,me=u[le]/Xe,we=((he+Ve)*(he-Ve)+j*j)/2,xe=Ve*j*(Ve*j),qe=0;(function(ct,gt){return ct||gt})(we!==0,xe!==0)&&(qe=Math.sqrt(we*we+xe),we<0&&(qe=-qe),qe=xe/(we+qe));for(var Ee=(pe+Ve)*(pe-Ve)+qe,Oe=pe*me,Ie=le;Ie<M-1;Ie++){var He=i.hypot(Ee,Oe),Ue=Ee/He,je=Oe/He;Ie!==le&&(u[Ie-1]=He),Ee=Ue*this.s[Ie]+je*u[Ie],u[Ie]=Ue*u[Ie]-je*this.s[Ie],Oe=je*this.s[Ie+1],this.s[Ie+1]=Ue*this.s[Ie+1];for(var Je=0;Je<this.n;Je++)He=Ue*this.V[Je][Ie]+je*this.V[Je][Ie+1],this.V[Je][Ie+1]=-je*this.V[Je][Ie]+Ue*this.V[Je][Ie+1],this.V[Je][Ie]=He;if(He=i.hypot(Ee,Oe),Ue=Ee/He,je=Oe/He,this.s[Ie]=He,Ee=Ue*u[Ie]+je*this.s[Ie+1],this.s[Ie+1]=-je*u[Ie]+Ue*this.s[Ie+1],Oe=je*u[Ie+1],u[Ie+1]=Ue*u[Ie+1],Ie<this.m-1)for(var Ge=0;Ge<this.m;Ge++)He=Ue*this.U[Ge][Ie]+je*this.U[Ge][Ie+1],this.U[Ge][Ie+1]=-je*this.U[Ge][Ie]+Ue*this.U[Ge][Ie+1],this.U[Ge][Ie]=He}u[M-2]=Ee}break;case 4:{if(this.s[le]<=0){this.s[le]=this.s[le]<0?-this.s[le]:0;for(var $e=0;$e<=se;$e++)this.V[$e][le]=-this.V[$e][le]}for(;le<se&&!(this.s[le]>=this.s[le+1]);){var vt=this.s[le];if(this.s[le]=this.s[le+1],this.s[le+1]=vt,le<this.n-1)for(var nt=0;nt<this.n;nt++)vt=this.V[nt][le+1],this.V[nt][le+1]=this.V[nt][le],this.V[nt][le]=vt;if(le<this.m-1)for(var it=0;it<this.m;it++)vt=this.U[it][le+1],this.U[it][le+1]=this.U[it][le],this.U[it][le]=vt;le++}M--}break}}var Et={U:this.U,V:this.V,S:this.s};return Et},i.hypot=function(o,l){var u=void 0;return Math.abs(o)>Math.abs(l)?(u=l/o,u=Math.abs(o)*Math.sqrt(1+u*u)):l!=0?(u=o/l,u=Math.abs(l)*Math.sqrt(1+u*u)):u=0,u},r.exports=i},function(r,n,a){var i=function(){function u(f,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,c,h){return c&&u(f.prototype,c),h&&u(f,h),f}}();function o(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(f,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,u),this.sequence1=f,this.sequence2=c,this.match_score=h,this.mismatch_penalty=p,this.gap_penalty=y,this.iMax=f.length+1,this.jMax=c.length+1,this.grid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.grid[g]=new Array(this.jMax);for(var E=0;E<this.jMax;E++)this.grid[g][E]=0}this.tracebackGrid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.tracebackGrid[x]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[x][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var y=1;y<this.jMax;y++){var g=void 0;this.sequence1[p-1]===this.sequence2[y-1]?g=this.grid[p-1][y-1]+this.match_score:g=this.grid[p-1][y-1]+this.mismatch_penalty;var E=this.grid[p-1][y]+this.gap_penalty,x=this.grid[p][y-1]+this.gap_penalty,v=[g,E,x],C=this.arrayAllMaxIndexes(v);this.grid[p][y]=v[C[0]],this.tracebackGrid[p][y]=[C.includes(0),C.includes(1),C.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var h=c[0],p=this.tracebackGrid[h.pos[0]][h.pos[1]];p[0]&&c.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),p[1]&&c.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),p[2]&&c.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),c.shift()}return this.alignments}},{key:"getAllIndexes",value:function(c,h){for(var p=[],y=-1;(y=c.indexOf(h,y+1))!==-1;)p.push(y);return p}},{key:"arrayAllMaxIndexes",value:function(c){return this.getAllIndexes(c,Math.max.apply(null,c))}}]),u}();r.exports=l},function(r,n,a){var i=function(){};i.FDLayout=a(18),i.FDLayoutConstants=a(4),i.FDLayoutEdge=a(19),i.FDLayoutNode=a(20),i.DimensionD=a(21),i.HashMap=a(22),i.HashSet=a(23),i.IGeometry=a(8),i.IMath=a(9),i.Integer=a(10),i.Point=a(12),i.PointD=a(5),i.RandomSeed=a(16),i.RectangleD=a(13),i.Transform=a(17),i.UniqueIDGeneretor=a(14),i.Quicksort=a(25),i.LinkedList=a(11),i.LGraphObject=a(2),i.LGraph=a(6),i.LEdge=a(1),i.LGraphManager=a(7),i.LNode=a(3),i.Layout=a(15),i.LayoutConstants=a(0),i.NeedlemanWunsch=a(27),i.Matrix=a(24),i.SVD=a(26),r.exports=i},function(r,n,a){function i(){this.listeners=[]}var o=i.prototype;o.addListener=function(l,u){this.listeners.push({event:l,callback:u})},o.removeListener=function(l,u){for(var f=this.listeners.length;f>=0;f--){var c=this.listeners[f];c.event===l&&c.callback===u&&this.listeners.splice(f,1)}},o.emit=function(l,u){for(var f=0;f<this.listeners.length;f++){var c=this.listeners[f];l===c.event&&c.callback(u)}},r.exports=i}])})}(If)),If.exports}var L4=Of.exports,JM;function _4(){return JM||(JM=1,function(t,e){(function(n,a){t.exports=a(A4())})(L4,function(r){return(()=>{var n={45:(l,u,f)=>{var c={};c.layoutBase=f(551),c.CoSEConstants=f(806),c.CoSEEdge=f(767),c.CoSEGraph=f(880),c.CoSEGraphManager=f(578),c.CoSELayout=f(765),c.CoSENode=f(991),c.ConstraintHandler=f(902),l.exports=c},806:(l,u,f)=>{var c=f(551).FDLayoutConstants;function h(){}for(var p in c)h[p]=c[p];h.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,h.DEFAULT_RADIAL_SEPARATION=c.DEFAULT_EDGE_LENGTH,h.DEFAULT_COMPONENT_SEPERATION=60,h.TILE=!0,h.TILING_PADDING_VERTICAL=10,h.TILING_PADDING_HORIZONTAL=10,h.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,h.ENFORCE_CONSTRAINTS=!0,h.APPLY_LAYOUT=!0,h.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,h.TREE_REDUCTION_ON_INCREMENTAL=!0,h.PURE_INCREMENTAL=h.DEFAULT_INCREMENTAL,l.exports=h},767:(l,u,f)=>{var c=f(551).FDLayoutEdge;function h(y,g,E){c.call(this,y,g,E)}h.prototype=Object.create(c.prototype);for(var p in c)h[p]=c[p];l.exports=h},880:(l,u,f)=>{var c=f(551).LGraph;function h(y,g,E){c.call(this,y,g,E)}h.prototype=Object.create(c.prototype);for(var p in c)h[p]=c[p];l.exports=h},578:(l,u,f)=>{var c=f(551).LGraphManager;function h(y){c.call(this,y)}h.prototype=Object.create(c.prototype);for(var p in c)h[p]=c[p];l.exports=h},765:(l,u,f)=>{var c=f(551).FDLayout,h=f(578),p=f(880),y=f(991),g=f(767),E=f(806),x=f(902),v=f(551).FDLayoutConstants,C=f(551).LayoutConstants,w=f(551).Point,T=f(551).PointD,A=f(551).DimensionD,_=f(551).Layout,D=f(551).Integer,R=f(551).IGeometry,k=f(551).LGraph,B=f(551).Transform,G=f(551).LinkedList;function F(){c.call(this),this.toBeTiled={},this.constraints={}}F.prototype=Object.create(c.prototype);for(var q in c)F[q]=c[q];F.prototype.newGraphManager=function(){var M=new h(this);return this.graphManager=M,M},F.prototype.newGraph=function(M){return new p(null,this.graphManager,M)},F.prototype.newNode=function(M){return new y(this.graphManager,M)},F.prototype.newEdge=function(M){return new g(null,null,M)},F.prototype.initParameters=function(){c.prototype.initParameters.call(this,arguments),this.isSubLayout||(E.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=E.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=E.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},F.prototype.initSpringEmbedder=function(){c.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},F.prototype.layout=function(){var M=C.DEFAULT_CREATE_BENDS_AS_NEEDED;return M&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},F.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(E.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var P=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(ae){return P.has(ae)});this.graphManager.setAllNodesToApplyGravitation(N)}}else{var M=this.getFlatForest();if(M.length>0)this.positionNodesRadially(M);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var P=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(I){return P.has(I)});this.graphManager.setAllNodesToApplyGravitation(N),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(x.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),E.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},F.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var M=new Set(this.getAllNodes()),P=this.nodesWithGravity.filter(function(z){return M.has(z)});this.graphManager.setAllNodesToApplyGravitation(P),this.graphManager.updateBounds(),this.updateGrid(),E.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),E.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var N=!this.isTreeGrowing&&!this.isGrowthFinished,I=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(N,I),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},F.prototype.getPositionsData=function(){for(var M=this.graphManager.getAllNodes(),P={},N=0;N<M.length;N++){var I=M[N].rect,z=M[N].id;P[z]={id:z,x:I.getCenterX(),y:I.getCenterY(),w:I.width,h:I.height}}return P},F.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var M=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!M;)M=this.tick();this.graphManager.updateBounds()}},F.prototype.moveNodes=function(){for(var M=this.getAllNodes(),P,N=0;N<M.length;N++)P=M[N],P.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var N=0;N<M.length;N++)P=M[N],P.move()},F.prototype.initConstraintVariables=function(){var M=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var P=this.graphManager.getAllNodes(),N=0;N<P.length;N++){var I=P[N];this.idToNodeMap.set(I.id,I)}var z=function te(ie){for(var se=ie.getChild().getNodes(),$,ne=0,le=0;le<se.length;le++)$=se[le],$.getChild()==null?M.fixedNodeSet.has($.id)&&(ne+=100):ne+=te($);return ne};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(se){M.fixedNodeSet.add(se.nodeId)});for(var P=this.graphManager.getAllNodes(),I,N=0;N<P.length;N++)if(I=P[N],I.getChild()!=null){var ae=z(I);ae>0&&(I.fixedNodeWeight=ae)}}if(this.constraints.relativePlacementConstraint){var re=new Map,K=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(te){M.fixedNodesOnHorizontal.add(te),M.fixedNodesOnVertical.add(te)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var W=this.constraints.alignmentConstraint.vertical,N=0;N<W.length;N++)this.dummyToNodeForVerticalAlignment.set("dummy"+N,[]),W[N].forEach(function(ie){re.set(ie,"dummy"+N),M.dummyToNodeForVerticalAlignment.get("dummy"+N).push(ie),M.fixedNodeSet.has(ie)&&M.fixedNodesOnHorizontal.add("dummy"+N)});if(this.constraints.alignmentConstraint.horizontal)for(var Z=this.constraints.alignmentConstraint.horizontal,N=0;N<Z.length;N++)this.dummyToNodeForHorizontalAlignment.set("dummy"+N,[]),Z[N].forEach(function(ie){K.set(ie,"dummy"+N),M.dummyToNodeForHorizontalAlignment.get("dummy"+N).push(ie),M.fixedNodeSet.has(ie)&&M.fixedNodesOnVertical.add("dummy"+N)})}if(E.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(te){var ie,se,$;for($=te.length-1;$>=2*te.length/3;$--)ie=Math.floor(Math.random()*($+1)),se=te[$],te[$]=te[ie],te[ie]=se;return te},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(te){if(te.left){var ie=re.has(te.left)?re.get(te.left):te.left,se=re.has(te.right)?re.get(te.right):te.right;M.nodesInRelativeHorizontal.includes(ie)||(M.nodesInRelativeHorizontal.push(ie),M.nodeToRelativeConstraintMapHorizontal.set(ie,[]),M.dummyToNodeForVerticalAlignment.has(ie)?M.nodeToTempPositionMapHorizontal.set(ie,M.idToNodeMap.get(M.dummyToNodeForVerticalAlignment.get(ie)[0]).getCenterX()):M.nodeToTempPositionMapHorizontal.set(ie,M.idToNodeMap.get(ie).getCenterX())),M.nodesInRelativeHorizontal.includes(se)||(M.nodesInRelativeHorizontal.push(se),M.nodeToRelativeConstraintMapHorizontal.set(se,[]),M.dummyToNodeForVerticalAlignment.has(se)?M.nodeToTempPositionMapHorizontal.set(se,M.idToNodeMap.get(M.dummyToNodeForVerticalAlignment.get(se)[0]).getCenterX()):M.nodeToTempPositionMapHorizontal.set(se,M.idToNodeMap.get(se).getCenterX())),M.nodeToRelativeConstraintMapHorizontal.get(ie).push({right:se,gap:te.gap}),M.nodeToRelativeConstraintMapHorizontal.get(se).push({left:ie,gap:te.gap})}else{var $=K.has(te.top)?K.get(te.top):te.top,ne=K.has(te.bottom)?K.get(te.bottom):te.bottom;M.nodesInRelativeVertical.includes($)||(M.nodesInRelativeVertical.push($),M.nodeToRelativeConstraintMapVertical.set($,[]),M.dummyToNodeForHorizontalAlignment.has($)?M.nodeToTempPositionMapVertical.set($,M.idToNodeMap.get(M.dummyToNodeForHorizontalAlignment.get($)[0]).getCenterY()):M.nodeToTempPositionMapVertical.set($,M.idToNodeMap.get($).getCenterY())),M.nodesInRelativeVertical.includes(ne)||(M.nodesInRelativeVertical.push(ne),M.nodeToRelativeConstraintMapVertical.set(ne,[]),M.dummyToNodeForHorizontalAlignment.has(ne)?M.nodeToTempPositionMapVertical.set(ne,M.idToNodeMap.get(M.dummyToNodeForHorizontalAlignment.get(ne)[0]).getCenterY()):M.nodeToTempPositionMapVertical.set(ne,M.idToNodeMap.get(ne).getCenterY())),M.nodeToRelativeConstraintMapVertical.get($).push({bottom:ne,gap:te.gap}),M.nodeToRelativeConstraintMapVertical.get(ne).push({top:$,gap:te.gap})}});else{var U=new Map,V=new Map;this.constraints.relativePlacementConstraint.forEach(function(te){if(te.left){var ie=re.has(te.left)?re.get(te.left):te.left,se=re.has(te.right)?re.get(te.right):te.right;U.has(ie)?U.get(ie).push(se):U.set(ie,[se]),U.has(se)?U.get(se).push(ie):U.set(se,[ie])}else{var $=K.has(te.top)?K.get(te.top):te.top,ne=K.has(te.bottom)?K.get(te.bottom):te.bottom;V.has($)?V.get($).push(ne):V.set($,[ne]),V.has(ne)?V.get(ne).push($):V.set(ne,[$])}});var Y=function(ie,se){var $=[],ne=[],le=new G,Se=new Set,_e=0;return ie.forEach(function(be,Te){if(!Se.has(Te)){$[_e]=[],ne[_e]=!1;var ve=Te;for(le.push(ve),Se.add(ve),$[_e].push(ve);le.length!=0;){ve=le.shift(),se.has(ve)&&(ne[_e]=!0);var de=ie.get(ve);de.forEach(function(ye){Se.has(ye)||(le.push(ye),Se.add(ye),$[_e].push(ye))})}_e++}}),{components:$,isFixed:ne}},ee=Y(U,M.fixedNodesOnHorizontal);this.componentsOnHorizontal=ee.components,this.fixedComponentsOnHorizontal=ee.isFixed;var oe=Y(V,M.fixedNodesOnVertical);this.componentsOnVertical=oe.components,this.fixedComponentsOnVertical=oe.isFixed}}},F.prototype.updateDisplacements=function(){var M=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(oe){var te=M.idToNodeMap.get(oe.nodeId);te.displacementX=0,te.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var P=this.constraints.alignmentConstraint.vertical,N=0;N<P.length;N++){for(var I=0,z=0;z<P[N].length;z++){if(this.fixedNodeSet.has(P[N][z])){I=0;break}I+=this.idToNodeMap.get(P[N][z]).displacementX}for(var ae=I/P[N].length,z=0;z<P[N].length;z++)this.idToNodeMap.get(P[N][z]).displacementX=ae}if(this.constraints.alignmentConstraint.horizontal)for(var re=this.constraints.alignmentConstraint.horizontal,N=0;N<re.length;N++){for(var K=0,z=0;z<re[N].length;z++){if(this.fixedNodeSet.has(re[N][z])){K=0;break}K+=this.idToNodeMap.get(re[N][z]).displacementY}for(var W=K/re[N].length,z=0;z<re[N].length;z++)this.idToNodeMap.get(re[N][z]).displacementY=W}}if(this.constraints.relativePlacementConstraint)if(E.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(oe){if(!M.fixedNodesOnHorizontal.has(oe)){var te=0;M.dummyToNodeForVerticalAlignment.has(oe)?te=M.idToNodeMap.get(M.dummyToNodeForVerticalAlignment.get(oe)[0]).displacementX:te=M.idToNodeMap.get(oe).displacementX,M.nodeToRelativeConstraintMapHorizontal.get(oe).forEach(function(ie){if(ie.right){var se=M.nodeToTempPositionMapHorizontal.get(ie.right)-M.nodeToTempPositionMapHorizontal.get(oe)-te;se<ie.gap&&(te-=ie.gap-se)}else{var se=M.nodeToTempPositionMapHorizontal.get(oe)-M.nodeToTempPositionMapHorizontal.get(ie.left)+te;se<ie.gap&&(te+=ie.gap-se)}}),M.nodeToTempPositionMapHorizontal.set(oe,M.nodeToTempPositionMapHorizontal.get(oe)+te),M.dummyToNodeForVerticalAlignment.has(oe)?M.dummyToNodeForVerticalAlignment.get(oe).forEach(function(ie){M.idToNodeMap.get(ie).displacementX=te}):M.idToNodeMap.get(oe).displacementX=te}}),this.nodesInRelativeVertical.forEach(function(oe){if(!M.fixedNodesOnHorizontal.has(oe)){var te=0;M.dummyToNodeForHorizontalAlignment.has(oe)?te=M.idToNodeMap.get(M.dummyToNodeForHorizontalAlignment.get(oe)[0]).displacementY:te=M.idToNodeMap.get(oe).displacementY,M.nodeToRelativeConstraintMapVertical.get(oe).forEach(function(ie){if(ie.bottom){var se=M.nodeToTempPositionMapVertical.get(ie.bottom)-M.nodeToTempPositionMapVertical.get(oe)-te;se<ie.gap&&(te-=ie.gap-se)}else{var se=M.nodeToTempPositionMapVertical.get(oe)-M.nodeToTempPositionMapVertical.get(ie.top)+te;se<ie.gap&&(te+=ie.gap-se)}}),M.nodeToTempPositionMapVertical.set(oe,M.nodeToTempPositionMapVertical.get(oe)+te),M.dummyToNodeForHorizontalAlignment.has(oe)?M.dummyToNodeForHorizontalAlignment.get(oe).forEach(function(ie){M.idToNodeMap.get(ie).displacementY=te}):M.idToNodeMap.get(oe).displacementY=te}});else{for(var N=0;N<this.componentsOnHorizontal.length;N++){var Z=this.componentsOnHorizontal[N];if(this.fixedComponentsOnHorizontal[N])for(var z=0;z<Z.length;z++)this.dummyToNodeForVerticalAlignment.has(Z[z])?this.dummyToNodeForVerticalAlignment.get(Z[z]).forEach(function(ie){M.idToNodeMap.get(ie).displacementX=0}):this.idToNodeMap.get(Z[z]).displacementX=0;else{for(var U=0,V=0,z=0;z<Z.length;z++)if(this.dummyToNodeForVerticalAlignment.has(Z[z])){var Y=this.dummyToNodeForVerticalAlignment.get(Z[z]);U+=Y.length*this.idToNodeMap.get(Y[0]).displacementX,V+=Y.length}else U+=this.idToNodeMap.get(Z[z]).displacementX,V++;for(var ee=U/V,z=0;z<Z.length;z++)this.dummyToNodeForVerticalAlignment.has(Z[z])?this.dummyToNodeForVerticalAlignment.get(Z[z]).forEach(function(ie){M.idToNodeMap.get(ie).displacementX=ee}):this.idToNodeMap.get(Z[z]).displacementX=ee}}for(var N=0;N<this.componentsOnVertical.length;N++){var Z=this.componentsOnVertical[N];if(this.fixedComponentsOnVertical[N])for(var z=0;z<Z.length;z++)this.dummyToNodeForHorizontalAlignment.has(Z[z])?this.dummyToNodeForHorizontalAlignment.get(Z[z]).forEach(function(se){M.idToNodeMap.get(se).displacementY=0}):this.idToNodeMap.get(Z[z]).displacementY=0;else{for(var U=0,V=0,z=0;z<Z.length;z++)if(this.dummyToNodeForHorizontalAlignment.has(Z[z])){var Y=this.dummyToNodeForHorizontalAlignment.get(Z[z]);U+=Y.length*this.idToNodeMap.get(Y[0]).displacementY,V+=Y.length}else U+=this.idToNodeMap.get(Z[z]).displacementY,V++;for(var ee=U/V,z=0;z<Z.length;z++)this.dummyToNodeForHorizontalAlignment.has(Z[z])?this.dummyToNodeForHorizontalAlignment.get(Z[z]).forEach(function(le){M.idToNodeMap.get(le).displacementY=ee}):this.idToNodeMap.get(Z[z]).displacementY=ee}}}},F.prototype.calculateNodesToApplyGravitationTo=function(){var M=[],P,N=this.graphManager.getGraphs(),I=N.length,z;for(z=0;z<I;z++)P=N[z],P.updateConnected(),P.isConnected||(M=M.concat(P.getNodes()));return M},F.prototype.createBendpoints=function(){var M=[];M=M.concat(this.graphManager.getAllEdges());var P=new Set,N;for(N=0;N<M.length;N++){var I=M[N];if(!P.has(I)){var z=I.getSource(),ae=I.getTarget();if(z==ae)I.getBendpoints().push(new T),I.getBendpoints().push(new T),this.createDummyNodesForBendpoints(I),P.add(I);else{var re=[];if(re=re.concat(z.getEdgeListToNode(ae)),re=re.concat(ae.getEdgeListToNode(z)),!P.has(re[0])){if(re.length>1){var K;for(K=0;K<re.length;K++){var W=re[K];W.getBendpoints().push(new T),this.createDummyNodesForBendpoints(W)}}re.forEach(function(Z){P.add(Z)})}}}if(P.size==M.length)break}},F.prototype.positionNodesRadially=function(M){for(var P=new w(0,0),N=Math.ceil(Math.sqrt(M.length)),I=0,z=0,ae=0,re=new T(0,0),K=0;K<M.length;K++){K%N==0&&(ae=0,z=I,K!=0&&(z+=E.DEFAULT_COMPONENT_SEPERATION),I=0);var W=M[K],Z=_.findCenterOfTree(W);P.x=ae,P.y=z,re=F.radialLayout(W,Z,P),re.y>I&&(I=Math.floor(re.y)),ae=Math.floor(re.x+E.DEFAULT_COMPONENT_SEPERATION)}this.transform(new T(C.WORLD_CENTER_X-re.x/2,C.WORLD_CENTER_Y-re.y/2))},F.radialLayout=function(M,P,N){var I=Math.max(this.maxDiagonalInTree(M),E.DEFAULT_RADIAL_SEPARATION);F.branchRadialLayout(P,null,0,359,0,I);var z=k.calculateBounds(M),ae=new B;ae.setDeviceOrgX(z.getMinX()),ae.setDeviceOrgY(z.getMinY()),ae.setWorldOrgX(N.x),ae.setWorldOrgY(N.y);for(var re=0;re<M.length;re++){var K=M[re];K.transform(ae)}var W=new T(z.getMaxX(),z.getMaxY());return ae.inverseTransformPoint(W)},F.branchRadialLayout=function(M,P,N,I,z,ae){var re=(I-N+1)/2;re<0&&(re+=180);var K=(re+N)%360,W=K*R.TWO_PI/360,Z=z*Math.cos(W),U=z*Math.sin(W);M.setCenter(Z,U);var V=[];V=V.concat(M.getEdges());var Y=V.length;P!=null&&Y--;for(var ee=0,oe=V.length,te,ie=M.getEdgesBetween(P);ie.length>1;){var se=ie[0];ie.splice(0,1);var $=V.indexOf(se);$>=0&&V.splice($,1),oe--,Y--}P!=null?te=(V.indexOf(ie[0])+1)%oe:te=0;for(var ne=Math.abs(I-N)/Y,le=te;ee!=Y;le=++le%oe){var Se=V[le].getOtherEnd(M);if(Se!=P){var _e=(N+ee*ne)%360,be=(_e+ne)%360;F.branchRadialLayout(Se,M,_e,be,z+ae,ae),ee++}}},F.maxDiagonalInTree=function(M){for(var P=D.MIN_VALUE,N=0;N<M.length;N++){var I=M[N],z=I.getDiagonal();z>P&&(P=z)}return P},F.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},F.prototype.groupZeroDegreeMembers=function(){var M=this,P={};this.memberGroups={},this.idToDummyNode={};for(var N=[],I=this.graphManager.getAllNodes(),z=0;z<I.length;z++){var ae=I[z],re=ae.getParent();this.getNodeDegreeWithChildren(ae)===0&&(re.id==null||!this.getToBeTiled(re))&&N.push(ae)}for(var z=0;z<N.length;z++){var ae=N[z],K=ae.getParent().id;typeof P[K]>"u"&&(P[K]=[]),P[K]=P[K].concat(ae)}Object.keys(P).forEach(function(W){if(P[W].length>1){var Z="DummyCompound_"+W;M.memberGroups[Z]=P[W];var U=P[W][0].getParent(),V=new y(M.graphManager);V.id=Z,V.paddingLeft=U.paddingLeft||0,V.paddingRight=U.paddingRight||0,V.paddingBottom=U.paddingBottom||0,V.paddingTop=U.paddingTop||0,M.idToDummyNode[Z]=V;var Y=M.getGraphManager().add(M.newGraph(),V),ee=U.getChild();ee.add(V);for(var oe=0;oe<P[W].length;oe++){var te=P[W][oe];ee.remove(te),Y.add(te)}}})},F.prototype.clearCompounds=function(){var M={},P={};this.performDFSOnCompounds();for(var N=0;N<this.compoundOrder.length;N++)P[this.compoundOrder[N].id]=this.compoundOrder[N],M[this.compoundOrder[N].id]=[].concat(this.compoundOrder[N].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[N].getChild()),this.compoundOrder[N].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(M,P)},F.prototype.clearZeroDegreeMembers=function(){var M=this,P=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(N){var I=M.idToDummyNode[N];if(P[N]=M.tileNodes(M.memberGroups[N],I.paddingLeft+I.paddingRight),I.rect.width=P[N].width,I.rect.height=P[N].height,I.setCenter(P[N].centerX,P[N].centerY),I.labelMarginLeft=0,I.labelMarginTop=0,E.NODE_DIMENSIONS_INCLUDE_LABELS){var z=I.rect.width,ae=I.rect.height;I.labelWidth&&(I.labelPosHorizontal=="left"?(I.rect.x-=I.labelWidth,I.setWidth(z+I.labelWidth),I.labelMarginLeft=I.labelWidth):I.labelPosHorizontal=="center"&&I.labelWidth>z?(I.rect.x-=(I.labelWidth-z)/2,I.setWidth(I.labelWidth),I.labelMarginLeft=(I.labelWidth-z)/2):I.labelPosHorizontal=="right"&&I.setWidth(z+I.labelWidth)),I.labelHeight&&(I.labelPosVertical=="top"?(I.rect.y-=I.labelHeight,I.setHeight(ae+I.labelHeight),I.labelMarginTop=I.labelHeight):I.labelPosVertical=="center"&&I.labelHeight>ae?(I.rect.y-=(I.labelHeight-ae)/2,I.setHeight(I.labelHeight),I.labelMarginTop=(I.labelHeight-ae)/2):I.labelPosVertical=="bottom"&&I.setHeight(ae+I.labelHeight))}})},F.prototype.repopulateCompounds=function(){for(var M=this.compoundOrder.length-1;M>=0;M--){var P=this.compoundOrder[M],N=P.id,I=P.paddingLeft,z=P.paddingTop,ae=P.labelMarginLeft,re=P.labelMarginTop;this.adjustLocations(this.tiledMemberPack[N],P.rect.x,P.rect.y,I,z,ae,re)}},F.prototype.repopulateZeroDegreeMembers=function(){var M=this,P=this.tiledZeroDegreePack;Object.keys(P).forEach(function(N){var I=M.idToDummyNode[N],z=I.paddingLeft,ae=I.paddingTop,re=I.labelMarginLeft,K=I.labelMarginTop;M.adjustLocations(P[N],I.rect.x,I.rect.y,z,ae,re,K)})},F.prototype.getToBeTiled=function(M){var P=M.id;if(this.toBeTiled[P]!=null)return this.toBeTiled[P];var N=M.getChild();if(N==null)return this.toBeTiled[P]=!1,!1;for(var I=N.getNodes(),z=0;z<I.length;z++){var ae=I[z];if(this.getNodeDegree(ae)>0)return this.toBeTiled[P]=!1,!1;if(ae.getChild()==null){this.toBeTiled[ae.id]=!1;continue}if(!this.getToBeTiled(ae))return this.toBeTiled[P]=!1,!1}return this.toBeTiled[P]=!0,!0},F.prototype.getNodeDegree=function(M){M.id;for(var P=M.getEdges(),N=0,I=0;I<P.length;I++){var z=P[I];z.getSource().id!==z.getTarget().id&&(N=N+1)}return N},F.prototype.getNodeDegreeWithChildren=function(M){var P=this.getNodeDegree(M);if(M.getChild()==null)return P;for(var N=M.getChild().getNodes(),I=0;I<N.length;I++){var z=N[I];P+=this.getNodeDegreeWithChildren(z)}return P},F.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},F.prototype.fillCompexOrderByDFS=function(M){for(var P=0;P<M.length;P++){var N=M[P];N.getChild()!=null&&this.fillCompexOrderByDFS(N.getChild().getNodes()),this.getToBeTiled(N)&&this.compoundOrder.push(N)}},F.prototype.adjustLocations=function(M,P,N,I,z,ae,re){P+=I+ae,N+=z+re;for(var K=P,W=0;W<M.rows.length;W++){var Z=M.rows[W];P=K;for(var U=0,V=0;V<Z.length;V++){var Y=Z[V];Y.rect.x=P,Y.rect.y=N,P+=Y.rect.width+M.horizontalPadding,Y.rect.height>U&&(U=Y.rect.height)}N+=U+M.verticalPadding}},F.prototype.tileCompoundMembers=function(M,P){var N=this;this.tiledMemberPack=[],Object.keys(M).forEach(function(I){var z=P[I];if(N.tiledMemberPack[I]=N.tileNodes(M[I],z.paddingLeft+z.paddingRight),z.rect.width=N.tiledMemberPack[I].width,z.rect.height=N.tiledMemberPack[I].height,z.setCenter(N.tiledMemberPack[I].centerX,N.tiledMemberPack[I].centerY),z.labelMarginLeft=0,z.labelMarginTop=0,E.NODE_DIMENSIONS_INCLUDE_LABELS){var ae=z.rect.width,re=z.rect.height;z.labelWidth&&(z.labelPosHorizontal=="left"?(z.rect.x-=z.labelWidth,z.setWidth(ae+z.labelWidth),z.labelMarginLeft=z.labelWidth):z.labelPosHorizontal=="center"&&z.labelWidth>ae?(z.rect.x-=(z.labelWidth-ae)/2,z.setWidth(z.labelWidth),z.labelMarginLeft=(z.labelWidth-ae)/2):z.labelPosHorizontal=="right"&&z.setWidth(ae+z.labelWidth)),z.labelHeight&&(z.labelPosVertical=="top"?(z.rect.y-=z.labelHeight,z.setHeight(re+z.labelHeight),z.labelMarginTop=z.labelHeight):z.labelPosVertical=="center"&&z.labelHeight>re?(z.rect.y-=(z.labelHeight-re)/2,z.setHeight(z.labelHeight),z.labelMarginTop=(z.labelHeight-re)/2):z.labelPosVertical=="bottom"&&z.setHeight(re+z.labelHeight))}})},F.prototype.tileNodes=function(M,P){var N=this.tileNodesByFavoringDim(M,P,!0),I=this.tileNodesByFavoringDim(M,P,!1),z=this.getOrgRatio(N),ae=this.getOrgRatio(I),re;return ae<z?re=I:re=N,re},F.prototype.getOrgRatio=function(M){var P=M.width,N=M.height,I=P/N;return I<1&&(I=1/I),I},F.prototype.calcIdealRowWidth=function(M,P){var N=E.TILING_PADDING_VERTICAL,I=E.TILING_PADDING_HORIZONTAL,z=M.length,ae=0,re=0,K=0;M.forEach(function(oe){ae+=oe.getWidth(),re+=oe.getHeight(),oe.getWidth()>K&&(K=oe.getWidth())});var W=ae/z,Z=re/z,U=Math.pow(N-I,2)+4*(W+I)*(Z+N)*z,V=(I-N+Math.sqrt(U))/(2*(W+I)),Y;P?(Y=Math.ceil(V),Y==V&&Y++):Y=Math.floor(V);var ee=Y*(W+I)-I;return K>ee&&(ee=K),ee+=I*2,ee},F.prototype.tileNodesByFavoringDim=function(M,P,N){var I=E.TILING_PADDING_VERTICAL,z=E.TILING_PADDING_HORIZONTAL,ae=E.TILING_COMPARE_BY,re={rows:[],rowWidth:[],rowHeight:[],width:0,height:P,verticalPadding:I,horizontalPadding:z,centerX:0,centerY:0};ae&&(re.idealRowWidth=this.calcIdealRowWidth(M,N));var K=function(te){return te.rect.width*te.rect.height},W=function(te,ie){return K(ie)-K(te)};M.sort(function(oe,te){var ie=W;return re.idealRowWidth?(ie=ae,ie(oe.id,te.id)):ie(oe,te)});for(var Z=0,U=0,V=0;V<M.length;V++){var Y=M[V];Z+=Y.getCenterX(),U+=Y.getCenterY()}re.centerX=Z/M.length,re.centerY=U/M.length;for(var V=0;V<M.length;V++){var Y=M[V];if(re.rows.length==0)this.insertNodeToRow(re,Y,0,P);else if(this.canAddHorizontal(re,Y.rect.width,Y.rect.height)){var ee=re.rows.length-1;re.idealRowWidth||(ee=this.getShortestRowIndex(re)),this.insertNodeToRow(re,Y,ee,P)}else this.insertNodeToRow(re,Y,re.rows.length,P);this.shiftToLastRow(re)}return re},F.prototype.insertNodeToRow=function(M,P,N,I){var z=I;if(N==M.rows.length){var ae=[];M.rows.push(ae),M.rowWidth.push(z),M.rowHeight.push(0)}var re=M.rowWidth[N]+P.rect.width;M.rows[N].length>0&&(re+=M.horizontalPadding),M.rowWidth[N]=re,M.width<re&&(M.width=re);var K=P.rect.height;N>0&&(K+=M.verticalPadding);var W=0;K>M.rowHeight[N]&&(W=M.rowHeight[N],M.rowHeight[N]=K,W=M.rowHeight[N]-W),M.height+=W,M.rows[N].push(P)},F.prototype.getShortestRowIndex=function(M){for(var P=-1,N=Number.MAX_VALUE,I=0;I<M.rows.length;I++)M.rowWidth[I]<N&&(P=I,N=M.rowWidth[I]);return P},F.prototype.getLongestRowIndex=function(M){for(var P=-1,N=Number.MIN_VALUE,I=0;I<M.rows.length;I++)M.rowWidth[I]>N&&(P=I,N=M.rowWidth[I]);return P},F.prototype.canAddHorizontal=function(M,P,N){if(M.idealRowWidth){var I=M.rows.length-1,z=M.rowWidth[I];return z+P+M.horizontalPadding<=M.idealRowWidth}var ae=this.getShortestRowIndex(M);if(ae<0)return!0;var re=M.rowWidth[ae];if(re+M.horizontalPadding+P<=M.width)return!0;var K=0;M.rowHeight[ae]<N&&ae>0&&(K=N+M.verticalPadding-M.rowHeight[ae]);var W;M.width-re>=P+M.horizontalPadding?W=(M.height+K)/(re+P+M.horizontalPadding):W=(M.height+K)/M.width,K=N+M.verticalPadding;var Z;return M.width<P?Z=(M.height+K)/P:Z=(M.height+K)/M.width,Z<1&&(Z=1/Z),W<1&&(W=1/W),W<Z},F.prototype.shiftToLastRow=function(M){var P=this.getLongestRowIndex(M),N=M.rowWidth.length-1,I=M.rows[P],z=I[I.length-1],ae=z.width+M.horizontalPadding;if(M.width-M.rowWidth[N]>ae&&P!=N){I.splice(-1,1),M.rows[N].push(z),M.rowWidth[P]=M.rowWidth[P]-ae,M.rowWidth[N]=M.rowWidth[N]+ae,M.width=M.rowWidth[instance.getLongestRowIndex(M)];for(var re=Number.MIN_VALUE,K=0;K<I.length;K++)I[K].height>re&&(re=I[K].height);P>0&&(re+=M.verticalPadding);var W=M.rowHeight[P]+M.rowHeight[N];M.rowHeight[P]=re,M.rowHeight[N]<z.height+M.verticalPadding&&(M.rowHeight[N]=z.height+M.verticalPadding);var Z=M.rowHeight[P]+M.rowHeight[N];M.height+=Z-W,this.shiftToLastRow(M)}},F.prototype.tilingPreLayout=function(){E.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},F.prototype.tilingPostLayout=function(){E.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},F.prototype.reduceTrees=function(){for(var M=[],P=!0,N;P;){var I=this.graphManager.getAllNodes(),z=[];P=!1;for(var ae=0;ae<I.length;ae++)if(N=I[ae],N.getEdges().length==1&&!N.getEdges()[0].isInterGraph&&N.getChild()==null){if(E.PURE_INCREMENTAL){var re=N.getEdges()[0].getOtherEnd(N),K=new A(N.getCenterX()-re.getCenterX(),N.getCenterY()-re.getCenterY());z.push([N,N.getEdges()[0],N.getOwner(),K])}else z.push([N,N.getEdges()[0],N.getOwner()]);P=!0}if(P==!0){for(var W=[],Z=0;Z<z.length;Z++)z[Z][0].getEdges().length==1&&(W.push(z[Z]),z[Z][0].getOwner().remove(z[Z][0]));M.push(W),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=M},F.prototype.growTree=function(M){for(var P=M.length,N=M[P-1],I,z=0;z<N.length;z++)I=N[z],this.findPlaceforPrunedNode(I),I[2].add(I[0]),I[2].add(I[1],I[1].source,I[1].target);M.splice(M.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},F.prototype.findPlaceforPrunedNode=function(M){var P,N,I=M[0];if(I==M[1].source?N=M[1].target:N=M[1].source,E.PURE_INCREMENTAL)I.setCenter(N.getCenterX()+M[3].getWidth(),N.getCenterY()+M[3].getHeight());else{var z=N.startX,ae=N.finishX,re=N.startY,K=N.finishY,W=0,Z=0,U=0,V=0,Y=[W,U,Z,V];if(re>0)for(var ee=z;ee<=ae;ee++)Y[0]+=this.grid[ee][re-1].length+this.grid[ee][re].length-1;if(ae<this.grid.length-1)for(var ee=re;ee<=K;ee++)Y[1]+=this.grid[ae+1][ee].length+this.grid[ae][ee].length-1;if(K<this.grid[0].length-1)for(var ee=z;ee<=ae;ee++)Y[2]+=this.grid[ee][K+1].length+this.grid[ee][K].length-1;if(z>0)for(var ee=re;ee<=K;ee++)Y[3]+=this.grid[z-1][ee].length+this.grid[z][ee].length-1;for(var oe=D.MAX_VALUE,te,ie,se=0;se<Y.length;se++)Y[se]<oe?(oe=Y[se],te=1,ie=se):Y[se]==oe&&te++;if(te==3&&oe==0)Y[0]==0&&Y[1]==0&&Y[2]==0?P=1:Y[0]==0&&Y[1]==0&&Y[3]==0?P=0:Y[0]==0&&Y[2]==0&&Y[3]==0?P=3:Y[1]==0&&Y[2]==0&&Y[3]==0&&(P=2);else if(te==2&&oe==0){var $=Math.floor(Math.random()*2);Y[0]==0&&Y[1]==0?$==0?P=0:P=1:Y[0]==0&&Y[2]==0?$==0?P=0:P=2:Y[0]==0&&Y[3]==0?$==0?P=0:P=3:Y[1]==0&&Y[2]==0?$==0?P=1:P=2:Y[1]==0&&Y[3]==0?$==0?P=1:P=3:$==0?P=2:P=3}else if(te==4&&oe==0){var $=Math.floor(Math.random()*4);P=$}else P=ie;P==0?I.setCenter(N.getCenterX(),N.getCenterY()-N.getHeight()/2-v.DEFAULT_EDGE_LENGTH-I.getHeight()/2):P==1?I.setCenter(N.getCenterX()+N.getWidth()/2+v.DEFAULT_EDGE_LENGTH+I.getWidth()/2,N.getCenterY()):P==2?I.setCenter(N.getCenterX(),N.getCenterY()+N.getHeight()/2+v.DEFAULT_EDGE_LENGTH+I.getHeight()/2):I.setCenter(N.getCenterX()-N.getWidth()/2-v.DEFAULT_EDGE_LENGTH-I.getWidth()/2,N.getCenterY())}},l.exports=F},991:(l,u,f)=>{var c=f(551).FDLayoutNode,h=f(551).IMath;function p(g,E,x,v){c.call(this,g,E,x,v)}p.prototype=Object.create(c.prototype);for(var y in c)p[y]=c[y];p.prototype.calculateDisplacement=function(){var g=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementX=g.coolingFactor*g.maxNodeDisplacement*h.sign(this.displacementX)),Math.abs(this.displacementY)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementY=g.coolingFactor*g.maxNodeDisplacement*h.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},p.prototype.propogateDisplacementToChildren=function(g,E){for(var x=this.getChild().getNodes(),v,C=0;C<x.length;C++)v=x[C],v.getChild()==null?(v.displacementX+=g,v.displacementY+=E):v.propogateDisplacementToChildren(g,E)},p.prototype.move=function(){var g=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),g.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},p.prototype.setPred1=function(g){this.pred1=g},p.prototype.getPred1=function(){return pred1},p.prototype.getPred2=function(){return pred2},p.prototype.setNext=function(g){this.next=g},p.prototype.getNext=function(){return next},p.prototype.setProcessed=function(g){this.processed=g},p.prototype.isProcessed=function(){return processed},l.exports=p},902:(l,u,f)=>{function c(x){if(Array.isArray(x)){for(var v=0,C=Array(x.length);v<x.length;v++)C[v]=x[v];return C}else return Array.from(x)}var h=f(806),p=f(551).LinkedList,y=f(551).Matrix,g=f(551).SVD;function E(){}E.handleConstraints=function(x){var v={};v.fixedNodeConstraint=x.constraints.fixedNodeConstraint,v.alignmentConstraint=x.constraints.alignmentConstraint,v.relativePlacementConstraint=x.constraints.relativePlacementConstraint;for(var C=new Map,w=new Map,T=[],A=[],_=x.getAllNodes(),D=0,R=0;R<_.length;R++){var k=_[R];k.getChild()==null&&(w.set(k.id,D++),T.push(k.getCenterX()),A.push(k.getCenterY()),C.set(k.id,k))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(he){!he.gap&&he.gap!=0&&(he.left?he.gap=h.DEFAULT_EDGE_LENGTH+C.get(he.left).getWidth()/2+C.get(he.right).getWidth()/2:he.gap=h.DEFAULT_EDGE_LENGTH+C.get(he.top).getHeight()/2+C.get(he.bottom).getHeight()/2)});var B=function(j,pe){return{x:j.x-pe.x,y:j.y-pe.y}},G=function(j){var pe=0,me=0;return j.forEach(function(we){pe+=T[w.get(we)],me+=A[w.get(we)]}),{x:pe/j.size,y:me/j.size}},F=function(j,pe,me,we,xe){function qe(Ge,$e){var vt=new Set(Ge),nt=!0,it=!1,Et=void 0;try{for(var ct=$e[Symbol.iterator](),gt;!(nt=(gt=ct.next()).done);nt=!0){var Dt=gt.value;vt.add(Dt)}}catch(Mt){it=!0,Et=Mt}finally{try{!nt&&ct.return&&ct.return()}finally{if(it)throw Et}}return vt}var Ee=new Map;j.forEach(function(Ge,$e){Ee.set($e,0)}),j.forEach(function(Ge,$e){Ge.forEach(function(vt){Ee.set(vt.id,Ee.get(vt.id)+1)})});var Oe=new Map,Ie=new Map,He=new p;Ee.forEach(function(Ge,$e){Ge==0?(He.push($e),me||(pe=="horizontal"?Oe.set($e,w.has($e)?T[w.get($e)]:we.get($e)):Oe.set($e,w.has($e)?A[w.get($e)]:we.get($e)))):Oe.set($e,Number.NEGATIVE_INFINITY),me&&Ie.set($e,new Set([$e]))}),me&&xe.forEach(function(Ge){var $e=[];if(Ge.forEach(function(it){me.has(it)&&$e.push(it)}),$e.length>0){var vt=0;$e.forEach(function(it){pe=="horizontal"?(Oe.set(it,w.has(it)?T[w.get(it)]:we.get(it)),vt+=Oe.get(it)):(Oe.set(it,w.has(it)?A[w.get(it)]:we.get(it)),vt+=Oe.get(it))}),vt=vt/$e.length,Ge.forEach(function(it){me.has(it)||Oe.set(it,vt)})}else{var nt=0;Ge.forEach(function(it){pe=="horizontal"?nt+=w.has(it)?T[w.get(it)]:we.get(it):nt+=w.has(it)?A[w.get(it)]:we.get(it)}),nt=nt/Ge.length,Ge.forEach(function(it){Oe.set(it,nt)})}});for(var Ue=function(){var $e=He.shift(),vt=j.get($e);vt.forEach(function(nt){if(Oe.get(nt.id)<Oe.get($e)+nt.gap)if(me&&me.has(nt.id)){var it=void 0;if(pe=="horizontal"?it=w.has(nt.id)?T[w.get(nt.id)]:we.get(nt.id):it=w.has(nt.id)?A[w.get(nt.id)]:we.get(nt.id),Oe.set(nt.id,it),it<Oe.get($e)+nt.gap){var Et=Oe.get($e)+nt.gap-it;Ie.get($e).forEach(function(ct){Oe.set(ct,Oe.get(ct)-Et)})}}else Oe.set(nt.id,Oe.get($e)+nt.gap);Ee.set(nt.id,Ee.get(nt.id)-1),Ee.get(nt.id)==0&&He.push(nt.id),me&&Ie.set(nt.id,qe(Ie.get($e),Ie.get(nt.id)))})};He.length!=0;)Ue();if(me){var je=new Set;j.forEach(function(Ge,$e){Ge.length==0&&je.add($e)});var Je=[];Ie.forEach(function(Ge,$e){if(je.has($e)){var vt=!1,nt=!0,it=!1,Et=void 0;try{for(var ct=Ge[Symbol.iterator](),gt;!(nt=(gt=ct.next()).done);nt=!0){var Dt=gt.value;me.has(Dt)&&(vt=!0)}}catch(Lt){it=!0,Et=Lt}finally{try{!nt&&ct.return&&ct.return()}finally{if(it)throw Et}}if(!vt){var Mt=!1,Kt=void 0;Je.forEach(function(Lt,Gt){Lt.has([].concat(c(Ge))[0])&&(Mt=!0,Kt=Gt)}),Mt?Ge.forEach(function(Lt){Je[Kt].add(Lt)}):Je.push(new Set(Ge))}}}),Je.forEach(function(Ge,$e){var vt=Number.POSITIVE_INFINITY,nt=Number.POSITIVE_INFINITY,it=Number.NEGATIVE_INFINITY,Et=Number.NEGATIVE_INFINITY,ct=!0,gt=!1,Dt=void 0;try{for(var Mt=Ge[Symbol.iterator](),Kt;!(ct=(Kt=Mt.next()).done);ct=!0){var Lt=Kt.value,Gt=void 0;pe=="horizontal"?Gt=w.has(Lt)?T[w.get(Lt)]:we.get(Lt):Gt=w.has(Lt)?A[w.get(Lt)]:we.get(Lt);var Sr=Oe.get(Lt);Gt<vt&&(vt=Gt),Gt>it&&(it=Gt),Sr<nt&&(nt=Sr),Sr>Et&&(Et=Sr)}}catch(gn){gt=!0,Dt=gn}finally{try{!ct&&Mt.return&&Mt.return()}finally{if(gt)throw Dt}}var on=(vt+it)/2-(nt+Et)/2,Rt=!0,er=!1,jt=void 0;try{for(var fr=Ge[Symbol.iterator](),tr;!(Rt=(tr=fr.next()).done);Rt=!0){var jr=tr.value;Oe.set(jr,Oe.get(jr)+on)}}catch(gn){er=!0,jt=gn}finally{try{!Rt&&fr.return&&fr.return()}finally{if(er)throw jt}}})}return Oe},q=function(j){var pe=0,me=0,we=0,xe=0;if(j.forEach(function(Ie){Ie.left?T[w.get(Ie.left)]-T[w.get(Ie.right)]>=0?pe++:me++:A[w.get(Ie.top)]-A[w.get(Ie.bottom)]>=0?we++:xe++}),pe>me&&we>xe)for(var qe=0;qe<w.size;qe++)T[qe]=-1*T[qe],A[qe]=-1*A[qe];else if(pe>me)for(var Ee=0;Ee<w.size;Ee++)T[Ee]=-1*T[Ee];else if(we>xe)for(var Oe=0;Oe<w.size;Oe++)A[Oe]=-1*A[Oe]},M=function(j){var pe=[],me=new p,we=new Set,xe=0;return j.forEach(function(qe,Ee){if(!we.has(Ee)){pe[xe]=[];var Oe=Ee;for(me.push(Oe),we.add(Oe),pe[xe].push(Oe);me.length!=0;){Oe=me.shift();var Ie=j.get(Oe);Ie.forEach(function(He){we.has(He.id)||(me.push(He.id),we.add(He.id),pe[xe].push(He.id))})}xe++}}),pe},P=function(j){var pe=new Map;return j.forEach(function(me,we){pe.set(we,[])}),j.forEach(function(me,we){me.forEach(function(xe){pe.get(we).push(xe),pe.get(xe.id).push({id:we,gap:xe.gap,direction:xe.direction})})}),pe},N=function(j){var pe=new Map;return j.forEach(function(me,we){pe.set(we,[])}),j.forEach(function(me,we){me.forEach(function(xe){pe.get(xe.id).push({id:we,gap:xe.gap,direction:xe.direction})})}),pe},I=[],z=[],ae=!1,re=!1,K=new Set,W=new Map,Z=new Map,U=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(he){K.add(he.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(he){he.left?(W.has(he.left)?W.get(he.left).push({id:he.right,gap:he.gap,direction:"horizontal"}):W.set(he.left,[{id:he.right,gap:he.gap,direction:"horizontal"}]),W.has(he.right)||W.set(he.right,[])):(W.has(he.top)?W.get(he.top).push({id:he.bottom,gap:he.gap,direction:"vertical"}):W.set(he.top,[{id:he.bottom,gap:he.gap,direction:"vertical"}]),W.has(he.bottom)||W.set(he.bottom,[]))}),Z=P(W),U=M(Z)),h.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(he,j){I[j]=[he.position.x,he.position.y],z[j]=[T[w.get(he.nodeId)],A[w.get(he.nodeId)]]}),ae=!0;else if(v.alignmentConstraint)(function(){var he=0;if(v.alignmentConstraint.vertical){for(var j=v.alignmentConstraint.vertical,pe=function(Oe){var Ie=new Set;j[Oe].forEach(function(je){Ie.add(je)});var He=new Set([].concat(c(Ie)).filter(function(je){return K.has(je)})),Ue=void 0;He.size>0?Ue=T[w.get(He.values().next().value)]:Ue=G(Ie).x,j[Oe].forEach(function(je){I[he]=[Ue,A[w.get(je)]],z[he]=[T[w.get(je)],A[w.get(je)]],he++})},me=0;me<j.length;me++)pe(me);ae=!0}if(v.alignmentConstraint.horizontal){for(var we=v.alignmentConstraint.horizontal,xe=function(Oe){var Ie=new Set;we[Oe].forEach(function(je){Ie.add(je)});var He=new Set([].concat(c(Ie)).filter(function(je){return K.has(je)})),Ue=void 0;He.size>0?Ue=T[w.get(He.values().next().value)]:Ue=G(Ie).y,we[Oe].forEach(function(je){I[he]=[T[w.get(je)],Ue],z[he]=[T[w.get(je)],A[w.get(je)]],he++})},qe=0;qe<we.length;qe++)xe(qe);ae=!0}v.relativePlacementConstraint&&(re=!0)})();else if(v.relativePlacementConstraint){for(var V=0,Y=0,ee=0;ee<U.length;ee++)U[ee].length>V&&(V=U[ee].length,Y=ee);if(V<Z.size/2)q(v.relativePlacementConstraint),ae=!1,re=!1;else{var oe=new Map,te=new Map,ie=[];U[Y].forEach(function(he){W.get(he).forEach(function(j){j.direction=="horizontal"?(oe.has(he)?oe.get(he).push(j):oe.set(he,[j]),oe.has(j.id)||oe.set(j.id,[]),ie.push({left:he,right:j.id})):(te.has(he)?te.get(he).push(j):te.set(he,[j]),te.has(j.id)||te.set(j.id,[]),ie.push({top:he,bottom:j.id}))})}),q(ie),re=!1;var se=F(oe,"horizontal"),$=F(te,"vertical");U[Y].forEach(function(he,j){z[j]=[T[w.get(he)],A[w.get(he)]],I[j]=[],se.has(he)?I[j][0]=se.get(he):I[j][0]=T[w.get(he)],$.has(he)?I[j][1]=$.get(he):I[j][1]=A[w.get(he)]}),ae=!0}}if(ae){for(var ne=void 0,le=y.transpose(I),Se=y.transpose(z),_e=0;_e<le.length;_e++)le[_e]=y.multGamma(le[_e]),Se[_e]=y.multGamma(Se[_e]);var be=y.multMat(le,y.transpose(Se)),Te=g.svd(be);ne=y.multMat(Te.V,y.transpose(Te.U));for(var ve=0;ve<w.size;ve++){var de=[T[ve],A[ve]],ye=[ne[0][0],ne[1][0]],Ce=[ne[0][1],ne[1][1]];T[ve]=y.dotProduct(de,ye),A[ve]=y.dotProduct(de,Ce)}re&&q(v.relativePlacementConstraint)}}if(h.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var ue={x:0,y:0};v.fixedNodeConstraint.forEach(function(he,j){var pe={x:T[w.get(he.nodeId)],y:A[w.get(he.nodeId)]},me=he.position,we=B(me,pe);ue.x+=we.x,ue.y+=we.y}),ue.x/=v.fixedNodeConstraint.length,ue.y/=v.fixedNodeConstraint.length,T.forEach(function(he,j){T[j]+=ue.x}),A.forEach(function(he,j){A[j]+=ue.y}),v.fixedNodeConstraint.forEach(function(he){T[w.get(he.nodeId)]=he.position.x,A[w.get(he.nodeId)]=he.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Ae=v.alignmentConstraint.vertical,Pe=function(j){var pe=new Set;Ae[j].forEach(function(xe){pe.add(xe)});var me=new Set([].concat(c(pe)).filter(function(xe){return K.has(xe)})),we=void 0;me.size>0?we=T[w.get(me.values().next().value)]:we=G(pe).x,pe.forEach(function(xe){K.has(xe)||(T[w.get(xe)]=we)})},Fe=0;Fe<Ae.length;Fe++)Pe(Fe);if(v.alignmentConstraint.horizontal)for(var Ye=v.alignmentConstraint.horizontal,We=function(j){var pe=new Set;Ye[j].forEach(function(xe){pe.add(xe)});var me=new Set([].concat(c(pe)).filter(function(xe){return K.has(xe)})),we=void 0;me.size>0?we=A[w.get(me.values().next().value)]:we=G(pe).y,pe.forEach(function(xe){K.has(xe)||(A[w.get(xe)]=we)})},Qe=0;Qe<Ye.length;Qe++)We(Qe)}v.relativePlacementConstraint&&function(){var he=new Map,j=new Map,pe=new Map,me=new Map,we=new Map,xe=new Map,qe=new Set,Ee=new Set;if(K.forEach(function(Pt){qe.add(Pt),Ee.add(Pt)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Oe=v.alignmentConstraint.vertical,Ie=function(Q){pe.set("dummy"+Q,[]),Oe[Q].forEach(function(fe){he.set(fe,"dummy"+Q),pe.get("dummy"+Q).push(fe),K.has(fe)&&qe.add("dummy"+Q)}),we.set("dummy"+Q,T[w.get(Oe[Q][0])])},He=0;He<Oe.length;He++)Ie(He);if(v.alignmentConstraint.horizontal)for(var Ue=v.alignmentConstraint.horizontal,je=function(Q){me.set("dummy"+Q,[]),Ue[Q].forEach(function(fe){j.set(fe,"dummy"+Q),me.get("dummy"+Q).push(fe),K.has(fe)&&Ee.add("dummy"+Q)}),xe.set("dummy"+Q,A[w.get(Ue[Q][0])])},Je=0;Je<Ue.length;Je++)je(Je)}var Ge=new Map,$e=new Map,vt=function(Q){W.get(Q).forEach(function(fe){var ke=void 0,ze=void 0;fe.direction=="horizontal"?(ke=he.get(Q)?he.get(Q):Q,he.get(fe.id)?ze={id:he.get(fe.id),gap:fe.gap,direction:fe.direction}:ze=fe,Ge.has(ke)?Ge.get(ke).push(ze):Ge.set(ke,[ze]),Ge.has(ze.id)||Ge.set(ze.id,[])):(ke=j.get(Q)?j.get(Q):Q,j.get(fe.id)?ze={id:j.get(fe.id),gap:fe.gap,direction:fe.direction}:ze=fe,$e.has(ke)?$e.get(ke).push(ze):$e.set(ke,[ze]),$e.has(ze.id)||$e.set(ze.id,[]))})},nt=!0,it=!1,Et=void 0;try{for(var ct=W.keys()[Symbol.iterator](),gt;!(nt=(gt=ct.next()).done);nt=!0){var Dt=gt.value;vt(Dt)}}catch(Pt){it=!0,Et=Pt}finally{try{!nt&&ct.return&&ct.return()}finally{if(it)throw Et}}var Mt=P(Ge),Kt=P($e),Lt=M(Mt),Gt=M(Kt),Sr=N(Ge),on=N($e),Rt=[],er=[];Lt.forEach(function(Pt,Q){Rt[Q]=[],Pt.forEach(function(fe){Sr.get(fe).length==0&&Rt[Q].push(fe)})}),Gt.forEach(function(Pt,Q){er[Q]=[],Pt.forEach(function(fe){on.get(fe).length==0&&er[Q].push(fe)})});var jt=F(Ge,"horizontal",qe,we,Rt),fr=F($e,"vertical",Ee,xe,er),tr=function(Q){pe.get(Q)?pe.get(Q).forEach(function(fe){T[w.get(fe)]=jt.get(Q)}):T[w.get(Q)]=jt.get(Q)},jr=!0,gn=!1,jn=void 0;try{for(var Ln=jt.keys()[Symbol.iterator](),Zn;!(jr=(Zn=Ln.next()).done);jr=!0){var sn=Zn.value;tr(sn)}}catch(Pt){gn=!0,jn=Pt}finally{try{!jr&&Ln.return&&Ln.return()}finally{if(gn)throw jn}}var Pa=function(Q){me.get(Q)?me.get(Q).forEach(function(fe){A[w.get(fe)]=fr.get(Q)}):A[w.get(Q)]=fr.get(Q)},Gn=!0,Ft=!1,ft=void 0;try{for(var Hr=fr.keys()[Symbol.iterator](),Qn;!(Gn=(Qn=Hr.next()).done);Gn=!0){var sn=Qn.value;Pa(sn)}}catch(Pt){Ft=!0,ft=Pt}finally{try{!Gn&&Hr.return&&Hr.return()}finally{if(Ft)throw ft}}}()}for(var Xe=0;Xe<_.length;Xe++){var Ve=_[Xe];Ve.getChild()==null&&Ve.setCenter(T[w.get(Ve.id)],A[w.get(Ve.id)])}},l.exports=E},551:l=>{l.exports=r}},a={};function i(l){var u=a[l];if(u!==void 0)return u.exports;var f=a[l]={exports:{}};return n[l](f,f.exports,i),f.exports}var o=i(45);return o})()})}(Of)),Of.exports}var D4=Nf.exports,eR;function M4(){return eR||(eR=1,function(t,e){(function(n,a){t.exports=a(_4())})(D4,function(r){return(()=>{var n={658:l=>{l.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var f=arguments.length,c=Array(f>1?f-1:0),h=1;h<f;h++)c[h-1]=arguments[h];return c.forEach(function(p){Object.keys(p).forEach(function(y){return u[y]=p[y]})}),u}},548:(l,u,f)=>{var c=function(){function y(g,E){var x=[],v=!0,C=!1,w=void 0;try{for(var T=g[Symbol.iterator](),A;!(v=(A=T.next()).done)&&(x.push(A.value),!(E&&x.length===E));v=!0);}catch(_){C=!0,w=_}finally{try{!v&&T.return&&T.return()}finally{if(C)throw w}}return x}return function(g,E){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return y(g,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=f(140).layoutBase.LinkedList,p={};p.getTopMostNodes=function(y){for(var g={},E=0;E<y.length;E++)g[y[E].id()]=!0;var x=y.filter(function(v,C){typeof v=="number"&&(v=C);for(var w=v.parent()[0];w!=null;){if(g[w.id()])return!1;w=w.parent()[0]}return!0});return x},p.connectComponents=function(y,g,E,x){var v=new h,C=new Set,w=[],T=void 0,A=void 0,_=void 0,D=!1,R=1,k=[],B=[],G=function(){var q=y.collection();B.push(q);var M=E[0],P=y.collection();P.merge(M).merge(M.descendants().intersection(g)),w.push(M),P.forEach(function(z){v.push(z),C.add(z),q.merge(z)});for(var N=function(){M=v.shift();var ae=y.collection();M.neighborhood().nodes().forEach(function(Z){g.intersection(M.edgesWith(Z)).length>0&&ae.merge(Z)});for(var re=0;re<ae.length;re++){var K=ae[re];if(T=E.intersection(K.union(K.ancestors())),T!=null&&!C.has(T[0])){var W=T.union(T.descendants());W.forEach(function(Z){v.push(Z),C.add(Z),q.merge(Z),E.has(Z)&&w.push(Z)})}}};v.length!=0;)N();if(q.forEach(function(z){g.intersection(z.connectedEdges()).forEach(function(ae){q.has(ae.source())&&q.has(ae.target())&&q.merge(ae)})}),w.length==E.length&&(D=!0),!D||D&&R>1){A=w[0],_=A.connectedEdges().length,w.forEach(function(z){z.connectedEdges().length<_&&(_=z.connectedEdges().length,A=z)}),k.push(A.id());var I=y.collection();I.merge(w[0]),w.forEach(function(z){I.merge(z)}),w=[],E=E.difference(I),R++}};do G();while(!D);return x&&k.length>0&&x.set("dummy"+(x.size+1),k),B},p.relocateComponent=function(y,g,E){if(!E.fixedNodeConstraint){var x=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,C=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY;if(E.quality=="draft"){var T=!0,A=!1,_=void 0;try{for(var D=g.nodeIndexes[Symbol.iterator](),R;!(T=(R=D.next()).done);T=!0){var k=R.value,B=c(k,2),G=B[0],F=B[1],q=E.cy.getElementById(G);if(q){var M=q.boundingBox(),P=g.xCoords[F]-M.w/2,N=g.xCoords[F]+M.w/2,I=g.yCoords[F]-M.h/2,z=g.yCoords[F]+M.h/2;P<x&&(x=P),N>v&&(v=N),I<C&&(C=I),z>w&&(w=z)}}}catch(Z){A=!0,_=Z}finally{try{!T&&D.return&&D.return()}finally{if(A)throw _}}var ae=y.x-(v+x)/2,re=y.y-(w+C)/2;g.xCoords=g.xCoords.map(function(Z){return Z+ae}),g.yCoords=g.yCoords.map(function(Z){return Z+re})}else{Object.keys(g).forEach(function(Z){var U=g[Z],V=U.getRect().x,Y=U.getRect().x+U.getRect().width,ee=U.getRect().y,oe=U.getRect().y+U.getRect().height;V<x&&(x=V),Y>v&&(v=Y),ee<C&&(C=ee),oe>w&&(w=oe)});var K=y.x-(v+x)/2,W=y.y-(w+C)/2;Object.keys(g).forEach(function(Z){var U=g[Z];U.setCenter(U.getCenterX()+K,U.getCenterY()+W)})}}},p.calcBoundingBox=function(y,g,E,x){for(var v=Number.MAX_SAFE_INTEGER,C=Number.MIN_SAFE_INTEGER,w=Number.MAX_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER,A=void 0,_=void 0,D=void 0,R=void 0,k=y.descendants().not(":parent"),B=k.length,G=0;G<B;G++){var F=k[G];A=g[x.get(F.id())]-F.width()/2,_=g[x.get(F.id())]+F.width()/2,D=E[x.get(F.id())]-F.height()/2,R=E[x.get(F.id())]+F.height()/2,v>A&&(v=A),C<_&&(C=_),w>D&&(w=D),T<R&&(T=R)}var q={};return q.topLeftX=v,q.topLeftY=w,q.width=C-v,q.height=T-w,q},p.calcParentsWithoutChildren=function(y,g){var E=y.collection();return g.nodes(":parent").forEach(function(x){var v=!1;x.children().forEach(function(C){C.css("display")!="none"&&(v=!0)}),v||E.merge(x)}),E},l.exports=p},816:(l,u,f)=>{var c=f(548),h=f(140).CoSELayout,p=f(140).CoSENode,y=f(140).layoutBase.PointD,g=f(140).layoutBase.DimensionD,E=f(140).layoutBase.LayoutConstants,x=f(140).layoutBase.FDLayoutConstants,v=f(140).CoSEConstants,C=function(T,A){var _=T.cy,D=T.eles,R=D.nodes(),k=D.edges(),B=void 0,G=void 0,F=void 0,q={};T.randomize&&(B=A.nodeIndexes,G=A.xCoords,F=A.yCoords);var M=function(Z){return typeof Z=="function"},P=function(Z,U){return M(Z)?Z(U):Z},N=c.calcParentsWithoutChildren(_,D),I=function W(Z,U,V,Y){for(var ee=U.length,oe=0;oe<ee;oe++){var te=U[oe],ie=null;te.intersection(N).length==0&&(ie=te.children());var se=void 0,$=te.layoutDimensions({nodeDimensionsIncludeLabels:Y.nodeDimensionsIncludeLabels});if(te.outerWidth()!=null&&te.outerHeight()!=null)if(Y.randomize)if(!te.isParent())se=Z.add(new p(V.graphManager,new y(G[B.get(te.id())]-$.w/2,F[B.get(te.id())]-$.h/2),new g(parseFloat($.w),parseFloat($.h))));else{var ne=c.calcBoundingBox(te,G,F,B);te.intersection(N).length==0?se=Z.add(new p(V.graphManager,new y(ne.topLeftX,ne.topLeftY),new g(ne.width,ne.height))):se=Z.add(new p(V.graphManager,new y(ne.topLeftX,ne.topLeftY),new g(parseFloat($.w),parseFloat($.h))))}else se=Z.add(new p(V.graphManager,new y(te.position("x")-$.w/2,te.position("y")-$.h/2),new g(parseFloat($.w),parseFloat($.h))));else se=Z.add(new p(this.graphManager));if(se.id=te.data("id"),se.nodeRepulsion=P(Y.nodeRepulsion,te),se.paddingLeft=parseInt(te.css("padding")),se.paddingTop=parseInt(te.css("padding")),se.paddingRight=parseInt(te.css("padding")),se.paddingBottom=parseInt(te.css("padding")),Y.nodeDimensionsIncludeLabels&&(se.labelWidth=te.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,se.labelHeight=te.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,se.labelPosVertical=te.css("text-valign"),se.labelPosHorizontal=te.css("text-halign")),q[te.data("id")]=se,isNaN(se.rect.x)&&(se.rect.x=0),isNaN(se.rect.y)&&(se.rect.y=0),ie!=null&&ie.length>0){var le=void 0;le=V.getGraphManager().add(V.newGraph(),se),W(le,ie,V,Y)}}},z=function(Z,U,V){for(var Y=0,ee=0,oe=0;oe<V.length;oe++){var te=V[oe],ie=q[te.data("source")],se=q[te.data("target")];if(ie&&se&&ie!==se&&ie.getEdgesBetween(se).length==0){var $=U.add(Z.newEdge(),ie,se);$.id=te.id(),$.idealLength=P(T.idealEdgeLength,te),$.edgeElasticity=P(T.edgeElasticity,te),Y+=$.idealLength,ee++}}T.idealEdgeLength!=null&&(ee>0?v.DEFAULT_EDGE_LENGTH=x.DEFAULT_EDGE_LENGTH=Y/ee:M(T.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=x.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=x.DEFAULT_EDGE_LENGTH=T.idealEdgeLength,v.MIN_REPULSION_DIST=x.MIN_REPULSION_DIST=x.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=x.DEFAULT_EDGE_LENGTH)},ae=function(Z,U){U.fixedNodeConstraint&&(Z.constraints.fixedNodeConstraint=U.fixedNodeConstraint),U.alignmentConstraint&&(Z.constraints.alignmentConstraint=U.alignmentConstraint),U.relativePlacementConstraint&&(Z.constraints.relativePlacementConstraint=U.relativePlacementConstraint)};T.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=T.nestingFactor),T.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=x.DEFAULT_GRAVITY_STRENGTH=T.gravity),T.numIter!=null&&(v.MAX_ITERATIONS=x.MAX_ITERATIONS=T.numIter),T.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=x.DEFAULT_GRAVITY_RANGE_FACTOR=T.gravityRange),T.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.DEFAULT_COMPOUND_GRAVITY_STRENGTH=T.gravityCompound),T.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=T.gravityRangeCompound),T.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.DEFAULT_COOLING_FACTOR_INCREMENTAL=T.initialEnergyOnIncremental),T.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=T.tilingCompareBy),T.quality=="proof"?E.QUALITY=2:E.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=x.NODE_DIMENSIONS_INCLUDE_LABELS=E.NODE_DIMENSIONS_INCLUDE_LABELS=T.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=x.DEFAULT_INCREMENTAL=E.DEFAULT_INCREMENTAL=!T.randomize,v.ANIMATE=x.ANIMATE=E.ANIMATE=T.animate,v.TILE=T.tile,v.TILING_PADDING_VERTICAL=typeof T.tilingPaddingVertical=="function"?T.tilingPaddingVertical.call():T.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof T.tilingPaddingHorizontal=="function"?T.tilingPaddingHorizontal.call():T.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=x.DEFAULT_INCREMENTAL=E.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!T.randomize,E.DEFAULT_UNIFORM_LEAF_NODE_SIZES=T.uniformNodeDimensions,T.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),T.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),T.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),T.step=="all"&&(T.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),T.fixedNodeConstraint||T.alignmentConstraint||T.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var re=new h,K=re.newGraphManager();return I(K.addRoot(),c.getTopMostNodes(R),re,T),z(re,K,k),ae(re,T),re.runLayout(),q};l.exports={coseLayout:C}},212:(l,u,f)=>{var c=function(){function T(A,_){for(var D=0;D<_.length;D++){var R=_[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(A,R.key,R)}}return function(A,_,D){return _&&T(A.prototype,_),D&&T(A,D),A}}();function h(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}var p=f(658),y=f(548),g=f(657),E=g.spectralLayout,x=f(816),v=x.coseLayout,C=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(A){return 4500},idealEdgeLength:function(A){return 50},edgeElasticity:function(A){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),w=function(){function T(A){h(this,T),this.options=p({},C,A)}return c(T,[{key:"run",value:function(){var _=this,D=this.options,R=D.cy,k=D.eles,B=[],G=[],F=void 0,q=[];D.fixedNodeConstraint&&(!Array.isArray(D.fixedNodeConstraint)||D.fixedNodeConstraint.length==0)&&(D.fixedNodeConstraint=void 0),D.alignmentConstraint&&(D.alignmentConstraint.vertical&&(!Array.isArray(D.alignmentConstraint.vertical)||D.alignmentConstraint.vertical.length==0)&&(D.alignmentConstraint.vertical=void 0),D.alignmentConstraint.horizontal&&(!Array.isArray(D.alignmentConstraint.horizontal)||D.alignmentConstraint.horizontal.length==0)&&(D.alignmentConstraint.horizontal=void 0)),D.relativePlacementConstraint&&(!Array.isArray(D.relativePlacementConstraint)||D.relativePlacementConstraint.length==0)&&(D.relativePlacementConstraint=void 0);var M=D.fixedNodeConstraint||D.alignmentConstraint||D.relativePlacementConstraint;M&&(D.tile=!1,D.packComponents=!1);var P=void 0,N=!1;if(R.layoutUtilities&&D.packComponents&&(P=R.layoutUtilities("get"),P||(P=R.layoutUtilities()),N=!0),k.nodes().length>0)if(N){var ae=y.getTopMostNodes(D.eles.nodes());if(F=y.connectComponents(R,D.eles,ae),F.forEach(function(be){var Te=be.boundingBox();q.push({x:Te.x1+Te.w/2,y:Te.y1+Te.h/2})}),D.randomize&&F.forEach(function(be){D.eles=be,B.push(E(D))}),D.quality=="default"||D.quality=="proof"){var re=R.collection();if(D.tile){var K=new Map,W=[],Z=[],U=0,V={nodeIndexes:K,xCoords:W,yCoords:Z},Y=[];if(F.forEach(function(be,Te){be.edges().length==0&&(be.nodes().forEach(function(ve,de){re.merge(be.nodes()[de]),ve.isParent()||(V.nodeIndexes.set(be.nodes()[de].id(),U++),V.xCoords.push(be.nodes()[0].position().x),V.yCoords.push(be.nodes()[0].position().y))}),Y.push(Te))}),re.length>1){var ee=re.boundingBox();q.push({x:ee.x1+ee.w/2,y:ee.y1+ee.h/2}),F.push(re),B.push(V);for(var oe=Y.length-1;oe>=0;oe--)F.splice(Y[oe],1),B.splice(Y[oe],1),q.splice(Y[oe],1)}}F.forEach(function(be,Te){D.eles=be,G.push(v(D,B[Te])),y.relocateComponent(q[Te],G[Te],D)})}else F.forEach(function(be,Te){y.relocateComponent(q[Te],B[Te],D)});var te=new Set;if(F.length>1){var ie=[],se=k.filter(function(be){return be.css("display")=="none"});F.forEach(function(be,Te){var ve=void 0;if(D.quality=="draft"&&(ve=B[Te].nodeIndexes),be.nodes().not(se).length>0){var de={};de.edges=[],de.nodes=[];var ye=void 0;be.nodes().not(se).forEach(function(Ce){if(D.quality=="draft")if(!Ce.isParent())ye=ve.get(Ce.id()),de.nodes.push({x:B[Te].xCoords[ye]-Ce.boundingbox().w/2,y:B[Te].yCoords[ye]-Ce.boundingbox().h/2,width:Ce.boundingbox().w,height:Ce.boundingbox().h});else{var ue=y.calcBoundingBox(Ce,B[Te].xCoords,B[Te].yCoords,ve);de.nodes.push({x:ue.topLeftX,y:ue.topLeftY,width:ue.width,height:ue.height})}else G[Te][Ce.id()]&&de.nodes.push({x:G[Te][Ce.id()].getLeft(),y:G[Te][Ce.id()].getTop(),width:G[Te][Ce.id()].getWidth(),height:G[Te][Ce.id()].getHeight()})}),be.edges().forEach(function(Ce){var ue=Ce.source(),Ae=Ce.target();if(ue.css("display")!="none"&&Ae.css("display")!="none")if(D.quality=="draft"){var Pe=ve.get(ue.id()),Fe=ve.get(Ae.id()),Ye=[],We=[];if(ue.isParent()){var Qe=y.calcBoundingBox(ue,B[Te].xCoords,B[Te].yCoords,ve);Ye.push(Qe.topLeftX+Qe.width/2),Ye.push(Qe.topLeftY+Qe.height/2)}else Ye.push(B[Te].xCoords[Pe]),Ye.push(B[Te].yCoords[Pe]);if(Ae.isParent()){var Xe=y.calcBoundingBox(Ae,B[Te].xCoords,B[Te].yCoords,ve);We.push(Xe.topLeftX+Xe.width/2),We.push(Xe.topLeftY+Xe.height/2)}else We.push(B[Te].xCoords[Fe]),We.push(B[Te].yCoords[Fe]);de.edges.push({startX:Ye[0],startY:Ye[1],endX:We[0],endY:We[1]})}else G[Te][ue.id()]&&G[Te][Ae.id()]&&de.edges.push({startX:G[Te][ue.id()].getCenterX(),startY:G[Te][ue.id()].getCenterY(),endX:G[Te][Ae.id()].getCenterX(),endY:G[Te][Ae.id()].getCenterY()})}),de.nodes.length>0&&(ie.push(de),te.add(Te))}});var $=P.packComponents(ie,D.randomize).shifts;if(D.quality=="draft")B.forEach(function(be,Te){var ve=be.xCoords.map(function(ye){return ye+$[Te].dx}),de=be.yCoords.map(function(ye){return ye+$[Te].dy});be.xCoords=ve,be.yCoords=de});else{var ne=0;te.forEach(function(be){Object.keys(G[be]).forEach(function(Te){var ve=G[be][Te];ve.setCenter(ve.getCenterX()+$[ne].dx,ve.getCenterY()+$[ne].dy)}),ne++})}}}else{var I=D.eles.boundingBox();if(q.push({x:I.x1+I.w/2,y:I.y1+I.h/2}),D.randomize){var z=E(D);B.push(z)}D.quality=="default"||D.quality=="proof"?(G.push(v(D,B[0])),y.relocateComponent(q[0],G[0],D)):y.relocateComponent(q[0],B[0],D)}var le=function(Te,ve){if(D.quality=="default"||D.quality=="proof"){typeof Te=="number"&&(Te=ve);var de=void 0,ye=void 0,Ce=Te.data("id");return G.forEach(function(Ae){Ce in Ae&&(de={x:Ae[Ce].getRect().getCenterX(),y:Ae[Ce].getRect().getCenterY()},ye=Ae[Ce])}),D.nodeDimensionsIncludeLabels&&(ye.labelWidth&&(ye.labelPosHorizontal=="left"?de.x+=ye.labelWidth/2:ye.labelPosHorizontal=="right"&&(de.x-=ye.labelWidth/2)),ye.labelHeight&&(ye.labelPosVertical=="top"?de.y+=ye.labelHeight/2:ye.labelPosVertical=="bottom"&&(de.y-=ye.labelHeight/2))),de==null&&(de={x:Te.position("x"),y:Te.position("y")}),{x:de.x,y:de.y}}else{var ue=void 0;return B.forEach(function(Ae){var Pe=Ae.nodeIndexes.get(Te.id());Pe!=null&&(ue={x:Ae.xCoords[Pe],y:Ae.yCoords[Pe]})}),ue==null&&(ue={x:Te.position("x"),y:Te.position("y")}),{x:ue.x,y:ue.y}}};if(D.quality=="default"||D.quality=="proof"||D.randomize){var Se=y.calcParentsWithoutChildren(R,k),_e=k.filter(function(be){return be.css("display")=="none"});D.eles=k.not(_e),k.nodes().not(":parent").not(_e).layoutPositions(_,D,le),Se.length>0&&Se.forEach(function(be){be.position(le(be))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),T}();l.exports=w},657:(l,u,f)=>{var c=f(548),h=f(140).layoutBase.Matrix,p=f(140).layoutBase.SVD,y=function(E){var x=E.cy,v=E.eles,C=v.nodes(),w=v.nodes(":parent"),T=new Map,A=new Map,_=new Map,D=[],R=[],k=[],B=[],G=[],F=[],q=[],M=[],P=void 0,N=1e8,I=1e-9,z=E.piTol,ae=E.samplingType,re=E.nodeSeparation,K=void 0,W=function(){for(var j=0,pe=0,me=!1;pe<K;){j=Math.floor(Math.random()*P),me=!1;for(var we=0;we<pe;we++)if(B[we]==j){me=!0;break}if(!me)B[pe]=j,pe++;else continue}},Z=function(j,pe,me){for(var we=[],xe=0,qe=0,Ee=0,Oe=void 0,Ie=[],He=0,Ue=1,je=0;je<P;je++)Ie[je]=N;for(we[qe]=j,Ie[j]=0;qe>=xe;){Ee=we[xe++];for(var Je=D[Ee],Ge=0;Ge<Je.length;Ge++)Oe=A.get(Je[Ge]),Ie[Oe]==N&&(Ie[Oe]=Ie[Ee]+1,we[++qe]=Oe);F[Ee][pe]=Ie[Ee]*re}if(me){for(var $e=0;$e<P;$e++)F[$e][pe]<G[$e]&&(G[$e]=F[$e][pe]);for(var vt=0;vt<P;vt++)G[vt]>He&&(He=G[vt],Ue=vt)}return Ue},U=function(j){var pe=void 0;if(j){pe=Math.floor(Math.random()*P);for(var we=0;we<P;we++)G[we]=N;for(var xe=0;xe<K;xe++)B[xe]=pe,pe=Z(pe,xe,j)}else{W();for(var me=0;me<K;me++)Z(B[me],me,j)}for(var qe=0;qe<P;qe++)for(var Ee=0;Ee<K;Ee++)F[qe][Ee]*=F[qe][Ee];for(var Oe=0;Oe<K;Oe++)q[Oe]=[];for(var Ie=0;Ie<K;Ie++)for(var He=0;He<K;He++)q[Ie][He]=F[B[He]][Ie]},V=function(){for(var j=p.svd(q),pe=j.S,me=j.U,we=j.V,xe=pe[0]*pe[0]*pe[0],qe=[],Ee=0;Ee<K;Ee++){qe[Ee]=[];for(var Oe=0;Oe<K;Oe++)qe[Ee][Oe]=0,Ee==Oe&&(qe[Ee][Oe]=pe[Ee]/(pe[Ee]*pe[Ee]+xe/(pe[Ee]*pe[Ee])))}M=h.multMat(h.multMat(we,qe),h.transpose(me))},Y=function(){for(var j=void 0,pe=void 0,me=[],we=[],xe=[],qe=[],Ee=0;Ee<P;Ee++)me[Ee]=Math.random(),we[Ee]=Math.random();me=h.normalize(me),we=h.normalize(we);for(var Oe=I,Ie=I,He=void 0;;){for(var Ue=0;Ue<P;Ue++)xe[Ue]=me[Ue];if(me=h.multGamma(h.multL(h.multGamma(xe),F,M)),j=h.dotProduct(xe,me),me=h.normalize(me),Oe=h.dotProduct(xe,me),He=Math.abs(Oe/Ie),He<=1+z&&He>=1)break;Ie=Oe}for(var je=0;je<P;je++)xe[je]=me[je];for(Ie=I;;){for(var Je=0;Je<P;Je++)qe[Je]=we[Je];if(qe=h.minusOp(qe,h.multCons(xe,h.dotProduct(xe,qe))),we=h.multGamma(h.multL(h.multGamma(qe),F,M)),pe=h.dotProduct(qe,we),we=h.normalize(we),Oe=h.dotProduct(qe,we),He=Math.abs(Oe/Ie),He<=1+z&&He>=1)break;Ie=Oe}for(var Ge=0;Ge<P;Ge++)qe[Ge]=we[Ge];R=h.multCons(xe,Math.sqrt(Math.abs(j))),k=h.multCons(qe,Math.sqrt(Math.abs(pe)))};c.connectComponents(x,v,c.getTopMostNodes(C),T),w.forEach(function(he){c.connectComponents(x,v,c.getTopMostNodes(he.descendants().intersection(v)),T)});for(var ee=0,oe=0;oe<C.length;oe++)C[oe].isParent()||A.set(C[oe].id(),ee++);var te=!0,ie=!1,se=void 0;try{for(var $=T.keys()[Symbol.iterator](),ne;!(te=(ne=$.next()).done);te=!0){var le=ne.value;A.set(le,ee++)}}catch(he){ie=!0,se=he}finally{try{!te&&$.return&&$.return()}finally{if(ie)throw se}}for(var Se=0;Se<A.size;Se++)D[Se]=[];w.forEach(function(he){for(var j=he.children().intersection(v);j.nodes(":childless").length==0;)j=j.nodes()[0].children().intersection(v);var pe=0,me=j.nodes(":childless")[0].connectedEdges().length;j.nodes(":childless").forEach(function(we,xe){we.connectedEdges().length<me&&(me=we.connectedEdges().length,pe=xe)}),_.set(he.id(),j.nodes(":childless")[pe].id())}),C.forEach(function(he){var j=void 0;he.isParent()?j=A.get(_.get(he.id())):j=A.get(he.id()),he.neighborhood().nodes().forEach(function(pe){v.intersection(he.edgesWith(pe)).length>0&&(pe.isParent()?D[j].push(_.get(pe.id())):D[j].push(pe.id()))})});var _e=function(j){var pe=A.get(j),me=void 0;T.get(j).forEach(function(we){x.getElementById(we).isParent()?me=_.get(we):me=we,D[pe].push(me),D[A.get(me)].push(j)})},be=!0,Te=!1,ve=void 0;try{for(var de=T.keys()[Symbol.iterator](),ye;!(be=(ye=de.next()).done);be=!0){var Ce=ye.value;_e(Ce)}}catch(he){Te=!0,ve=he}finally{try{!be&&de.return&&de.return()}finally{if(Te)throw ve}}P=A.size;var ue=void 0;if(P>2){K=P<E.sampleSize?P:E.sampleSize;for(var Ae=0;Ae<P;Ae++)F[Ae]=[];for(var Pe=0;Pe<K;Pe++)M[Pe]=[];return E.quality=="draft"||E.step=="all"?(U(ae),V(),Y(),ue={nodeIndexes:A,xCoords:R,yCoords:k}):(A.forEach(function(he,j){R.push(x.getElementById(j).position("x")),k.push(x.getElementById(j).position("y"))}),ue={nodeIndexes:A,xCoords:R,yCoords:k}),ue}else{var Fe=A.keys(),Ye=x.getElementById(Fe.next().value),We=Ye.position(),Qe=Ye.outerWidth();if(R.push(We.x),k.push(We.y),P==2){var Xe=x.getElementById(Fe.next().value),Ve=Xe.outerWidth();R.push(We.x+Qe/2+Ve/2+E.idealEdgeLength),k.push(We.y)}return ue={nodeIndexes:A,xCoords:R,yCoords:k},ue}};l.exports={spectralLayout:y}},579:(l,u,f)=>{var c=f(212),h=function(y){y&&y("layout","fcose",c)};typeof cytoscape<"u"&&h(cytoscape),l.exports=h},140:l=>{l.exports=r}},a={};function i(l){var u=a[l];if(u!==void 0)return u.exports;var f=a[l]={exports:{}};return n[l](f,f.exports,i),f.exports}var o=i(579);return o})()})}(Nf)),Nf.exports}var R4=M4();const P4=So(R4);var gb={exports:{}},tR;function k4(){return tR||(tR=1,function(t,e){(function(n,a){t.exports=a()})(self,function(){return(()=>{var r={658:o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(l){for(var u=arguments.length,f=new Array(u>1?u-1:0),c=1;c<u;c++)f[c-1]=arguments[c];return f.filter(function(h){return h!=null}).forEach(function(h){Object.keys(h).forEach(function(p){return l[p]=h[p]})}),l}},738:o=>{o.exports={grabbedNode:function(u){return!0},dropTarget:function(u,f){return!0},dropSibling:function(u,f){return!0},newParentNode:function(u,f){return{}},boundingBoxOptions:{includeOverlays:!1,includeLabels:!0},overThreshold:10,outThreshold:10}},904:(o,l,u)=>{var f=u(658),c=u(738),h=u(43),p=u(444),y=function(x,v){this.cy=x,this.options=f({},c,v),this.listeners=[],this.enabled=!0,this.addListeners()},g=function(){this.removeListeners()};[h,p,{destroy:g}].forEach(function(E){f(y.prototype,E)}),o.exports=function(E){var x=this;return new y(x,E)}},444:(o,l,u)=>{var f=u(235),c=f.isParent,h=f.isChild,p=f.isOnlyChild,y=f.getBounds,g=f.getBoundsTuple,E=f.boundsOverlap,x=f.expandBounds,v=f.getBoundsCopy,C=f.setParent,w=f.removeParent,T=function(R,k,B){this.listeners.push({event:R,selector:k,callback:B}),k==null?this.cy.on(R,B):this.cy.on(R,k,B)},A=function(){var R=this,k=this.options,B=this.cy,G=function(K){return K.selected()&&B.elements("node:selected").length>1},F=function(K){return!c(K)&&!G(K)&&k.grabbedNode(K)},q=function(K){return!h(K)&&!K.same(R.grabbedNode)&&k.dropTarget(K,R.grabbedNode)},M=function(K){return h(K)&&!K.same(R.grabbedNode)&&k.dropSibling(K,R.grabbedNode)},P=function(K){return h(K)},N=function(K){return g(K,k.boundingBoxOptions)},I=function(K){return(q(K)||M(K))&&!K.same(R.dropTarget)},z=function(){return R.boundsTuples=B.nodes(I).map(N)},ae=function(){R.grabbedNode.removeClass("cdnd-grabbed-node"),R.dropTarget.removeClass("cdnd-drop-target"),R.dropSibling.removeClass("cdnd-drop-sibling"),R.grabbedNode=B.collection(),R.dropTarget=B.collection(),R.dropSibling=B.collection(),R.dropTargetBounds=null,R.boundsTuples=[],R.inGesture=!1};this.addListener("grab","node",function(re){var K=re.target;!R.enabled||!F(K)||(R.inGesture=!0,R.grabbedNode=K,R.dropTarget=B.collection(),R.dropSibling=B.collection(),P(K)&&(R.dropTarget=K.parent(),R.dropTargetBounds=v(R.dropTarget,k.boundingBoxOptions)),z(),R.grabbedNode.addClass("cdnd-grabbed-node"),R.dropTarget.addClass("cdnd-drop-target"),K.emit("cdndgrab"))}),this.addListener("add","node",function(re){if(!(!R.inGesture||!R.enabled)){var K=re.target;I(K)&&R.boundsTuples.push(g(K,k.boundingBoxOptions))}}),this.addListener("remove","node",function(re){if(!(!R.inGesture||!R.enabled)){var K=re.target,W=K.same(R.dropTarget),Z=K.same(R.dropSibling),U=K.same(R.grabbedNode);(W||Z||U)&&(U?ae():(R.dropTarget=B.collection(),R.dropSibling=B.collection(),z()))}}),this.addListener("drag","node",function(){if(!(!R.inGesture||!R.enabled))if(R.dropTarget.nonempty()){var re=x(y(R.grabbedNode,k.boundingBoxOptions),k.outThreshold),K=R.dropTarget,W=R.dropSibling,Z=!E(R.dropTargetBounds,re),U=p(R.grabbedNode);if(Z){w(R.grabbedNode),w(R.dropSibling),R.dropTarget.removeClass("cdnd-drop-target"),R.dropSibling.removeClass("cdnd-drop-sibling");var V=R.dropTarget&&R.dropTarget.hasClass("cdnd-new-parent");(R.dropSibling.nonempty()||U)&&V&&R.dropTarget.remove(),R.dropTarget=B.collection(),R.dropSibling=B.collection(),R.dropTargetBounds=null,V&&z(),R.grabbedNode.emit("cdndout",[K,W])}}else{var Y=x(y(R.grabbedNode,k.boundingBoxOptions),k.overThreshold),ee=function(ne){return!ne.node.removed()&&E(Y,ne.bb)},oe=R.boundsTuples.filter(ee).map(function($){return $.node});if(oe.length>0){var te=oe.filter(c),ie,se;te.length>0?(se=B.collection(),ie=te[0]):(se=oe[0],ie=B.add(k.newParentNode(R.grabbedNode,se))),ie.addClass("cdnd-drop-target"),ie!==se&&ie.addClass("cdnd-new-parent"),se.addClass("cdnd-drop-sibling"),C(se,ie),R.dropTargetBounds=v(ie,k.boundingBoxOptions),C(R.grabbedNode,ie),R.dropTarget=ie,R.dropSibling=se,R.grabbedNode.emit("cdndover",[ie,se])}}}),this.addListener("free","node",function(){if(!(!R.inGesture||!R.enabled)){var re=R.grabbedNode,K=R.dropTarget,W=R.dropSibling;ae(),re.emit("cdnddrop",[K,W])}})},_=function(){var R=this.cy;this.listeners.forEach(function(k){var B=k.event,G=k.selector,F=k.callback;G==null?R.removeListener(B,F):R.removeListener(B,G,F)}),this.listeners=[]};o.exports={addListener:T,addListeners:A,removeListeners:_}},43:o=>{function l(){this.enabled=!0}function u(){this.enabled=!1}o.exports={enable:l,disable:u}},235:o=>{var l=function(w){return w.isParent()},u=function(w){return w.isChild()},f=function(w){return u(w)&&w.parent().children().length===1},c=function(w,T){return w.boundingBox(T)},h=function(w,T){return{node:w,bb:p(c(w,T))}},p=function(w){return{x1:w.x1,x2:w.x2,y1:w.y1,y2:w.y2,w:w.w,h:w.h}},y=function(w,T){return p(c(w,T))},g=function(w){return w.move({parent:null})},E=function(w,T){return w.move({parent:T.id()})},x=function(w,T){return!(w.x1>T.x2||T.x1>w.x2||w.x2<T.x1||T.x2<w.x1||w.y2<T.y1||T.y2<w.y1||w.y1>T.y2||T.y1>w.y2)},v=function(w,T){return{x1:w.x1-T,x2:w.x2+T,w:w.w+2*T,y1:w.y1-T,y2:w.y2+T,h:w.h+2*T}};o.exports={isParent:l,isChild:u,isOnlyChild:f,getBoundsTuple:h,boundsOverlap:x,getBounds:c,expandBounds:v,copyBounds:p,getBoundsCopy:y,removeParent:g,setParent:E}},579:(o,l,u)=>{var f=u(904),c=function(p){p&&p("core","compoundDragAndDrop",f)};typeof cytoscape<"u"&&c(cytoscape),o.exports=c}},n={};function a(o){var l=n[o];if(l!==void 0)return l.exports;var u=n[o]={exports:{}};return r[o](u,u.exports,a),u.exports}var i=a(579);return i})()})}(gb)),gb.exports}var N4=k4();const O4=So(N4);var yb={exports:{}},rR;function I4(){return rR||(rR=1,function(t,e){(function(r,n){t.exports=n()})(window,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(i,o,l){a.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:l})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,o){if(1&o&&(i=a(i)),8&o||4&o&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&o&&typeof i!="string")for(var u in i)a.d(l,u,(function(f){return i[f]}).bind(null,u));return l},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=0)}([function(r,n,a){var i=a(1),o=function(l){l&&l("core","svg",i.svg)};typeof cytoscape<"u"&&o(cytoscape),r.exports=o},function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o=a(2),l={},u={};u.number=function(f){return f!=null&&(f===void 0?"undefined":i(f))===i(1)&&!isNaN(f)},l.bufferCanvasImage=function(f,c){var h=c.renderer().usePaths;c.renderer().usePaths=function(){return!1},c.elements().forEach(function(G){G._private.rscratch.pathCacheKey=null,G._private.rscratch.pathCache=null});var p=c.renderer(),y=c.mutableElements().boundingBox(),g=p.findContainerClientCoords(),E=f.full?Math.ceil(y.w):g[2],x=f.full?Math.ceil(y.h):g[3],v=u.number(f.maxWidth)||u.number(f.maxHeight),C=p.getPixelRatio(),w=1;if(f.scale!==void 0)E*=f.scale,x*=f.scale,w=f.scale;else if(v){var T=1/0,A=1/0;u.number(f.maxWidth)&&(T=w*f.maxWidth/E),u.number(f.maxHeight)&&(A=w*f.maxHeight/x),E*=w=Math.min(T,A),x*=w}v||(E*=C,x*=C,w*=C);var _=null,D=_=new o(E,x);if(E>0&&x>0){_.clearRect(0,0,E,x),f.bg&&(_.globalCompositeOperation="destination-over",_.fillStyle=f.bg,_.fillRect(0,0,E,x)),_.globalCompositeOperation="source-over";var R=p.getCachedZSortedEles();if(f.full)_.translate(-y.x1*w,-y.y1*w),_.scale(w,w),p.drawElements(_,R),_.scale(1/w,1/w),_.translate(y.x1*w,y.y1*w);else{var k=c.pan(),B={x:k.x*w,y:k.y*w};w*=c.zoom(),_.translate(B.x,B.y),_.scale(w,w),p.drawElements(_,R),_.scale(1/w,1/w),_.translate(-B.x,-B.y)}}return c.renderer().usePaths=h,D},l.svg=function(f){return l.bufferCanvasImage(f||{},this).getSerializedSvg()},r.exports=l},function(r,n,a){(function(){var i,o,l,u,f;function c(g,E){var x,v=Object.keys(E);for(x=0;x<v.length;x++)g=g.replace(new RegExp("\\{"+v[x]+"\\}","gi"),E[v[x]]);return g}function h(g){var E,x,v;if(!g)throw new Error("cannot create a random attribute name for an undefined object");E="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",x="";do for(x="",v=0;v<12;v++)x+=E[Math.floor(Math.random()*E.length)];while(g[x]);return x}function p(g){var E={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return E[g]||E.alphabetic}f=function(g,E){var x,v,C,w={};for(g=g.split(","),E=E||10,x=0;x<g.length;x+=2)v="&"+g[x+1]+";",C=parseInt(g[x],E),w[v]="&#"+C+";";return w["\\xa0"]="&#160;",w}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),i={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(l=function(g,E){this.__root=g,this.__ctx=E}).prototype.addColorStop=function(g,E){var x,v=this.__ctx.__createElement("stop");v.setAttribute("offset",g),E.indexOf("rgba")!==-1?(x=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(E),v.setAttribute("stop-color",c("rgb({r},{g},{b})",{r:x[1],g:x[2],b:x[3]})),v.setAttribute("stop-opacity",x[4])):v.setAttribute("stop-color",E),this.__root.appendChild(v)},u=function(g,E){this.__root=g,this.__ctx=E},(o=function(g){var E,x={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((E=x).width=arguments[0],E.height=arguments[1]):E=g||x,!(this instanceof o))return new o(E);this.width=E.width||x.width,this.height=E.height||x.height,this.enableMirroring=E.enableMirroring!==void 0?E.enableMirroring:x.enableMirroring,this.canvas=this,this.__document=E.document||document,E.ctx?this.__ctx=E.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(g,E,x){E===void 0&&(E={});var v,C,w=this.__document.createElementNS("http://www.w3.org/2000/svg",g),T=Object.keys(E);for(x&&(w.setAttribute("fill","none"),w.setAttribute("stroke","none")),v=0;v<T.length;v++)C=T[v],w.setAttribute(C,E[C]);return w},o.prototype.__setDefaultStyles=function(){var g,E,x=Object.keys(i);for(g=0;g<x.length;g++)this[E=x[g]]=i[E].canvas},o.prototype.__applyStyleState=function(g){if(g){var E,x,v=Object.keys(g);for(E=0;E<v.length;E++)this[x=v[E]]=g[x]}},o.prototype.__getStyleState=function(){var g,E,x={},v=Object.keys(i);for(g=0;g<v.length;g++)x[E=v[g]]=this[E];return x},o.prototype.__applyStyleToCurrentElement=function(g){var E=this.__currentElement;this.__currentElementsToStyle;var x,v,C,w,T,A=Object.keys(i);for(x=0;x<A.length;x++)if(v=i[A[x]],C=this[A[x]],v.apply){if(C instanceof u){if(C.__ctx)for(;C.__ctx.__defs.childNodes.length;)w=C.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[w]=w,this.__defs.appendChild(C.__ctx.__defs.childNodes[0]);E.setAttribute(v.apply,c("url(#{id})",{id:C.__root.getAttribute("id")}))}else if(C instanceof l)E.setAttribute(v.apply,c("url(#{id})",{id:C.__root.getAttribute("id")}));else if(v.apply.indexOf(g)!==-1&&v.svg!==C)if(v.svgAttr!=="stroke"&&v.svgAttr!=="fill"||C.indexOf("rgba")===-1){var _=v.svgAttr;if(A[x]==="globalAlpha"&&(_=g+"-"+v.svgAttr,E.getAttribute(_)))continue;E.setAttribute(_,C)}else{T=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(C),E.setAttribute(v.svgAttr,c("rgb({r},{g},{b})",{r:T[1],g:T[2],b:T[3]}));var D=T[4],R=this.globalAlpha;R!=null&&(D*=R),E.setAttribute(v.svgAttr+"-opacity",D)}}},o.prototype.__closestGroupOrSvg=function(g){return(g=g||this.__currentElement).nodeName==="g"||g.nodeName==="svg"?g:this.__closestGroupOrSvg(g.parentNode)},o.prototype.getSerializedSvg=function(g){var E,x,v,C,w,T=new XMLSerializer().serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(T)&&(T=T.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),g)for(E=Object.keys(f),x=0;x<E.length;x++)v=E[x],C=f[v],(w=new RegExp(v,"gi")).test(T)&&(T=T.replace(w,C));return T},o.prototype.getSvg=function(){return this.__root},o.prototype.save=function(){var g=this.__createElement("g"),E=this.__closestGroupOrSvg();this.__groupStack.push(E),E.appendChild(g),this.__currentElement=g,this.__stack.push(this.__getStyleState())},o.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var g=this.__stack.pop();this.__applyStyleState(g)},o.prototype.__addTransform=function(g){var E=this.__closestGroupOrSvg();if(E.childNodes.length>0){this.__currentElement.nodeName==="path"&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:E,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var x=this.__createElement("g");E.appendChild(x),this.__currentElement=x}var v=this.__currentElement.getAttribute("transform");v?v+=" ":v="",v+=g,this.__currentElement.setAttribute("transform",v)},o.prototype.scale=function(g,E){E===void 0&&(E=g),this.__addTransform(c("scale({x},{y})",{x:g,y:E}))},o.prototype.rotate=function(g){var E=180*g/Math.PI;this.__addTransform(c("rotate({angle},{cx},{cy})",{angle:E,cx:0,cy:0}))},o.prototype.translate=function(g,E){this.__addTransform(c("translate({x},{y})",{x:g,y:E}))},o.prototype.transform=function(g,E,x,v,C,w){this.__addTransform(c("matrix({a},{b},{c},{d},{e},{f})",{a:g,b:E,c:x,d:v,e:C,f:w}))},o.prototype.beginPath=function(){var g;this.__currentDefaultPath="",this.__currentPosition={},g=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(g),this.__currentElement=g},o.prototype.__applyCurrentDefaultPath=function(){var g=this.__currentElement;g.nodeName==="path"?g.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",g.nodeName)},o.prototype.__addPathCommand=function(g){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=g},o.prototype.moveTo=function(g,E){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:g,y:E},this.__addPathCommand(c("M {x} {y}",{x:g,y:E}))},o.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},o.prototype.lineTo=function(g,E){this.__currentPosition={x:g,y:E},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(c("L {x} {y}",{x:g,y:E})):this.__addPathCommand(c("M {x} {y}",{x:g,y:E}))},o.prototype.bezierCurveTo=function(g,E,x,v,C,w){this.__currentPosition={x:C,y:w},this.__addPathCommand(c("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:g,cp1y:E,cp2x:x,cp2y:v,x:C,y:w}))},o.prototype.quadraticCurveTo=function(g,E,x,v){this.__currentPosition={x,y:v},this.__addPathCommand(c("Q {cpx} {cpy} {x} {y}",{cpx:g,cpy:E,x,y:v}))};var y=function(g){var E=Math.sqrt(g[0]*g[0]+g[1]*g[1]);return[g[0]/E,g[1]/E]};o.prototype.arcTo=function(g,E,x,v,C){var w=this.__currentPosition&&this.__currentPosition.x,T=this.__currentPosition&&this.__currentPosition.y;if(w!==void 0&&T!==void 0){if(C<0)throw new Error("IndexSizeError: The radius provided ("+C+") is negative.");if(w===g&&T===E||g===x&&E===v||C===0)this.lineTo(g,E);else{var A=y([w-g,T-E]),_=y([x-g,v-E]);if(A[0]*_[1]!=A[1]*_[0]){var D=A[0]*_[0]+A[1]*_[1],R=Math.acos(Math.abs(D)),k=y([A[0]+_[0],A[1]+_[1]]),B=C/Math.sin(R/2),G=g+B*k[0],F=E+B*k[1],q=[-A[1],A[0]],M=[_[1],-_[0]],P=function(z){var ae=z[0];return z[1]>=0?Math.acos(ae):-Math.acos(ae)},N=P(q),I=P(M);this.lineTo(G+q[0]*C,F+q[1]*C),this.arc(G,F,C,N,I)}else this.lineTo(g,E)}}},o.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},o.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},o.prototype.rect=function(g,E,x,v){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(g,E),this.lineTo(g+x,E),this.lineTo(g+x,E+v),this.lineTo(g,E+v),this.lineTo(g,E),this.closePath()},o.prototype.fillRect=function(g,E,x,v){var C;C=this.__createElement("rect",{x:g,y:E,width:x,height:v},!0),this.__closestGroupOrSvg().appendChild(C),this.__currentElement=C,this.__applyStyleToCurrentElement("fill")},o.prototype.strokeRect=function(g,E,x,v){var C;C=this.__createElement("rect",{x:g,y:E,width:x,height:v},!0),this.__closestGroupOrSvg().appendChild(C),this.__currentElement=C,this.__applyStyleToCurrentElement("stroke")},o.prototype.__clearCanvas=function(){for(var g=this.__closestGroupOrSvg().getAttribute("transform"),E=this.__root.childNodes[1],x=E.childNodes,v=x.length-1;v>=0;v--)x[v]&&E.removeChild(x[v]);this.__currentElement=E,this.__groupStack=[],g&&this.__addTransform(g)},o.prototype.clearRect=function(g,E,x,v){if(g!==0||E!==0||x!==this.width||v!==this.height){var C,w=this.__closestGroupOrSvg();C=this.__createElement("rect",{x:g,y:E,width:x,height:v,fill:"#FFFFFF"},!0),w.appendChild(C)}else this.__clearCanvas()},o.prototype.createLinearGradient=function(g,E,x,v){var C=this.__createElement("linearGradient",{id:h(this.__ids),x1:g+"px",x2:x+"px",y1:E+"px",y2:v+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(C),new l(C,this)},o.prototype.createRadialGradient=function(g,E,x,v,C,w){var T=this.__createElement("radialGradient",{id:h(this.__ids),cx:v+"px",cy:C+"px",r:w+"px",fx:g+"px",fy:E+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(T),new l(T,this)},o.prototype.__parseFont=function(){var g=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),E={style:g[1]||"normal",size:g[4]||"10px",family:g[6]||"sans-serif",weight:g[3]||"normal",decoration:g[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(E.decoration="underline"),this.__fontHref&&(E.href=this.__fontHref),E},o.prototype.__wrapTextLink=function(g,E){if(g.href){var x=this.__createElement("a");return x.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g.href),x.appendChild(E),x}return E},o.prototype.__applyText=function(g,E,x,v){var C,w,T=this.__parseFont(),A=this.__closestGroupOrSvg(),_=this.__createElement("text",{"font-family":T.family,"font-size":T.size,"font-style":T.style,"font-weight":T.weight,"text-decoration":T.decoration,x:E,y:x,"text-anchor":(C=this.textAlign,w={left:"start",right:"end",center:"middle",start:"start",end:"end"},w[C]||w.start),"dominant-baseline":p(this.textBaseline)},!0);_.appendChild(this.__document.createTextNode(g)),this.__currentElement=_,this.__applyStyleToCurrentElement(v),A.appendChild(this.__wrapTextLink(T,_))},o.prototype.fillText=function(g,E,x){this.__applyText(g,E,x,"fill")},o.prototype.strokeText=function(g,E,x){this.__applyText(g,E,x,"stroke")},o.prototype.measureText=function(g){return this.__ctx.font=this.font,this.__ctx.measureText(g)},o.prototype.arc=function(g,E,x,v,C,w){if(v!==C){(v%=2*Math.PI)===(C%=2*Math.PI)&&(C=(C+2*Math.PI-.001*(w?-1:1))%(2*Math.PI));var T=g+x*Math.cos(C),A=E+x*Math.sin(C),_=g+x*Math.cos(v),D=E+x*Math.sin(v),R=w?0:1,k=0,B=C-v;B<0&&(B+=2*Math.PI),k=w?B>Math.PI?0:1:B>Math.PI?1:0,this.lineTo(_,D),this.__addPathCommand(c("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:x,ry:x,xAxisRotation:0,largeArcFlag:k,sweepFlag:R,endX:T,endY:A})),this.__currentPosition={x:T,y:A}}},o.prototype.clip=function(){var g=this.__closestGroupOrSvg(),E=this.__createElement("clipPath"),x=h(this.__ids),v=this.__createElement("g");this.__applyCurrentDefaultPath(),g.removeChild(this.__currentElement),E.setAttribute("id",x),E.appendChild(this.__currentElement),this.__defs.appendChild(E),g.setAttribute("clip-path",c("url(#{id})",{id:x})),g.appendChild(v),this.__currentElement=v},o.prototype.drawImage=function(){var g,E,x,v,C,w,T,A,_,D,R,k,B,G=Array.prototype.slice.call(arguments),F=G[0],q=0,M=0;if(G.length===3)g=G[1],E=G[2],x=C=F.width,v=w=F.height;else if(G.length===5)g=G[1],E=G[2],x=G[3],v=G[4],C=F.width,w=F.height;else{if(G.length!==9)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);q=G[1],M=G[2],C=G[3],w=G[4],g=G[5],E=G[6],x=G[7],v=G[8]}T=this.__closestGroupOrSvg(),this.__currentElement;var P="translate("+g+", "+E+")";if(F instanceof o){if((A=F.getSvg().cloneNode(!0)).childNodes&&A.childNodes.length>1){for(_=A.childNodes[0];_.childNodes.length;)B=_.childNodes[0].getAttribute("id"),this.__ids[B]=B,this.__defs.appendChild(_.childNodes[0]);if(D=A.childNodes[1]){var N,I=D.getAttribute("transform");N=I?I+" "+P:P,D.setAttribute("transform",N),T.appendChild(D)}}}else F.nodeName!=="CANVAS"&&F.nodeName!=="IMG"||((R=this.__createElement("image")).setAttribute("width",x),R.setAttribute("height",v),R.setAttribute("opacity",this.globalAlpha),R.setAttribute("preserveAspectRatio","none"),(k=this.__document.createElement("canvas")).width=x,k.height=v,k.getContext("2d").drawImage(F,q,M,C,w,0,0,x,v),F=k,R.setAttribute("transform",P),R.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",F.nodeName==="CANVAS"?F.toDataURL():F.getAttribute("src")),T.appendChild(R))},o.prototype.createPattern=function(g,E){var x,v=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),C=h(this.__ids);return v.setAttribute("id",C),v.setAttribute("width",g.width),v.setAttribute("height",g.height),g.nodeName==="CANVAS"||g.nodeName==="IMG"?((x=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",g.width),x.setAttribute("height",g.height),x.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g.nodeName==="CANVAS"?g.toDataURL():g.getAttribute("src")),v.appendChild(x),this.__defs.appendChild(v)):g instanceof o&&(v.appendChild(g.__root.childNodes[1]),this.__defs.appendChild(v)),new u(v,this)},o.prototype.setLineDash=function(g){g&&g.length>0?this.lineDash=g.join(","):this.lineDash=null},o.prototype.drawFocusRing=function(){},o.prototype.createImageData=function(){},o.prototype.getImageData=function(){},o.prototype.putImageData=function(){},o.prototype.globalCompositeOperation=function(){},o.prototype.setTransform=function(){},typeof window=="object"&&(window.C2S=o),typeof r.exports=="object"&&(r.exports=o)})()}])})}(yb)),yb.exports}var F4=I4();const B4=So(F4);zn.use(tV);zn.use(iV);zn.use(T4);zn.use(P4);zn.use(O4);zn.use(B4);let ba=null;function iw(){return{initCytoscape:(n,a)=>(ba&&(ba.destroy(),ba=null),ba=zn({container:n,elements:a,style:[{selector:"node",style:{"background-color":"#e0e0e0","border-color":"#555","border-width":2,label:o=>{const l=o.data("name"),u=o.data("indices");return u?`${l}[${u}]`:l},"text-valign":"center","text-halign":"center",padding:"10px","font-size":"10px","text-wrap":"wrap","text-max-width":"80px",height:"60px",width:"60px","line-height":1.2,"border-style":"solid","z-index":10}},{selector:'node[nodeType="plate"]',style:{"background-color":"#f0f8ff","border-color":"#4682b4","border-style":"dashed",shape:"round-rectangle","corner-radius":"10px",label:o=>`for(${o.data("loopVariable")} in ${o.data("loopRange")})`}},{selector:":parent",style:{"text-valign":"top","text-halign":"center",padding:"15px","background-opacity":.2,"z-index":5}},{selector:'node[nodeType="stochastic"]',style:{"background-color":"#ffe0e0","border-color":"#dc3545",shape:"ellipse"}},{selector:'node[nodeType="deterministic"]',style:{"background-color":"#e0ffe0","border-color":"#28a745",shape:"triangle"}},{selector:'node[nodeType="constant"]',style:{"background-color":"#e9ecef","border-color":"#6c757d",shape:"rectangle"}},{selector:'node[nodeType="observed"]',style:{"background-color":"#e0f0ff","border-color":"#007bff","border-style":"dashed",shape:"ellipse"}},{selector:"node[?hasError]",style:{"border-color":"#ffc107","border-width":3,"border-style":"double"}},{selector:"edge",style:{width:3,"line-color":"#a0a0a0","target-arrow-color":"#a0a0a0","target-arrow-shape":"triangle","curve-style":"bezier","z-index":1}},{selector:"edge[name]",style:{label:"data(name)","font-size":"8px","text-rotation":"autorotate","text-background-opacity":1,"text-background-color":"#ffffff","text-background-padding":"3px","text-border-width":1,"text-border-color":"#ccc"}},{selector:'edge[relationshipType="stochastic"]',style:{"line-color":"#dc3545","target-arrow-color":"#dc3545","line-style":"dashed"}},{selector:'edge[relationshipType="deterministic"]',style:{"line-color":"#28a745","target-arrow-color":"#28a745","line-style":"solid"}},{selector:".cy-selected",style:{"border-width":3,"border-color":"#007acc","overlay-color":"#007acc","overlay-opacity":.2}},{selector:".cdnd-grabbed-node",style:{"background-color":"#f1c40f",opacity:.7}},{selector:".cdnd-drop-target",style:{"border-color":"#f1c40f","border-style":"solid"}}],layout:{name:"preset"},minZoom:.1,maxZoom:2,boxSelectionEnabled:!0,wheelSensitivity:.2,autounselectify:!1}),ba.compoundDragAndDrop({grabbedNode:o=>o.data("nodeType")!=="plate",dropTarget:o=>o.data("nodeType")==="plate",dropSibling:()=>!1,outThreshold:50}),ba.gridGuide({drawGrid:!1,snapToGridOnRelease:!0,snapToGridDuringDrag:!0,gridSpacing:20}),ba.contextMenus({menuItems:[{id:"remove",content:"Remove",selector:"node, edge",onClickFunction:o=>{var u;const l=o.target;(u=l.cy().container())==null||u.dispatchEvent(new CustomEvent("cxt-remove",{detail:{elementId:l.id()}}))}}]}),ba),destroyCytoscape:n=>{n&&(n.destroy(),ba=null)},getCyInstance:()=>ba}}function q4(t){const e=wt(!1),r=wt(20),n=zt(()=>`${r.value}px`),a=()=>{const u=t();if(u){const f=u.container();f&&(e.value&&r.value>0?(f.classList.add("grid-background"),f.style.setProperty("--grid-size",n.value)):(f.classList.remove("grid-background"),f.style.removeProperty("--grid-size")))}},i=()=>{e.value=!0,a()},o=()=>{e.value=!1,a()},l=u=>{r.value=u,e.value&&a()};return wr([e,r],a),{isGridEnabledRef:e,gridSizeRef:r,cssGridSize:n,enableGridSnapping:i,disableGridSnapping:o,setGridSize:l}}const z4=_r({__name:"GraphCanvas",props:{elements:{},isGridEnabled:{type:Boolean},gridSize:{},currentMode:{},validationErrors:{}},emits:["canvas-tap","node-moved","node-dropped","plate-emptied","element-remove"],setup(t,{emit:e}){const r=t,n=e,a=wt(null);let i=null;const{initCytoscape:o,destroyCytoscape:l,getCyInstance:u}=iw(),{enableGridSnapping:f,disableGridSnapping:c,setGridSize:h}=q4(u),p=["stochastic","deterministic","constant","observed","plate"],y=(g,E)=>g.map(x=>{if(x.type==="node"){const v=x,C=E.has(v.id);return{group:"nodes",data:{...v,hasError:C},position:v.position}}else{const v=x,C=g.find(T=>T.id===v.target&&T.type==="node"),w=(C==null?void 0:C.nodeType)==="stochastic"||(C==null?void 0:C.nodeType)==="observed"?"stochastic":"deterministic";return{group:"edges",data:{...v,relationshipType:w}}}});return La(()=>{var g;a.value&&(i=o(a.value,[]),h(r.gridSize),r.isGridEnabled?f():c(),(g=i.container())==null||g.addEventListener("cxt-remove",E=>{const x=E;x.detail.elementId&&n("element-remove",x.detail.elementId)}),i.on("tap",E=>{n("canvas-tap",E)}),i.on("cdnddrop","node",(E,x)=>{const v=E.target,C=x?x.id():void 0,w=r.elements.find(T=>T.id===v.id()&&T.type==="node");if(w&&w.parent&&w.parent!==C){const T=w.parent;r.elements.find(_=>_.id===T&&_.type==="node"&&_.nodeType==="plate")&&r.elements.filter(D=>D.type==="node"&&D.parent===T).length===1&&n("plate-emptied",T)}n("node-moved",{nodeId:v.id(),position:v.position(),parentId:C})}),i.on("tap","node, edge",E=>{i==null||i.elements().removeClass("cy-selected"),E.target.addClass("cy-selected")}),i.on("tap",E=>{E.target===i&&(i==null||i.elements().removeClass("cy-selected"))}),a.value.addEventListener("dragover",E=>{E.preventDefault(),E.dataTransfer&&(E.dataTransfer.dropEffect="copy")}),a.value.addEventListener("drop",E=>{var x;if(E.preventDefault(),E.dataTransfer){const v=E.dataTransfer.getData("text/plain");if(p.includes(v)){const C=(x=a.value)==null?void 0:x.getBoundingClientRect();if(C&&i){const w=E.clientX,T=E.clientY,A={x:w-C.left,y:T-C.top},_=i.panzoom().renderedPositionToModelPosition(A);n("node-dropped",{nodeType:v,position:_})}}}}))}),_a(()=>{i&&l(i)}),wr(()=>r.isGridEnabled,g=>{g?f():c()}),wr(()=>r.gridSize,g=>{h(g),r.isGridEnabled&&f()}),wr([()=>r.elements,()=>r.validationErrors],([g,E])=>{if(!i)return;const x=y(g,E);i.batch(()=>{const v=new Set(g.map(C=>C.id));i.elements().forEach(C=>{v.has(C.id())||C.remove()}),x.forEach(C=>{if(!C.data.id)return;const w=i.getElementById(C.data.id);if(w.empty())i.add(C);else if(w.data(C.data),C.group==="nodes"){const T=C,A=w.position();(T.position.x!==A.x||T.position.y!==A.y)&&w.position(T.position);const _=w.parent(),D=_.length>0?_.first().id():void 0;T.data.parent!==D&&w.move({parent:T.data.parent??null})}})})},{deep:!0,immediate:!0}),(g,E)=>(rt(),ut("div",{ref_key:"cyContainer",ref:a,class:Xt(["cytoscape-container",{"grid-background":g.isGridEnabled&&g.gridSize>0,"mode-add-node":g.currentMode==="add-node","mode-add-edge":g.currentMode==="add-edge","mode-select":g.currentMode==="select"}]),style:Ci({"--grid-size":`${g.gridSize}px`})},null,6))}}),Kr=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r},G4=Kr(z4,[["__scopeId","data-v-8beedf84"]]),H4=["disabled"],U4=_r({__name:"BaseButton",props:{type:{},size:{},disabled:{type:Boolean}},setup(t){const e=t,r=zt(()=>({"base-button":!0,[`button-${e.type||"default"}`]:!0,[`button-${e.size||"medium"}`]:!0,"button-disabled":e.disabled}));return(n,a)=>(rt(),ut("button",{class:Xt(r.value),disabled:n.disabled},[gs(n.$slots,"default",{},void 0,!0)],10,H4))}}),nr=Kr(U4,[["__scopeId","data-v-320dead9"]]),Qb=[{value:"dnorm",label:"Normal (dnorm)",paramCount:2,paramNames:["mean","precision"]},{value:"dgamma",label:"Gamma (dgamma)",paramCount:2,paramNames:["shape","rate"]},{value:"dbeta",label:"Beta (dbeta)",paramCount:2,paramNames:["shape1","shape2"]},{value:"dbin",label:"Binomial (dbin)",paramCount:2,paramNames:["prob","size"]},{value:"dpois",label:"Poisson (dpois)",paramCount:1,paramNames:["lambda"]},{value:"dt",label:"Student-t (dt)",paramCount:3,paramNames:["mu","tau","k"]},{value:"dunif",label:"Uniform (dunif)",paramCount:2,paramNames:["lower","upper"]}],id=[{nodeType:"stochastic",label:"Stochastic",icon:"~",description:"Random variable with a distribution",styleClass:"stochastic",properties:[{key:"name",label:"Name",type:"text",defaultValue:"stochastic_node"},{key:"distribution",label:"Distribution (~)",type:"select",defaultValue:"dnorm",options:Qb},{key:"observed",label:"Observed",type:"checkbox",defaultValue:!1,helpText:"If checked, this node's value is provided in the data section."},{key:"indices",label:"Indices",type:"text",placeholder:"e.g., i,j or 1:N",defaultValue:""}],parameters:[{key:"param1",label:"Parameter 1",type:"text",defaultValue:""},{key:"param2",label:"Parameter 2",type:"text",defaultValue:""},{key:"param3",label:"Parameter 3",type:"text",defaultValue:""}]},{nodeType:"deterministic",label:"Deterministic",icon:"<-",description:"Logical function of parents",styleClass:"deterministic",properties:[{key:"name",label:"Name",type:"text",defaultValue:"logical_node"},{key:"equation",label:"Equation (<-)",type:"text",placeholder:"e.g., a + b * x",defaultValue:""},{key:"indices",label:"Indices",type:"text",placeholder:"e.g., i,j",defaultValue:""}]},{nodeType:"constant",label:"Constant",icon:"C",description:"A fixed value or data input",styleClass:"constant",properties:[{key:"name",label:"Name",type:"text",defaultValue:"constant_node"}]},{nodeType:"observed",label:"Observed",icon:"O",description:"A data node with a fixed value",styleClass:"observed",properties:[{key:"name",label:"Name",type:"text",defaultValue:"observed_node"},{key:"distribution",label:"Distribution (~)",type:"select",defaultValue:"dnorm",options:Qb},{key:"observed",label:"Observed",type:"checkbox",defaultValue:!0},{key:"indices",label:"Indices",type:"text",placeholder:"e.g., i,j or 1:N",defaultValue:""}],parameters:[{key:"param1",label:"Parameter 1",type:"text",defaultValue:""},{key:"param2",label:"Parameter 2",type:"text",defaultValue:""},{key:"param3",label:"Parameter 3",type:"text",defaultValue:""}]},{nodeType:"plate",label:"Plate",icon:"[]",description:"Represents a loop structure",styleClass:"plate",properties:[{key:"name",label:"Name",type:"text",defaultValue:"Plate"},{key:"loopVariable",label:"Loop Variable",type:"text",placeholder:"e.g., i",defaultValue:"i"},{key:"loopRange",label:"Loop Range",type:"text",placeholder:"e.g., 1:N",defaultValue:"1:N"}]}],AO=t=>id.find(e=>e.nodeType===t),LO=t=>Qb.find(e=>e.value===t),W4=t=>{const e=AO(t);if(!e)return{};const r={};return e.properties.forEach(n=>{r[n.key]=n.defaultValue}),e.parameters&&e.parameters.forEach(n=>{r[n.key]=n.defaultValue}),r},V4={class:"canvas-toolbar"},$4={key:0,class:"node-type-selector"},Y4=["value"],X4=["value"],K4={key:1,class:"connecting-message"},j4=_r({__name:"CanvasToolbar",props:{currentMode:{},currentNodeType:{},isConnecting:{type:Boolean},sourceNodeName:{}},emits:["update:currentMode","update:currentNodeType"],setup(t,{emit:e}){const r=e,n=zt(()=>id.map(o=>({label:o.label,value:o.nodeType}))),a=o=>{r("update:currentMode",o)},i=o=>{const l=o.target;r("update:currentNodeType",l.value)};return(o,l)=>(rt(),ut("div",V4,[st(nr,{class:Xt({active:o.currentMode==="select"}),onClick:l[0]||(l[0]=u=>a("select"))},{default:ht(()=>l[3]||(l[3]=[St(" Select ")])),_:1,__:[3]},8,["class"]),st(nr,{class:Xt({active:o.currentMode==="add-node"}),onClick:l[1]||(l[1]=u=>a("add-node"))},{default:ht(()=>l[4]||(l[4]=[St(" Add Node ")])),_:1,__:[4]},8,["class"]),st(nr,{class:Xt({active:o.currentMode==="add-edge"}),onClick:l[2]||(l[2]=u=>a("add-edge"))},{default:ht(()=>l[5]||(l[5]=[St(" Add Edge ")])),_:1,__:[5]},8,["class"]),o.currentMode==="add-node"?(rt(),ut("div",$4,[l[6]||(l[6]=Me("label",{for:"node-type"},"Node Type:",-1)),Me("select",{id:"node-type",value:o.currentNodeType,onChange:i},[(rt(!0),ut(Vt,null,Bn(n.value,u=>(rt(),ut("option",{key:u.value,value:u.value},dr(u.label),9,X4))),128))],40,Y4)])):br("",!0),o.isConnecting?(rt(),ut("span",K4,[l[7]||(l[7]=St(" Connecting from: ")),Me("strong",null,dr(o.sourceNodeName),1),l[8]||(l[8]=St(" (Click target node) "))])):br("",!0)]))}}),Z4=Kr(j4,[["__scopeId","data-v-e6df3305"]]),yf=`{
  "data": {
    "N": 30,
    "T": 5,
    "x": [8.0, 15.0, 22.0, 29.0, 36.0],
    "xbar": 22
  },
  "inits": {
    "alpha": "fill(250.0, 30)",
    "beta": "fill(6.0, 30)"
  }
}`,od=Ec("data",()=>{const t=Mo(),e=wt(new Map),r=zt({get:()=>{const l=t.currentGraphId;if(l&&e.value.has(l))return e.value.get(l);if(l){const u=localStorage.getItem(`doodlebugs-data-${l}`);return u?(e.value.set(l,u),u):(e.value.set(l,yf),yf)}return yf},set:l=>{const u=t.currentGraphId;u&&a(u,l)}}),n=wt({data:{},inits:{}});wr(r,l=>{try{n.value=JSON.parse(l)}catch{n.value={data:{},inits:{}}}},{immediate:!0});const a=(l,u)=>{e.value.set(l,u),localStorage.setItem(`doodlebugs-data-${l}`,u)};return{currentGraphDataString:r,parsedGraphData:n,createNewGraphData:l=>{a(l,yf)},deleteGraphData:l=>{e.value.delete(l),localStorage.removeItem(`doodlebugs-data-${l}`)}}}),Mo=Ec("graph",()=>{const t=od(),e=wt(new Map),r=wt(localStorage.getItem("doodlebugs-currentGraphId")||null);wr(r,c=>{c?localStorage.setItem("doodlebugs-currentGraphId",c):localStorage.removeItem("doodlebugs-currentGraphId")});const n=zt(()=>r.value&&e.value.has(r.value)?e.value.get(r.value).elements:[]),a=c=>{r.value=c,c&&!e.value.has(c)&&f(c)},i=c=>{const h={graphId:c,elements:[]};e.value.set(c,h),u(c,h),t.createNewGraphData(c)},o=(c,h)=>{if(e.value.has(c)){const p=e.value.get(c);p.elements=h,u(c,p)}},l=c=>{e.value.delete(c),localStorage.removeItem(`doodlebugs-graph-${c}`),t.deleteGraphData(c),r.value===c&&a(null)},u=(c,h)=>{localStorage.setItem(`doodlebugs-graph-${c}`,JSON.stringify(h))},f=c=>{const h=localStorage.getItem(`doodlebugs-graph-${c}`);if(h){const p=JSON.parse(h);return e.value.set(c,p),p}return null};return{graphContents:e,currentGraphId:r,currentGraphElements:n,selectGraph:a,createNewGraphContent:i,updateGraphElements:o,deleteGraphContent:l,saveGraph:u,loadGraph:f}});function ow(){const t=Mo(),e=wt(null),r=zt({get:()=>t.currentGraphElements,set:o=>{t.currentGraphId&&t.updateGraphElements(t.currentGraphId,o)}}),n=o=>{r.value=[...r.value,o],e.value=o},a=o=>{var l;r.value=r.value.map(u=>u.id===o.id?o:u),((l=e.value)==null?void 0:l.id)===o.id&&(e.value=o)},i=o=>{const l=r.value.find(h=>h.id===o);if(!l)return;const u=l.type==="node"?l.parent:void 0,f=new Set([o]);if(l.type==="node"&&l.nodeType==="plate"){const h=p=>{r.value.forEach(y=>{y.type==="node"&&y.parent===p&&(f.add(y.id),y.nodeType==="plate"&&h(y.id))})};h(o)}const c=new Set;if(f.forEach(h=>{const p=r.value.find(y=>y.id===h);(p==null?void 0:p.type)==="node"&&c.add(h)}),r.value.forEach(h=>{h.type==="edge"&&(c.has(h.source)||c.has(h.target))&&f.add(h.id)}),r.value=r.value.filter(h=>!f.has(h.id)),e.value&&f.has(e.value.id)&&(e.value=null),u){const h=r.value.find(p=>p.id===u);h&&h.type==="node"&&h.nodeType==="plate"&&(r.value.some(y=>y.type==="node"&&y.parent===u)||i(u))}};return{elements:r,selectedElement:e,addElement:n,updateElement:a,deleteElement:i}}const Q4={class:"graph-editor-container"},J4=_r({__name:"GraphEditor",props:{isGridEnabled:{type:Boolean},gridSize:{},currentMode:{},currentNodeType:{},elements:{},validationErrors:{}},emits:["element-selected","update:currentMode","update:currentNodeType"],setup(t,{emit:e}){const r=t,n=e,{elements:a,addElement:i,updateElement:o,deleteElement:l}=ow(),{getCyInstance:u}=iw(),f=wt(null),c=wt(!1),h=["alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega"],p=()=>{const T=new Set(a.value.filter(_=>_.type==="node").map(_=>_.name));for(const _ of h)if(!T.has(_))return _;let A=1;for(;;){const _=`var_${A}`;if(!T.has(_))return _;A++}},y=(T,A,_)=>{const D=W4(T),R=`node_${crypto.randomUUID().substring(0,8)}`,k=T==="plate"?"Plate":p();return{...D,id:R,type:"node",nodeType:T,position:A,parent:_,name:k}},g=(T,A)=>{const _=y("plate",T,A),D=y("stochastic",{x:T.x,y:T.y},_.id);return a.value=[...a.value,_,D],_},E=T=>{var F,q;const{position:A,target:_}=T,D=u();if(!D)return;const R=_===D,k=!R&&_.isNode()&&_.data("nodeType")==="plate",B=!R&&_.isNode(),G=!R&&_.isEdge();switch(r.currentMode){case"add-node":if(R||k)if(r.currentNodeType==="plate"){if(k){alert("Nesting plates is not currently supported.");return}const M=g(A,k?_.id():void 0);n("element-selected",M),n("update:currentMode","select")}else{const M=y(r.currentNodeType,A,k?_.id():void 0);i(M),n("element-selected",M),n("update:currentMode","select")}break;case"add-edge":if(B){const M=_;if(f.value&&f.value.id()!==M.id()){const P={id:`edge_${crypto.randomUUID().substring(0,8)}`,type:"edge",source:f.value.id(),target:M.id(),name:`Edge ${f.value.data("name")} -> ${M.data("name")}`};i(P),(F=f.value)==null||F.removeClass("cy-connecting"),f.value=null,c.value=!1,n("update:currentMode","select"),n("element-selected",P)}else f.value||(f.value=M,f.value.addClass("cy-connecting"),c.value=!0,n("element-selected",f.value.data()))}else R&&((q=f.value)==null||q.removeClass("cy-connecting"),f.value=null,c.value=!1,n("element-selected",null));break;default:B||G?n("element-selected",_.data()):R&&n("element-selected",null);break}},x=T=>{const A=a.value.find(_=>_.id===T.nodeId);if(A){const _={...A,position:T.position,parent:T.parentId};o(_)}},v=T=>{const{nodeType:A,position:_}=T,D=u();let R;if(A==="plate"){if(D){const G=D.nodes('[nodeType="plate"]');for(const F of G){const q=F.boundingBox();if(_.x>q.x1&&_.x<q.x2&&_.y>q.y1&&_.y<q.y2){alert("Nesting plates is not currently supported.");return}}}const B=g(_);n("element-selected",B),n("update:currentMode","select");return}if(D){const B=D.nodes('[nodeType="plate"]');for(const G of B){const F=G.boundingBox();if(_.x>F.x1&&_.x<F.x2&&_.y>F.y1&&_.y<F.y2){R=G.id();break}}}const k=y(A,_,R);i(k),n("element-selected",k),n("update:currentMode","select")},C=T=>{l(T)},w=T=>{l(T)};return wr(()=>r.currentMode,T=>{var A;T!=="add-edge"&&((A=f.value)==null||A.removeClass("cy-connecting"),f.value=null,c.value=!1)}),(T,A)=>{var _;return rt(),ut("div",Q4,[st(Z4,{"current-mode":r.currentMode,"current-node-type":r.currentNodeType,"onUpdate:currentMode":A[0]||(A[0]=D=>n("update:currentMode",D)),"onUpdate:currentNodeType":A[1]||(A[1]=D=>n("update:currentNodeType",D)),"is-connecting":c.value,"source-node-name":(_=f.value)==null?void 0:_.data("name")},null,8,["current-mode","current-node-type","is-connecting","source-node-name"]),st(G4,{elements:r.elements,"is-grid-enabled":T.isGridEnabled,"grid-size":T.gridSize,"current-mode":r.currentMode,"validation-errors":r.validationErrors,onCanvasTap:E,onNodeMoved:x,onNodeDropped:v,onPlateEmptied:C,onElementRemove:w},null,8,["elements","is-grid-enabled","grid-size","current-mode","validation-errors"])])}}}),e9=Kr(J4,[["__scopeId","data-v-33b894fc"]]),_O=Ec("project",()=>{const t=wt([]),e=wt(localStorage.getItem("doodlebugs-currentProjectId")||null),r=Mo(),n=p=>{const y={id:`project_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:p,createdAt:Date.now(),lastModified:Date.now(),graphs:[]};t.value.push(y),c(),a(y.id)},a=p=>{e.value=p,p?localStorage.setItem("doodlebugs-currentProjectId",p):localStorage.removeItem("doodlebugs-currentProjectId")},i=p=>{const y=t.value.find(g=>g.id===p);y&&(y.graphs.forEach(g=>{r.deleteGraphContent(g.id)}),t.value=t.value.filter(g=>g.id!==p),e.value===p&&a(null),c())},o=zt(()=>t.value.find(p=>p.id===e.value)||null),l=(p,y)=>{const g=t.value.find(E=>E.id===p);if(g){const E={id:`graph_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:y,createdAt:Date.now(),lastModified:Date.now()};return g.graphs.push(E),g.lastModified=Date.now(),c(),r.createNewGraphContent(E.id),r.selectGraph(E.id),E}},u=(p,y)=>{const g=t.value.find(E=>E.id===p);g&&(g.graphs=g.graphs.filter(E=>E.id!==y),g.lastModified=Date.now(),c(),r.deleteGraphContent(y))},f=p=>{var y;return((y=t.value.find(g=>g.id===p))==null?void 0:y.graphs)||[]},c=()=>{localStorage.setItem("doodlebugs-projects",JSON.stringify(t.value))};return{projects:t,currentProjectId:e,currentProject:o,createProject:n,selectProject:a,deleteProject:i,addGraphToProject:l,deleteGraphFromProject:u,getGraphsForProject:f,loadProjects:()=>{const p=localStorage.getItem("doodlebugs-projects");p&&(t.value=JSON.parse(p)),e.value&&!t.value.some(y=>y.id===e.value)&&a(null)}}}),t9={class:"modal-content",role:"dialog","aria-modal":"true"},r9={key:0,class:"modal-header"},n9={key:1,class:"modal-body"},a9={key:2,class:"modal-footer"},Co=_r({__name:"BaseModal",props:{isOpen:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const r=e,n=a=>{a.key==="Escape"&&r("close")};return La(()=>{document.addEventListener("keydown",n)}),_a(()=>{document.removeEventListener("keydown",n)}),(a,i)=>(rt(),la(p1,{name:"modal-fade"},{default:ht(()=>[a.isOpen?(rt(),ut("div",{key:0,class:"modal-overlay",onClick:i[0]||(i[0]=Ir(o=>r("close"),["self"]))},[Me("div",t9,[a.$slots.header?(rt(),ut("header",r9,[gs(a.$slots,"header")])):br("",!0),a.$slots.body?(rt(),ut("section",n9,[gs(a.$slots,"body")])):br("",!0),a.$slots.footer?(rt(),ut("footer",a9,[gs(a.$slots,"footer")])):br("",!0)])])):br("",!0)]),_:3}))}}),i9={class:"project-manager"},o9={class:"header"},s9={key:0,class:"empty-state"},l9={key:1,class:"project-list"},u9=["onClick"],f9={class:"project-name"},c9=["onClick"],d9={key:0,class:"graph-list"},h9=["onClick"],v9=["onClick"],p9={key:0,class:"empty-state-inner"},g9={key:0},y9={key:0},m9=_r({__name:"ProjectManager",emits:["newProject","newGraph"],setup(t,{emit:e}){const r=_O(),n=Mo(),a=wt(!1),i=wt(null),o=wt(null),l=wt(null),u=zt(()=>r.currentProject),f=zt(()=>u.value?r.getGraphsForProject(u.value.id):[]),c=w=>{l.value&&!l.value.contains(w.target)&&(o.value=null)};La(()=>{r.loadProjects(),r.projects.length>0&&!r.currentProjectId&&r.selectProject(r.projects[0].id),document.addEventListener("click",c)}),_a(()=>{document.removeEventListener("click",c)});const h=w=>{n.selectGraph(w)},p=async(w,T,A)=>{w.stopPropagation(),w.preventDefault(),o.value=null,await nu(),o.value={type:T,id:A,x:w.clientX,y:w.clientY}},y=(w,T,A,_)=>{i.value={type:w,id:T,name:A,projectId:_},a.value=!0,o.value=null},g=()=>{i.value&&(i.value.type==="project"?r.deleteProject(i.value.id):i.value.type==="graph"&&i.value.projectId&&(r.deleteGraphFromProject(i.value.projectId,i.value.id),n.currentGraphId===i.value.id&&n.selectGraph(null)),a.value=!1,i.value=null)},E=()=>{a.value=!1,i.value=null},x=e,v=()=>{x("newProject"),o.value=null},C=()=>{x("newGraph"),o.value=null};return(w,T)=>(rt(),ut("div",i9,[Me("div",o9,[T[3]||(T[3]=Me("h4",null,"Projects",-1)),st(nr,{onClick:v,type:"primary",size:"small",class:"add-project-btn",title:"New Project"},{default:ht(()=>T[2]||(T[2]=[Me("i",{class:"fas fa-plus"},null,-1)])),_:1,__:[2]})]),Yt(r).projects.length===0?(rt(),ut("div",s9,[T[5]||(T[5]=Me("p",null,"No projects yet.",-1)),st(nr,{onClick:v,type:"primary"},{default:ht(()=>T[4]||(T[4]=[St("Create New Project")])),_:1,__:[4]})])):(rt(),ut("div",l9,[(rt(!0),ut(Vt,null,Bn(Yt(r).projects,A=>(rt(),ut("div",{key:A.id,class:"project-item"},[Me("div",{class:Xt(["project-header",{active:Yt(r).currentProjectId===A.id}]),onClick:_=>Yt(r).selectProject(A.id)},[Me("i",{class:Xt(["icon-chevron fas fa-chevron-right",{open:Yt(r).currentProjectId===A.id}])},null,2),T[7]||(T[7]=Me("i",{class:"icon-folder fas fa-folder"},null,-1)),Me("span",f9,dr(A.name),1),Me("button",{onClick:_=>p(_,"project",A.id),class:"context-menu-btn"},T[6]||(T[6]=[Me("i",{class:"fas fa-ellipsis-v"},null,-1)]),8,c9)],10,u9),st(p1,{name:"slide-fade"},{default:ht(()=>{var _;return[((_=Yt(r).currentProject)==null?void 0:_.id)===A.id?(rt(),ut("div",d9,[(rt(!0),ut(Vt,null,Bn(f.value,D=>(rt(),ut("div",{key:D.id,class:Xt(["graph-item",{active:Yt(n).currentGraphId===D.id}]),onClick:R=>h(D.id)},[T[9]||(T[9]=Me("i",{class:"icon-file fas fa-file-alt"},null,-1)),Me("span",null,dr(D.name),1),Me("button",{onClick:R=>p(R,"graph",D.id),class:"context-menu-btn"},T[8]||(T[8]=[Me("i",{class:"fas fa-ellipsis-v"},null,-1)]),8,v9)],10,h9))),128)),f.value.length===0?(rt(),ut("div",p9,[T[11]||(T[11]=Me("p",null,"No graphs in this project.",-1)),st(nr,{onClick:C,type:"secondary",size:"small"},{default:ht(()=>T[10]||(T[10]=[St("Create New Graph")])),_:1,__:[10]})])):br("",!0)])):br("",!0)]}),_:2},1024)]))),128))])),o.value?(rt(),ut("div",{key:2,ref_key:"contextMenuRef",ref:l,class:"context-menu",style:Ci({top:`${o.value.y}px`,left:`${o.value.x}px`})},[o.value.type==="project"?(rt(),ut(Vt,{key:0},[Me("div",{class:"context-menu-item",onClick:C},T[12]||(T[12]=[Me("i",{class:"fas fa-plus"},null,-1),St(" New Graph")])),Me("div",{class:"context-menu-item danger",onClick:T[0]||(T[0]=A=>y("project",o.value.id,Yt(r).projects.find(_=>_.id===o.value.id).name))},T[13]||(T[13]=[Me("i",{class:"fas fa-trash-alt"},null,-1),St(" Delete Project")]))],64)):br("",!0),o.value.type==="graph"?(rt(),ut("div",{key:1,class:"context-menu-item danger",onClick:T[1]||(T[1]=A=>y("graph",o.value.id,f.value.find(_=>_.id===o.value.id).name,u.value.id))},T[14]||(T[14]=[Me("i",{class:"fas fa-trash-alt"},null,-1),St(" Delete Graph")]))):br("",!0)],4)):br("",!0),st(Co,{"is-open":a.value,onClose:E},{header:ht(()=>T[15]||(T[15]=[Me("h3",null,"Confirm Deletion",-1)])),body:ht(()=>[i.value?(rt(),ut("p",g9,[St(" Are you sure you want to delete the "+dr(i.value.type)+" ",1),Me("strong",null,'"'+dr(i.value.name)+'"',1),T[16]||(T[16]=St("? ")),i.value.type==="project"?(rt(),ut("span",y9,"This will also delete all of its graphs.")):br("",!0),T[17]||(T[17]=St(" This action cannot be undone. "))])):br("",!0)]),footer:ht(()=>[st(nr,{onClick:E,type:"secondary"},{default:ht(()=>T[18]||(T[18]=[St("Cancel")])),_:1,__:[18]}),st(nr,{onClick:g,type:"danger"},{default:ht(()=>T[19]||(T[19]=[St("Delete")])),_:1,__:[19]})]),_:1},8,["is-open"])]))}}),b9=Kr(m9,[["__scopeId","data-v-2611de75"]]),w9={class:"node-palette"},x9={class:"palette-section"},C9={class:"palette-grid"},E9=["onDragstart","onClick","title"],T9={class:"card-label"},S9={class:"palette-section"},A9={class:"palette-grid"},L9=["onDragstart","onClick","title"],_9={class:"card-label"},D9=_r({__name:"NodePalette",emits:["select-palette-item"],setup(t,{emit:e}){const r=e,n=[{label:"Add Edge",type:"add-edge",styleClass:"connection",description:"Connect two nodes"}],a=(o,l)=>{o.dataTransfer&&(o.dataTransfer.setData("text/plain",l),o.dataTransfer.effectAllowed="copy")},i=o=>{r("select-palette-item",o)};return(o,l)=>(rt(),ut("div",w9,[Me("div",x9,[l[0]||(l[0]=Me("h5",{class:"section-title"},"Nodes",-1)),Me("div",C9,[(rt(!0),ut(Vt,null,Bn(Yt(id),u=>(rt(),ut("div",{key:u.nodeType,class:Xt(["palette-card",u.styleClass]),draggable:"true",onDragstart:f=>a(f,u.nodeType),onClick:f=>i(u.nodeType),title:u.description},[Me("div",{class:Xt(["card-icon",`icon-${u.nodeType}`])},dr(u.icon),3),Me("span",T9,dr(u.label),1)],42,E9))),128))])]),Me("div",S9,[l[2]||(l[2]=Me("h5",{class:"section-title"},"Connections",-1)),Me("div",A9,[(rt(),ut(Vt,null,Bn(n,u=>Me("div",{key:u.type,class:Xt(["palette-card",u.styleClass]),draggable:"true",onDragstart:f=>a(f,u.type),onClick:f=>i(u.type),title:u.description},[l[1]||(l[1]=Me("div",{class:"card-icon connection-icon"},null,-1)),Me("span",_9,dr(u.label),1)],42,L9)),64))])])]))}}),M9=Kr(D9,[["__scopeId","data-v-bfe4f53a"]]);var nR={exports:{}},Ff={exports:{}},R9=Ff.exports,aR;function Gi(){return aR||(aR=1,function(t,e){(function(r,n){t.exports=n()})(R9,function(){var r=navigator.userAgent,n=navigator.platform,a=/gecko\/\d/i.test(r),i=/MSIE \d/.test(r),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),l=/Edge\/(\d+)/.exec(r),u=i||o||l,f=u&&(i?document.documentMode||6:+(l||o)[1]),c=!l&&/WebKit\//.test(r),h=c&&/Qt\/\d+\.\d+/.test(r),p=!l&&/Chrome\/(\d+)/.exec(r),y=p&&+p[1],g=/Opera\//.test(r),E=/Apple Computer/.test(navigator.vendor),x=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),v=/PhantomJS/.test(r),C=E&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),w=/Android/.test(r),T=C||w||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),A=C||/Mac/.test(n),_=/\bCrOS\b/.test(r),D=/win/i.test(n),R=g&&r.match(/Version\/(\d*\.\d*)/);R&&(R=Number(R[1])),R&&R>=15&&(g=!1,c=!0);var k=A&&(h||g&&(R==null||R<12.11)),B=a||u&&f>=9;function G(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var F=function(s,d){var b=s.className,m=G(d).exec(b);if(m){var S=b.slice(m.index+m[0].length);s.className=b.slice(0,m.index)+(S?m[1]+S:"")}};function q(s){for(var d=s.childNodes.length;d>0;--d)s.removeChild(s.firstChild);return s}function M(s,d){return q(s).appendChild(d)}function P(s,d,b,m){var S=document.createElement(s);if(b&&(S.className=b),m&&(S.style.cssText=m),typeof d=="string")S.appendChild(document.createTextNode(d));else if(d)for(var L=0;L<d.length;++L)S.appendChild(d[L]);return S}function N(s,d,b,m){var S=P(s,d,b,m);return S.setAttribute("role","presentation"),S}var I;document.createRange?I=function(s,d,b,m){var S=document.createRange();return S.setEnd(m||s,b),S.setStart(s,d),S}:I=function(s,d,b){var m=document.body.createTextRange();try{m.moveToElementText(s.parentNode)}catch{return m}return m.collapse(!0),m.moveEnd("character",b),m.moveStart("character",d),m};function z(s,d){if(d.nodeType==3&&(d=d.parentNode),s.contains)return s.contains(d);do if(d.nodeType==11&&(d=d.host),d==s)return!0;while(d=d.parentNode)}function ae(s){var d=s.ownerDocument||s,b;try{b=s.activeElement}catch{b=d.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;return b}function re(s,d){var b=s.className;G(d).test(b)||(s.className+=(b?" ":"")+d)}function K(s,d){for(var b=s.split(" "),m=0;m<b.length;m++)b[m]&&!G(b[m]).test(d)&&(d+=" "+b[m]);return d}var W=function(s){s.select()};C?W=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:u&&(W=function(s){try{s.select()}catch{}});function Z(s){return s.display.wrapper.ownerDocument}function U(s){return V(s.display.wrapper)}function V(s){return s.getRootNode?s.getRootNode():s.ownerDocument}function Y(s){return Z(s).defaultView}function ee(s){var d=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,d)}}function oe(s,d,b){d||(d={});for(var m in s)s.hasOwnProperty(m)&&(b!==!1||!d.hasOwnProperty(m))&&(d[m]=s[m]);return d}function te(s,d,b,m,S){d==null&&(d=s.search(/[^\s\u00a0]/),d==-1&&(d=s.length));for(var L=m||0,O=S||0;;){var H=s.indexOf("	",L);if(H<0||H>=d)return O+(d-L);O+=H-L,O+=b-O%b,L=H+1}}var ie=function(){this.id=null,this.f=null,this.time=0,this.handler=ee(this.onTimeout,this)};ie.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},ie.prototype.set=function(s,d){this.f=d;var b=+new Date+s;(!this.id||b<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=b)};function se(s,d){for(var b=0;b<s.length;++b)if(s[b]==d)return b;return-1}var $=50,ne={toString:function(){return"CodeMirror.Pass"}},le={scroll:!1},Se={origin:"*mouse"},_e={origin:"+move"};function be(s,d,b){for(var m=0,S=0;;){var L=s.indexOf("	",m);L==-1&&(L=s.length);var O=L-m;if(L==s.length||S+O>=d)return m+Math.min(O,d-S);if(S+=L-m,S+=b-S%b,m=L+1,S>=d)return m}}var Te=[""];function ve(s){for(;Te.length<=s;)Te.push(de(Te)+" ");return Te[s]}function de(s){return s[s.length-1]}function ye(s,d){for(var b=[],m=0;m<s.length;m++)b[m]=d(s[m],m);return b}function Ce(s,d,b){for(var m=0,S=b(d);m<s.length&&b(s[m])<=S;)m++;s.splice(m,0,d)}function ue(){}function Ae(s,d){var b;return Object.create?b=Object.create(s):(ue.prototype=s,b=new ue),d&&oe(d,b),b}var Pe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Fe(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||Pe.test(s))}function Ye(s,d){return d?d.source.indexOf("\\w")>-1&&Fe(s)?!0:d.test(s):Fe(s)}function We(s){for(var d in s)if(s.hasOwnProperty(d)&&s[d])return!1;return!0}var Qe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Xe(s){return s.charCodeAt(0)>=768&&Qe.test(s)}function Ve(s,d,b){for(;(b<0?d>0:d<s.length)&&Xe(s.charAt(d));)d+=b;return d}function he(s,d,b){for(var m=d>b?-1:1;;){if(d==b)return d;var S=(d+b)/2,L=m<0?Math.ceil(S):Math.floor(S);if(L==d)return s(L)?d:b;s(L)?b=L:d=L+m}}function j(s,d,b,m){if(!s)return m(d,b,"ltr",0);for(var S=!1,L=0;L<s.length;++L){var O=s[L];(O.from<b&&O.to>d||d==b&&O.to==d)&&(m(Math.max(O.from,d),Math.min(O.to,b),O.level==1?"rtl":"ltr",L),S=!0)}S||m(d,b,"ltr")}var pe=null;function me(s,d,b){var m;pe=null;for(var S=0;S<s.length;++S){var L=s[S];if(L.from<d&&L.to>d)return S;L.to==d&&(L.from!=L.to&&b=="before"?m=S:pe=S),L.from==d&&(L.from!=L.to&&b!="before"?m=S:pe=S)}return m??pe}var we=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",d="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function b(J){return J<=247?s.charAt(J):1424<=J&&J<=1524?"R":1536<=J&&J<=1785?d.charAt(J-1536):1774<=J&&J<=2220?"r":8192<=J&&J<=8203?"w":J==8204?"b":"L"}var m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,S=/[stwN]/,L=/[LRr]/,O=/[Lb1n]/,H=/[1n]/;function X(J,ce,ge){this.level=J,this.from=ce,this.to=ge}return function(J,ce){var ge=ce=="ltr"?"L":"R";if(J.length==0||ce=="ltr"&&!m.test(J))return!1;for(var De=J.length,Le=[],Ne=0;Ne<De;++Ne)Le.push(b(J.charCodeAt(Ne)));for(var Be=0,Ke=ge;Be<De;++Be){var et=Le[Be];et=="m"?Le[Be]=Ke:Ke=et}for(var ot=0,tt=ge;ot<De;++ot){var lt=Le[ot];lt=="1"&&tt=="r"?Le[ot]="n":L.test(lt)&&(tt=lt,lt=="r"&&(Le[ot]="R"))}for(var yt=1,pt=Le[0];yt<De-1;++yt){var At=Le[yt];At=="+"&&pt=="1"&&Le[yt+1]=="1"?Le[yt]="1":At==","&&pt==Le[yt+1]&&(pt=="1"||pt=="n")&&(Le[yt]=pt),pt=At}for(var Zt=0;Zt<De;++Zt){var Nr=Le[Zt];if(Nr==",")Le[Zt]="N";else if(Nr=="%"){var cr=void 0;for(cr=Zt+1;cr<De&&Le[cr]=="%";++cr);for(var Dn=Zt&&Le[Zt-1]=="!"||cr<De&&Le[cr]=="1"?"1":"N",wn=Zt;wn<cr;++wn)Le[wn]=Dn;Zt=cr-1}}for(var Cr=0,xn=ge;Cr<De;++Cr){var Ur=Le[Cr];xn=="L"&&Ur=="1"?Le[Cr]="L":L.test(Ur)&&(xn=Ur)}for(var Ar=0;Ar<De;++Ar)if(S.test(Le[Ar])){var Er=void 0;for(Er=Ar+1;Er<De&&S.test(Le[Er]);++Er);for(var vr=(Ar?Le[Ar-1]:ge)=="L",Cn=(Er<De?Le[Er]:ge)=="L",Ko=vr==Cn?vr?"L":"R":ge,di=Ar;di<Er;++di)Le[di]=Ko;Ar=Er-1}for(var Qr=[],pa,Or=0;Or<De;)if(O.test(Le[Or])){var Qd=Or;for(++Or;Or<De&&O.test(Le[Or]);++Or);Qr.push(new X(0,Qd,Or))}else{var Ba=Or,ji=Qr.length,Zi=ce=="rtl"?1:0;for(++Or;Or<De&&Le[Or]!="L";++Or);for(var un=Ba;un<Or;)if(H.test(Le[un])){Ba<un&&(Qr.splice(ji,0,new X(1,Ba,un)),ji+=Zi);var jo=un;for(++un;un<Or&&H.test(Le[un]);++un);Qr.splice(ji,0,new X(2,jo,un)),ji+=Zi,Ba=un}else++un;Ba<Or&&Qr.splice(ji,0,new X(1,Ba,Or))}return ce=="ltr"&&(Qr[0].level==1&&(pa=J.match(/^\s+/))&&(Qr[0].from=pa[0].length,Qr.unshift(new X(0,0,pa[0].length))),de(Qr).level==1&&(pa=J.match(/\s+$/))&&(de(Qr).to-=pa[0].length,Qr.push(new X(0,De-pa[0].length,De)))),ce=="rtl"?Qr.reverse():Qr}}();function xe(s,d){var b=s.order;return b==null&&(b=s.order=we(s.text,d)),b}var qe=[],Ee=function(s,d,b){if(s.addEventListener)s.addEventListener(d,b,!1);else if(s.attachEvent)s.attachEvent("on"+d,b);else{var m=s._handlers||(s._handlers={});m[d]=(m[d]||qe).concat(b)}};function Oe(s,d){return s._handlers&&s._handlers[d]||qe}function Ie(s,d,b){if(s.removeEventListener)s.removeEventListener(d,b,!1);else if(s.detachEvent)s.detachEvent("on"+d,b);else{var m=s._handlers,S=m&&m[d];if(S){var L=se(S,b);L>-1&&(m[d]=S.slice(0,L).concat(S.slice(L+1)))}}}function He(s,d){var b=Oe(s,d);if(b.length)for(var m=Array.prototype.slice.call(arguments,2),S=0;S<b.length;++S)b[S].apply(null,m)}function Ue(s,d,b){return typeof d=="string"&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}}),He(s,b||d.type,s,d),nt(d)||d.codemirrorIgnore}function je(s){var d=s._handlers&&s._handlers.cursorActivity;if(d)for(var b=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),m=0;m<d.length;++m)se(b,d[m])==-1&&b.push(d[m])}function Je(s,d){return Oe(s,d).length>0}function Ge(s){s.prototype.on=function(d,b){Ee(this,d,b)},s.prototype.off=function(d,b){Ie(this,d,b)}}function $e(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function vt(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function nt(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function it(s){$e(s),vt(s)}function Et(s){return s.target||s.srcElement}function ct(s){var d=s.which;return d==null&&(s.button&1?d=1:s.button&2?d=3:s.button&4&&(d=2)),A&&s.ctrlKey&&d==1&&(d=3),d}var gt=function(){if(u&&f<9)return!1;var s=P("div");return"draggable"in s||"dragDrop"in s}(),Dt;function Mt(s){if(Dt==null){var d=P("span","​");M(s,P("span",[d,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(Dt=d.offsetWidth<=1&&d.offsetHeight>2&&!(u&&f<8))}var b=Dt?P("span","​"):P("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return b.setAttribute("cm-text",""),b}var Kt;function Lt(s){if(Kt!=null)return Kt;var d=M(s,document.createTextNode("AخA")),b=I(d,0,1).getBoundingClientRect(),m=I(d,1,2).getBoundingClientRect();return q(s),!b||b.left==b.right?!1:Kt=m.right-b.right<3}var Gt=`

b`.split(/\n/).length!=3?function(s){for(var d=0,b=[],m=s.length;d<=m;){var S=s.indexOf(`
`,d);S==-1&&(S=s.length);var L=s.slice(d,s.charAt(S-1)=="\r"?S-1:S),O=L.indexOf("\r");O!=-1?(b.push(L.slice(0,O)),d+=O+1):(b.push(L),d=S+1)}return b}:function(s){return s.split(/\r\n?|\n/)},Sr=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var d;try{d=s.ownerDocument.selection.createRange()}catch{}return!d||d.parentElement()!=s?!1:d.compareEndPoints("StartToEnd",d)!=0},on=function(){var s=P("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),Rt=null;function er(s){if(Rt!=null)return Rt;var d=M(s,P("span","x")),b=d.getBoundingClientRect(),m=I(d,0,1).getBoundingClientRect();return Rt=Math.abs(b.left-m.left)>1}var jt={},fr={};function tr(s,d){arguments.length>2&&(d.dependencies=Array.prototype.slice.call(arguments,2)),jt[s]=d}function jr(s,d){fr[s]=d}function gn(s){if(typeof s=="string"&&fr.hasOwnProperty(s))s=fr[s];else if(s&&typeof s.name=="string"&&fr.hasOwnProperty(s.name)){var d=fr[s.name];typeof d=="string"&&(d={name:d}),s=Ae(d,s),s.name=d.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return gn("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return gn("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function jn(s,d){d=gn(d);var b=jt[d.name];if(!b)return jn(s,"text/plain");var m=b(s,d);if(Ln.hasOwnProperty(d.name)){var S=Ln[d.name];for(var L in S)S.hasOwnProperty(L)&&(m.hasOwnProperty(L)&&(m["_"+L]=m[L]),m[L]=S[L])}if(m.name=d.name,d.helperType&&(m.helperType=d.helperType),d.modeProps)for(var O in d.modeProps)m[O]=d.modeProps[O];return m}var Ln={};function Zn(s,d){var b=Ln.hasOwnProperty(s)?Ln[s]:Ln[s]={};oe(d,b)}function sn(s,d){if(d===!0)return d;if(s.copyState)return s.copyState(d);var b={};for(var m in d){var S=d[m];S instanceof Array&&(S=S.concat([])),b[m]=S}return b}function Pa(s,d){for(var b;s.innerMode&&(b=s.innerMode(d),!(!b||b.mode==s));)d=b.state,s=b.mode;return b||{mode:s,state:d}}function Gn(s,d,b){return s.startState?s.startState(d,b):!0}var Ft=function(s,d,b){this.pos=this.start=0,this.string=s,this.tabSize=d||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=b};Ft.prototype.eol=function(){return this.pos>=this.string.length},Ft.prototype.sol=function(){return this.pos==this.lineStart},Ft.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ft.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ft.prototype.eat=function(s){var d=this.string.charAt(this.pos),b;if(typeof s=="string"?b=d==s:b=d&&(s.test?s.test(d):s(d)),b)return++this.pos,d},Ft.prototype.eatWhile=function(s){for(var d=this.pos;this.eat(s););return this.pos>d},Ft.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},Ft.prototype.skipToEnd=function(){this.pos=this.string.length},Ft.prototype.skipTo=function(s){var d=this.string.indexOf(s,this.pos);if(d>-1)return this.pos=d,!0},Ft.prototype.backUp=function(s){this.pos-=s},Ft.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=te(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?te(this.string,this.lineStart,this.tabSize):0)},Ft.prototype.indentation=function(){return te(this.string,null,this.tabSize)-(this.lineStart?te(this.string,this.lineStart,this.tabSize):0)},Ft.prototype.match=function(s,d,b){if(typeof s=="string"){var m=function(O){return b?O.toLowerCase():O},S=this.string.substr(this.pos,s.length);if(m(S)==m(s))return d!==!1&&(this.pos+=s.length),!0}else{var L=this.string.slice(this.pos).match(s);return L&&L.index>0?null:(L&&d!==!1&&(this.pos+=L[0].length),L)}},Ft.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ft.prototype.hideFirstChars=function(s,d){this.lineStart+=s;try{return d()}finally{this.lineStart-=s}},Ft.prototype.lookAhead=function(s){var d=this.lineOracle;return d&&d.lookAhead(s)},Ft.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function ft(s,d){if(d-=s.first,d<0||d>=s.size)throw new Error("There is no line "+(d+s.first)+" in the document.");for(var b=s;!b.lines;)for(var m=0;;++m){var S=b.children[m],L=S.chunkSize();if(d<L){b=S;break}d-=L}return b.lines[d]}function Hr(s,d,b){var m=[],S=d.line;return s.iter(d.line,b.line+1,function(L){var O=L.text;S==b.line&&(O=O.slice(0,b.ch)),S==d.line&&(O=O.slice(d.ch)),m.push(O),++S}),m}function Qn(s,d,b){var m=[];return s.iter(d,b,function(S){m.push(S.text)}),m}function Pt(s,d){var b=d-s.height;if(b)for(var m=s;m;m=m.parent)m.height+=b}function Q(s){if(s.parent==null)return null;for(var d=s.parent,b=se(d.lines,s),m=d.parent;m;d=m,m=m.parent)for(var S=0;m.children[S]!=d;++S)b+=m.children[S].chunkSize();return b+d.first}function fe(s,d){var b=s.first;e:do{for(var m=0;m<s.children.length;++m){var S=s.children[m],L=S.height;if(d<L){s=S;continue e}d-=L,b+=S.chunkSize()}return b}while(!s.lines);for(var O=0;O<s.lines.length;++O){var H=s.lines[O],X=H.height;if(d<X)break;d-=X}return b+O}function ke(s,d){return d>=s.first&&d<s.first+s.size}function ze(s,d){return String(s.lineNumberFormatter(d+s.firstLineNumber))}function Re(s,d,b){if(b===void 0&&(b=null),!(this instanceof Re))return new Re(s,d,b);this.line=s,this.ch=d,this.sticky=b}function Ze(s,d){return s.line-d.line||s.ch-d.ch}function kt(s,d){return s.sticky==d.sticky&&Ze(s,d)==0}function Mr(s){return Re(s.line,s.ch)}function yn(s,d){return Ze(s,d)<0?d:s}function Ro(s,d){return Ze(s,d)<0?s:d}function lw(s,d){return Math.max(s.first,Math.min(d,s.first+s.size-1))}function Ct(s,d){if(d.line<s.first)return Re(s.first,0);var b=s.first+s.size-1;return d.line>b?Re(b,ft(s,b).text.length):RO(d,ft(s,d.line).text.length)}function RO(s,d){var b=s.ch;return b==null||b>d?Re(s.line,d):b<0?Re(s.line,0):s}function uw(s,d){for(var b=[],m=0;m<d.length;m++)b[m]=Ct(s,d[m]);return b}var Cu=function(s,d){this.state=s,this.lookAhead=d},da=function(s,d,b,m){this.state=d,this.doc=s,this.line=b,this.maxLookAhead=m||0,this.baseTokens=null,this.baseTokenPos=1};da.prototype.lookAhead=function(s){var d=this.doc.getLine(this.line+s);return d!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),d},da.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},da.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},da.fromSaved=function(s,d,b){return d instanceof Cu?new da(s,sn(s.mode,d.state),b,d.lookAhead):new da(s,sn(s.mode,d),b)},da.prototype.save=function(s){var d=s!==!1?sn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Cu(d,this.maxLookAhead):d};function fw(s,d,b,m){var S=[s.state.modeGen],L={};gw(s,d.text,s.doc.mode,b,function(J,ce){return S.push(J,ce)},L,m);for(var O=b.state,H=function(J){b.baseTokens=S;var ce=s.state.overlays[J],ge=1,De=0;b.state=!0,gw(s,d.text,ce.mode,b,function(Le,Ne){for(var Be=ge;De<Le;){var Ke=S[ge];Ke>Le&&S.splice(ge,1,Le,S[ge+1],Ke),ge+=2,De=Math.min(Le,Ke)}if(Ne)if(ce.opaque)S.splice(Be,ge-Be,Le,"overlay "+Ne),ge=Be+2;else for(;Be<ge;Be+=2){var et=S[Be+1];S[Be+1]=(et?et+" ":"")+"overlay "+Ne}},L),b.state=O,b.baseTokens=null,b.baseTokenPos=1},X=0;X<s.state.overlays.length;++X)H(X);return{styles:S,classes:L.bgClass||L.textClass?L:null}}function cw(s,d,b){if(!d.styles||d.styles[0]!=s.state.modeGen){var m=Fs(s,Q(d)),S=d.text.length>s.options.maxHighlightLength&&sn(s.doc.mode,m.state),L=fw(s,d,m);S&&(m.state=S),d.stateAfter=m.save(!S),d.styles=L.styles,L.classes?d.styleClasses=L.classes:d.styleClasses&&(d.styleClasses=null),b===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return d.styles}function Fs(s,d,b){var m=s.doc,S=s.display;if(!m.mode.startState)return new da(m,!0,d);var L=PO(s,d,b),O=L>m.first&&ft(m,L-1).stateAfter,H=O?da.fromSaved(m,O,L):new da(m,Gn(m.mode),L);return m.iter(L,d,function(X){sd(s,X.text,H);var J=H.line;X.stateAfter=J==d-1||J%5==0||J>=S.viewFrom&&J<S.viewTo?H.save():null,H.nextLine()}),b&&(m.modeFrontier=H.line),H}function sd(s,d,b,m){var S=s.doc.mode,L=new Ft(d,s.options.tabSize,b);for(L.start=L.pos=m||0,d==""&&dw(S,b.state);!L.eol();)ld(S,L,b.state),L.start=L.pos}function dw(s,d){if(s.blankLine)return s.blankLine(d);if(s.innerMode){var b=Pa(s,d);if(b.mode.blankLine)return b.mode.blankLine(b.state)}}function ld(s,d,b,m){for(var S=0;S<10;S++){m&&(m[0]=Pa(s,b).mode);var L=s.token(d,b);if(d.pos>d.start)return L}throw new Error("Mode "+s.name+" failed to advance stream.")}var hw=function(s,d,b){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=d||null,this.state=b};function vw(s,d,b,m){var S=s.doc,L=S.mode,O;d=Ct(S,d);var H=ft(S,d.line),X=Fs(s,d.line,b),J=new Ft(H.text,s.options.tabSize,X),ce;for(m&&(ce=[]);(m||J.pos<d.ch)&&!J.eol();)J.start=J.pos,O=ld(L,J,X.state),m&&ce.push(new hw(J,O,sn(S.mode,X.state)));return m?ce:new hw(J,O,X.state)}function pw(s,d){if(s)for(;;){var b=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!b)break;s=s.slice(0,b.index)+s.slice(b.index+b[0].length);var m=b[1]?"bgClass":"textClass";d[m]==null?d[m]=b[2]:new RegExp("(?:^|\\s)"+b[2]+"(?:$|\\s)").test(d[m])||(d[m]+=" "+b[2])}return s}function gw(s,d,b,m,S,L,O){var H=b.flattenSpans;H==null&&(H=s.options.flattenSpans);var X=0,J=null,ce=new Ft(d,s.options.tabSize,m),ge,De=s.options.addModeClass&&[null];for(d==""&&pw(dw(b,m.state),L);!ce.eol();){if(ce.pos>s.options.maxHighlightLength?(H=!1,O&&sd(s,d,m,ce.pos),ce.pos=d.length,ge=null):ge=pw(ld(b,ce,m.state,De),L),De){var Le=De[0].name;Le&&(ge="m-"+(ge?Le+" "+ge:Le))}if(!H||J!=ge){for(;X<ce.start;)X=Math.min(ce.start,X+5e3),S(X,J);J=ge}ce.start=ce.pos}for(;X<ce.pos;){var Ne=Math.min(ce.pos,X+5e3);S(Ne,J),X=Ne}}function PO(s,d,b){for(var m,S,L=s.doc,O=b?-1:d-(s.doc.mode.innerMode?1e3:100),H=d;H>O;--H){if(H<=L.first)return L.first;var X=ft(L,H-1),J=X.stateAfter;if(J&&(!b||H+(J instanceof Cu?J.lookAhead:0)<=L.modeFrontier))return H;var ce=te(X.text,null,s.options.tabSize);(S==null||m>ce)&&(S=H-1,m=ce)}return S}function kO(s,d){if(s.modeFrontier=Math.min(s.modeFrontier,d),!(s.highlightFrontier<d-10)){for(var b=s.first,m=d-1;m>b;m--){var S=ft(s,m).stateAfter;if(S&&(!(S instanceof Cu)||m+S.lookAhead<d)){b=m+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,b)}}var yw=!1,ka=!1;function NO(){yw=!0}function OO(){ka=!0}function Eu(s,d,b){this.marker=s,this.from=d,this.to=b}function Bs(s,d){if(s)for(var b=0;b<s.length;++b){var m=s[b];if(m.marker==d)return m}}function IO(s,d){for(var b,m=0;m<s.length;++m)s[m]!=d&&(b||(b=[])).push(s[m]);return b}function FO(s,d,b){var m=b&&window.WeakSet&&(b.markedSpans||(b.markedSpans=new WeakSet));m&&s.markedSpans&&m.has(s.markedSpans)?s.markedSpans.push(d):(s.markedSpans=s.markedSpans?s.markedSpans.concat([d]):[d],m&&m.add(s.markedSpans)),d.marker.attachLine(s)}function BO(s,d,b){var m;if(s)for(var S=0;S<s.length;++S){var L=s[S],O=L.marker,H=L.from==null||(O.inclusiveLeft?L.from<=d:L.from<d);if(H||L.from==d&&O.type=="bookmark"&&(!b||!L.marker.insertLeft)){var X=L.to==null||(O.inclusiveRight?L.to>=d:L.to>d);(m||(m=[])).push(new Eu(O,L.from,X?null:L.to))}}return m}function qO(s,d,b){var m;if(s)for(var S=0;S<s.length;++S){var L=s[S],O=L.marker,H=L.to==null||(O.inclusiveRight?L.to>=d:L.to>d);if(H||L.from==d&&O.type=="bookmark"&&(!b||L.marker.insertLeft)){var X=L.from==null||(O.inclusiveLeft?L.from<=d:L.from<d);(m||(m=[])).push(new Eu(O,X?null:L.from-d,L.to==null?null:L.to-d))}}return m}function ud(s,d){if(d.full)return null;var b=ke(s,d.from.line)&&ft(s,d.from.line).markedSpans,m=ke(s,d.to.line)&&ft(s,d.to.line).markedSpans;if(!b&&!m)return null;var S=d.from.ch,L=d.to.ch,O=Ze(d.from,d.to)==0,H=BO(b,S,O),X=qO(m,L,O),J=d.text.length==1,ce=de(d.text).length+(J?S:0);if(H)for(var ge=0;ge<H.length;++ge){var De=H[ge];if(De.to==null){var Le=Bs(X,De.marker);Le?J&&(De.to=Le.to==null?null:Le.to+ce):De.to=S}}if(X)for(var Ne=0;Ne<X.length;++Ne){var Be=X[Ne];if(Be.to!=null&&(Be.to+=ce),Be.from==null){var Ke=Bs(H,Be.marker);Ke||(Be.from=ce,J&&(H||(H=[])).push(Be))}else Be.from+=ce,J&&(H||(H=[])).push(Be)}H&&(H=mw(H)),X&&X!=H&&(X=mw(X));var et=[H];if(!J){var ot=d.text.length-2,tt;if(ot>0&&H)for(var lt=0;lt<H.length;++lt)H[lt].to==null&&(tt||(tt=[])).push(new Eu(H[lt].marker,null,null));for(var yt=0;yt<ot;++yt)et.push(tt);et.push(X)}return et}function mw(s){for(var d=0;d<s.length;++d){var b=s[d];b.from!=null&&b.from==b.to&&b.marker.clearWhenEmpty!==!1&&s.splice(d--,1)}return s.length?s:null}function zO(s,d,b){var m=null;if(s.iter(d.line,b.line+1,function(Le){if(Le.markedSpans)for(var Ne=0;Ne<Le.markedSpans.length;++Ne){var Be=Le.markedSpans[Ne].marker;Be.readOnly&&(!m||se(m,Be)==-1)&&(m||(m=[])).push(Be)}}),!m)return null;for(var S=[{from:d,to:b}],L=0;L<m.length;++L)for(var O=m[L],H=O.find(0),X=0;X<S.length;++X){var J=S[X];if(!(Ze(J.to,H.from)<0||Ze(J.from,H.to)>0)){var ce=[X,1],ge=Ze(J.from,H.from),De=Ze(J.to,H.to);(ge<0||!O.inclusiveLeft&&!ge)&&ce.push({from:J.from,to:H.from}),(De>0||!O.inclusiveRight&&!De)&&ce.push({from:H.to,to:J.to}),S.splice.apply(S,ce),X+=ce.length-3}}return S}function bw(s){var d=s.markedSpans;if(d){for(var b=0;b<d.length;++b)d[b].marker.detachLine(s);s.markedSpans=null}}function ww(s,d){if(d){for(var b=0;b<d.length;++b)d[b].marker.attachLine(s);s.markedSpans=d}}function Tu(s){return s.inclusiveLeft?-1:0}function Su(s){return s.inclusiveRight?1:0}function fd(s,d){var b=s.lines.length-d.lines.length;if(b!=0)return b;var m=s.find(),S=d.find(),L=Ze(m.from,S.from)||Tu(s)-Tu(d);if(L)return-L;var O=Ze(m.to,S.to)||Su(s)-Su(d);return O||d.id-s.id}function xw(s,d){var b=ka&&s.markedSpans,m;if(b)for(var S=void 0,L=0;L<b.length;++L)S=b[L],S.marker.collapsed&&(d?S.from:S.to)==null&&(!m||fd(m,S.marker)<0)&&(m=S.marker);return m}function Cw(s){return xw(s,!0)}function Au(s){return xw(s,!1)}function GO(s,d){var b=ka&&s.markedSpans,m;if(b)for(var S=0;S<b.length;++S){var L=b[S];L.marker.collapsed&&(L.from==null||L.from<d)&&(L.to==null||L.to>d)&&(!m||fd(m,L.marker)<0)&&(m=L.marker)}return m}function Ew(s,d,b,m,S){var L=ft(s,d),O=ka&&L.markedSpans;if(O)for(var H=0;H<O.length;++H){var X=O[H];if(X.marker.collapsed){var J=X.marker.find(0),ce=Ze(J.from,b)||Tu(X.marker)-Tu(S),ge=Ze(J.to,m)||Su(X.marker)-Su(S);if(!(ce>=0&&ge<=0||ce<=0&&ge>=0)&&(ce<=0&&(X.marker.inclusiveRight&&S.inclusiveLeft?Ze(J.to,b)>=0:Ze(J.to,b)>0)||ce>=0&&(X.marker.inclusiveRight&&S.inclusiveLeft?Ze(J.from,m)<=0:Ze(J.from,m)<0)))return!0}}}function Jn(s){for(var d;d=Cw(s);)s=d.find(-1,!0).line;return s}function HO(s){for(var d;d=Au(s);)s=d.find(1,!0).line;return s}function UO(s){for(var d,b;d=Au(s);)s=d.find(1,!0).line,(b||(b=[])).push(s);return b}function cd(s,d){var b=ft(s,d),m=Jn(b);return b==m?d:Q(m)}function Tw(s,d){if(d>s.lastLine())return d;var b=ft(s,d),m;if(!ai(s,b))return d;for(;m=Au(b);)b=m.find(1,!0).line;return Q(b)+1}function ai(s,d){var b=ka&&d.markedSpans;if(b){for(var m=void 0,S=0;S<b.length;++S)if(m=b[S],!!m.marker.collapsed){if(m.from==null)return!0;if(!m.marker.widgetNode&&m.from==0&&m.marker.inclusiveLeft&&dd(s,d,m))return!0}}}function dd(s,d,b){if(b.to==null){var m=b.marker.find(1,!0);return dd(s,m.line,Bs(m.line.markedSpans,b.marker))}if(b.marker.inclusiveRight&&b.to==d.text.length)return!0;for(var S=void 0,L=0;L<d.markedSpans.length;++L)if(S=d.markedSpans[L],S.marker.collapsed&&!S.marker.widgetNode&&S.from==b.to&&(S.to==null||S.to!=b.from)&&(S.marker.inclusiveLeft||b.marker.inclusiveRight)&&dd(s,d,S))return!0}function Na(s){s=Jn(s);for(var d=0,b=s.parent,m=0;m<b.lines.length;++m){var S=b.lines[m];if(S==s)break;d+=S.height}for(var L=b.parent;L;b=L,L=b.parent)for(var O=0;O<L.children.length;++O){var H=L.children[O];if(H==b)break;d+=H.height}return d}function Lu(s){if(s.height==0)return 0;for(var d=s.text.length,b,m=s;b=Cw(m);){var S=b.find(0,!0);m=S.from.line,d+=S.from.ch-S.to.ch}for(m=s;b=Au(m);){var L=b.find(0,!0);d-=m.text.length-L.from.ch,m=L.to.line,d+=m.text.length-L.to.ch}return d}function hd(s){var d=s.display,b=s.doc;d.maxLine=ft(b,b.first),d.maxLineLength=Lu(d.maxLine),d.maxLineChanged=!0,b.iter(function(m){var S=Lu(m);S>d.maxLineLength&&(d.maxLineLength=S,d.maxLine=m)})}var Po=function(s,d,b){this.text=s,ww(this,d),this.height=b?b(this):1};Po.prototype.lineNo=function(){return Q(this)},Ge(Po);function WO(s,d,b,m){s.text=d,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),bw(s),ww(s,b);var S=m?m(s):1;S!=s.height&&Pt(s,S)}function VO(s){s.parent=null,bw(s)}var $O={},YO={};function Sw(s,d){if(!s||/^\s*$/.test(s))return null;var b=d.addModeClass?YO:$O;return b[s]||(b[s]=s.replace(/\S+/g,"cm-$&"))}function Aw(s,d){var b=N("span",null,null,c?"padding-right: .1px":null),m={pre:N("pre",[b],"CodeMirror-line"),content:b,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};d.measure={};for(var S=0;S<=(d.rest?d.rest.length:0);S++){var L=S?d.rest[S-1]:d.line,O=void 0;m.pos=0,m.addToken=KO,Lt(s.display.measure)&&(O=xe(L,s.doc.direction))&&(m.addToken=ZO(m.addToken,O)),m.map=[];var H=d!=s.display.externalMeasured&&Q(L);QO(L,m,cw(s,L,H)),L.styleClasses&&(L.styleClasses.bgClass&&(m.bgClass=K(L.styleClasses.bgClass,m.bgClass||"")),L.styleClasses.textClass&&(m.textClass=K(L.styleClasses.textClass,m.textClass||""))),m.map.length==0&&m.map.push(0,0,m.content.appendChild(Mt(s.display.measure))),S==0?(d.measure.map=m.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(m.map),(d.measure.caches||(d.measure.caches=[])).push({}))}if(c){var X=m.content.lastChild;(/\bcm-tab\b/.test(X.className)||X.querySelector&&X.querySelector(".cm-tab"))&&(m.content.className="cm-tab-wrap-hack")}return He(s,"renderLine",s,d.line,m.pre),m.pre.className&&(m.textClass=K(m.pre.className,m.textClass||"")),m}function XO(s){var d=P("span","•","cm-invalidchar");return d.title="\\u"+s.charCodeAt(0).toString(16),d.setAttribute("aria-label",d.title),d}function KO(s,d,b,m,S,L,O){if(d){var H=s.splitSpaces?jO(d,s.trailingSpace):d,X=s.cm.state.specialChars,J=!1,ce;if(!X.test(d))s.col+=d.length,ce=document.createTextNode(H),s.map.push(s.pos,s.pos+d.length,ce),u&&f<9&&(J=!0),s.pos+=d.length;else{ce=document.createDocumentFragment();for(var ge=0;;){X.lastIndex=ge;var De=X.exec(d),Le=De?De.index-ge:d.length-ge;if(Le){var Ne=document.createTextNode(H.slice(ge,ge+Le));u&&f<9?ce.appendChild(P("span",[Ne])):ce.appendChild(Ne),s.map.push(s.pos,s.pos+Le,Ne),s.col+=Le,s.pos+=Le}if(!De)break;ge+=Le+1;var Be=void 0;if(De[0]=="	"){var Ke=s.cm.options.tabSize,et=Ke-s.col%Ke;Be=ce.appendChild(P("span",ve(et),"cm-tab")),Be.setAttribute("role","presentation"),Be.setAttribute("cm-text","	"),s.col+=et}else De[0]=="\r"||De[0]==`
`?(Be=ce.appendChild(P("span",De[0]=="\r"?"␍":"␤","cm-invalidchar")),Be.setAttribute("cm-text",De[0]),s.col+=1):(Be=s.cm.options.specialCharPlaceholder(De[0]),Be.setAttribute("cm-text",De[0]),u&&f<9?ce.appendChild(P("span",[Be])):ce.appendChild(Be),s.col+=1);s.map.push(s.pos,s.pos+1,Be),s.pos++}}if(s.trailingSpace=H.charCodeAt(d.length-1)==32,b||m||S||J||L||O){var ot=b||"";m&&(ot+=m),S&&(ot+=S);var tt=P("span",[ce],ot,L);if(O)for(var lt in O)O.hasOwnProperty(lt)&&lt!="style"&&lt!="class"&&tt.setAttribute(lt,O[lt]);return s.content.appendChild(tt)}s.content.appendChild(ce)}}function jO(s,d){if(s.length>1&&!/  /.test(s))return s;for(var b=d,m="",S=0;S<s.length;S++){var L=s.charAt(S);L==" "&&b&&(S==s.length-1||s.charCodeAt(S+1)==32)&&(L=" "),m+=L,b=L==" "}return m}function ZO(s,d){return function(b,m,S,L,O,H,X){S=S?S+" cm-force-border":"cm-force-border";for(var J=b.pos,ce=J+m.length;;){for(var ge=void 0,De=0;De<d.length&&(ge=d[De],!(ge.to>J&&ge.from<=J));De++);if(ge.to>=ce)return s(b,m,S,L,O,H,X);s(b,m.slice(0,ge.to-J),S,L,null,H,X),L=null,m=m.slice(ge.to-J),J=ge.to}}}function Lw(s,d,b,m){var S=!m&&b.widgetNode;S&&s.map.push(s.pos,s.pos+d,S),!m&&s.cm.display.input.needsContentAttribute&&(S||(S=s.content.appendChild(document.createElement("span"))),S.setAttribute("cm-marker",b.id)),S&&(s.cm.display.input.setUneditable(S),s.content.appendChild(S)),s.pos+=d,s.trailingSpace=!1}function QO(s,d,b){var m=s.markedSpans,S=s.text,L=0;if(!m){for(var O=1;O<b.length;O+=2)d.addToken(d,S.slice(L,L=b[O]),Sw(b[O+1],d.cm.options));return}for(var H=S.length,X=0,J=1,ce="",ge,De,Le=0,Ne,Be,Ke,et,ot;;){if(Le==X){Ne=Be=Ke=De="",ot=null,et=null,Le=1/0;for(var tt=[],lt=void 0,yt=0;yt<m.length;++yt){var pt=m[yt],At=pt.marker;if(At.type=="bookmark"&&pt.from==X&&At.widgetNode)tt.push(At);else if(pt.from<=X&&(pt.to==null||pt.to>X||At.collapsed&&pt.to==X&&pt.from==X)){if(pt.to!=null&&pt.to!=X&&Le>pt.to&&(Le=pt.to,Be=""),At.className&&(Ne+=" "+At.className),At.css&&(De=(De?De+";":"")+At.css),At.startStyle&&pt.from==X&&(Ke+=" "+At.startStyle),At.endStyle&&pt.to==Le&&(lt||(lt=[])).push(At.endStyle,pt.to),At.title&&((ot||(ot={})).title=At.title),At.attributes)for(var Zt in At.attributes)(ot||(ot={}))[Zt]=At.attributes[Zt];At.collapsed&&(!et||fd(et.marker,At)<0)&&(et=pt)}else pt.from>X&&Le>pt.from&&(Le=pt.from)}if(lt)for(var Nr=0;Nr<lt.length;Nr+=2)lt[Nr+1]==Le&&(Be+=" "+lt[Nr]);if(!et||et.from==X)for(var cr=0;cr<tt.length;++cr)Lw(d,0,tt[cr]);if(et&&(et.from||0)==X){if(Lw(d,(et.to==null?H+1:et.to)-X,et.marker,et.from==null),et.to==null)return;et.to==X&&(et=!1)}}if(X>=H)break;for(var Dn=Math.min(H,Le);;){if(ce){var wn=X+ce.length;if(!et){var Cr=wn>Dn?ce.slice(0,Dn-X):ce;d.addToken(d,Cr,ge?ge+Ne:Ne,Ke,X+Cr.length==Le?Be:"",De,ot)}if(wn>=Dn){ce=ce.slice(Dn-X),X=Dn;break}X=wn,Ke=""}ce=S.slice(L,L=b[J++]),ge=Sw(b[J++],d.cm.options)}}}function _w(s,d,b){this.line=d,this.rest=UO(d),this.size=this.rest?Q(de(this.rest))-b+1:1,this.node=this.text=null,this.hidden=ai(s,d)}function _u(s,d,b){for(var m=[],S,L=d;L<b;L=S){var O=new _w(s.doc,ft(s.doc,L),L);S=L+O.size,m.push(O)}return m}var ko=null;function JO(s){ko?ko.ops.push(s):s.ownsGroup=ko={ops:[s],delayedCallbacks:[]}}function eI(s){var d=s.delayedCallbacks,b=0;do{for(;b<d.length;b++)d[b].call(null);for(var m=0;m<s.ops.length;m++){var S=s.ops[m];if(S.cursorActivityHandlers)for(;S.cursorActivityCalled<S.cursorActivityHandlers.length;)S.cursorActivityHandlers[S.cursorActivityCalled++].call(null,S.cm)}}while(b<d.length)}function tI(s,d){var b=s.ownsGroup;if(b)try{eI(b)}finally{ko=null,d(b)}}var qs=null;function Rr(s,d){var b=Oe(s,d);if(b.length){var m=Array.prototype.slice.call(arguments,2),S;ko?S=ko.delayedCallbacks:qs?S=qs:(S=qs=[],setTimeout(rI,0));for(var L=function(H){S.push(function(){return b[H].apply(null,m)})},O=0;O<b.length;++O)L(O)}}function rI(){var s=qs;qs=null;for(var d=0;d<s.length;++d)s[d]()}function Dw(s,d,b,m){for(var S=0;S<d.changes.length;S++){var L=d.changes[S];L=="text"?aI(s,d):L=="gutter"?Rw(s,d,b,m):L=="class"?vd(s,d):L=="widget"&&iI(s,d,m)}d.changes=null}function zs(s){return s.node==s.text&&(s.node=P("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),u&&f<8&&(s.node.style.zIndex=2)),s.node}function nI(s,d){var b=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;if(b&&(b+=" CodeMirror-linebackground"),d.background)b?d.background.className=b:(d.background.parentNode.removeChild(d.background),d.background=null);else if(b){var m=zs(d);d.background=m.insertBefore(P("div",null,b),m.firstChild),s.display.input.setUneditable(d.background)}}function Mw(s,d){var b=s.display.externalMeasured;return b&&b.line==d.line?(s.display.externalMeasured=null,d.measure=b.measure,b.built):Aw(s,d)}function aI(s,d){var b=d.text.className,m=Mw(s,d);d.text==d.node&&(d.node=m.pre),d.text.parentNode.replaceChild(m.pre,d.text),d.text=m.pre,m.bgClass!=d.bgClass||m.textClass!=d.textClass?(d.bgClass=m.bgClass,d.textClass=m.textClass,vd(s,d)):b&&(d.text.className=b)}function vd(s,d){nI(s,d),d.line.wrapClass?zs(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className="");var b=d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass;d.text.className=b||""}function Rw(s,d,b,m){if(d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null),d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null),d.line.gutterClass){var S=zs(d);d.gutterBackground=P("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(s.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px; width: "+m.gutterTotalWidth+"px"),s.display.input.setUneditable(d.gutterBackground),S.insertBefore(d.gutterBackground,d.text)}var L=d.line.gutterMarkers;if(s.options.lineNumbers||L){var O=zs(d),H=d.gutter=P("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px");if(H.setAttribute("aria-hidden","true"),s.display.input.setUneditable(H),O.insertBefore(H,d.text),d.line.gutterClass&&(H.className+=" "+d.line.gutterClass),s.options.lineNumbers&&(!L||!L["CodeMirror-linenumbers"])&&(d.lineNumber=H.appendChild(P("div",ze(s.options,b),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+m.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),L)for(var X=0;X<s.display.gutterSpecs.length;++X){var J=s.display.gutterSpecs[X].className,ce=L.hasOwnProperty(J)&&L[J];ce&&H.appendChild(P("div",[ce],"CodeMirror-gutter-elt","left: "+m.gutterLeft[J]+"px; width: "+m.gutterWidth[J]+"px"))}}}function iI(s,d,b){d.alignable&&(d.alignable=null);for(var m=G("CodeMirror-linewidget"),S=d.node.firstChild,L=void 0;S;S=L)L=S.nextSibling,m.test(S.className)&&d.node.removeChild(S);Pw(s,d,b)}function oI(s,d,b,m){var S=Mw(s,d);return d.text=d.node=S.pre,S.bgClass&&(d.bgClass=S.bgClass),S.textClass&&(d.textClass=S.textClass),vd(s,d),Rw(s,d,b,m),Pw(s,d,m),d.node}function Pw(s,d,b){if(kw(s,d.line,d,b,!0),d.rest)for(var m=0;m<d.rest.length;m++)kw(s,d.rest[m],d,b,!1)}function kw(s,d,b,m,S){if(d.widgets)for(var L=zs(b),O=0,H=d.widgets;O<H.length;++O){var X=H[O],J=P("div",[X.node],"CodeMirror-linewidget"+(X.className?" "+X.className:""));X.handleMouseEvents||J.setAttribute("cm-ignore-events","true"),sI(X,J,b,m),s.display.input.setUneditable(J),S&&X.above?L.insertBefore(J,b.gutter||b.text):L.appendChild(J),Rr(X,"redraw")}}function sI(s,d,b,m){if(s.noHScroll){(b.alignable||(b.alignable=[])).push(d);var S=m.wrapperWidth;d.style.left=m.fixedPos+"px",s.coverGutter||(S-=m.gutterTotalWidth,d.style.paddingLeft=m.gutterTotalWidth+"px"),d.style.width=S+"px"}s.coverGutter&&(d.style.zIndex=5,d.style.position="relative",s.noHScroll||(d.style.marginLeft=-m.gutterTotalWidth+"px"))}function Gs(s){if(s.height!=null)return s.height;var d=s.doc.cm;if(!d)return 0;if(!z(document.body,s.node)){var b="position: relative;";s.coverGutter&&(b+="margin-left: -"+d.display.gutters.offsetWidth+"px;"),s.noHScroll&&(b+="width: "+d.display.wrapper.clientWidth+"px;"),M(d.display.measure,P("div",[s.node],null,b))}return s.height=s.node.parentNode.offsetHeight}function Oa(s,d){for(var b=Et(d);b!=s.wrapper;b=b.parentNode)if(!b||b.nodeType==1&&b.getAttribute("cm-ignore-events")=="true"||b.parentNode==s.sizer&&b!=s.mover)return!0}function Du(s){return s.lineSpace.offsetTop}function pd(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function Nw(s){if(s.cachedPaddingH)return s.cachedPaddingH;var d=M(s.measure,P("pre","x","CodeMirror-line-like")),b=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,m={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};return!isNaN(m.left)&&!isNaN(m.right)&&(s.cachedPaddingH=m),m}function ha(s){return $-s.display.nativeBarWidth}function Hi(s){return s.display.scroller.clientWidth-ha(s)-s.display.barWidth}function gd(s){return s.display.scroller.clientHeight-ha(s)-s.display.barHeight}function lI(s,d,b){var m=s.options.lineWrapping,S=m&&Hi(s);if(!d.measure.heights||m&&d.measure.width!=S){var L=d.measure.heights=[];if(m){d.measure.width=S;for(var O=d.text.firstChild.getClientRects(),H=0;H<O.length-1;H++){var X=O[H],J=O[H+1];Math.abs(X.bottom-J.bottom)>2&&L.push((X.bottom+J.top)/2-b.top)}}L.push(b.bottom-b.top)}}function Ow(s,d,b){if(s.line==d)return{map:s.measure.map,cache:s.measure.cache};if(s.rest){for(var m=0;m<s.rest.length;m++)if(s.rest[m]==d)return{map:s.measure.maps[m],cache:s.measure.caches[m]};for(var S=0;S<s.rest.length;S++)if(Q(s.rest[S])>b)return{map:s.measure.maps[S],cache:s.measure.caches[S],before:!0}}}function uI(s,d){d=Jn(d);var b=Q(d),m=s.display.externalMeasured=new _w(s.doc,d,b);m.lineN=b;var S=m.built=Aw(s,m);return m.text=S.pre,M(s.display.lineMeasure,S.pre),m}function Iw(s,d,b,m){return va(s,No(s,d),b,m)}function yd(s,d){if(d>=s.display.viewFrom&&d<s.display.viewTo)return s.display.view[Vi(s,d)];var b=s.display.externalMeasured;if(b&&d>=b.lineN&&d<b.lineN+b.size)return b}function No(s,d){var b=Q(d),m=yd(s,b);m&&!m.text?m=null:m&&m.changes&&(Dw(s,m,b,Cd(s)),s.curOp.forceUpdate=!0),m||(m=uI(s,d));var S=Ow(m,d,b);return{line:d,view:m,rect:null,map:S.map,cache:S.cache,before:S.before,hasHeights:!1}}function va(s,d,b,m,S){d.before&&(b=-1);var L=b+(m||""),O;return d.cache.hasOwnProperty(L)?O=d.cache[L]:(d.rect||(d.rect=d.view.text.getBoundingClientRect()),d.hasHeights||(lI(s,d.view,d.rect),d.hasHeights=!0),O=cI(s,d,b,m),O.bogus||(d.cache[L]=O)),{left:O.left,right:O.right,top:S?O.rtop:O.top,bottom:S?O.rbottom:O.bottom}}var Fw={left:0,right:0,top:0,bottom:0};function Bw(s,d,b){for(var m,S,L,O,H,X,J=0;J<s.length;J+=3)if(H=s[J],X=s[J+1],d<H?(S=0,L=1,O="left"):d<X?(S=d-H,L=S+1):(J==s.length-3||d==X&&s[J+3]>d)&&(L=X-H,S=L-1,d>=X&&(O="right")),S!=null){if(m=s[J+2],H==X&&b==(m.insertLeft?"left":"right")&&(O=b),b=="left"&&S==0)for(;J&&s[J-2]==s[J-3]&&s[J-1].insertLeft;)m=s[(J-=3)+2],O="left";if(b=="right"&&S==X-H)for(;J<s.length-3&&s[J+3]==s[J+4]&&!s[J+5].insertLeft;)m=s[(J+=3)+2],O="right";break}return{node:m,start:S,end:L,collapse:O,coverStart:H,coverEnd:X}}function fI(s,d){var b=Fw;if(d=="left")for(var m=0;m<s.length&&(b=s[m]).left==b.right;m++);else for(var S=s.length-1;S>=0&&(b=s[S]).left==b.right;S--);return b}function cI(s,d,b,m){var S=Bw(d.map,b,m),L=S.node,O=S.start,H=S.end,X=S.collapse,J;if(L.nodeType==3){for(var ce=0;ce<4;ce++){for(;O&&Xe(d.line.text.charAt(S.coverStart+O));)--O;for(;S.coverStart+H<S.coverEnd&&Xe(d.line.text.charAt(S.coverStart+H));)++H;if(u&&f<9&&O==0&&H==S.coverEnd-S.coverStart?J=L.parentNode.getBoundingClientRect():J=fI(I(L,O,H).getClientRects(),m),J.left||J.right||O==0)break;H=O,O=O-1,X="right"}u&&f<11&&(J=dI(s.display.measure,J))}else{O>0&&(X=m="right");var ge;s.options.lineWrapping&&(ge=L.getClientRects()).length>1?J=ge[m=="right"?ge.length-1:0]:J=L.getBoundingClientRect()}if(u&&f<9&&!O&&(!J||!J.left&&!J.right)){var De=L.parentNode.getClientRects()[0];De?J={left:De.left,right:De.left+Io(s.display),top:De.top,bottom:De.bottom}:J=Fw}for(var Le=J.top-d.rect.top,Ne=J.bottom-d.rect.top,Be=(Le+Ne)/2,Ke=d.view.measure.heights,et=0;et<Ke.length-1&&!(Be<Ke[et]);et++);var ot=et?Ke[et-1]:0,tt=Ke[et],lt={left:(X=="right"?J.right:J.left)-d.rect.left,right:(X=="left"?J.left:J.right)-d.rect.left,top:ot,bottom:tt};return!J.left&&!J.right&&(lt.bogus=!0),s.options.singleCursorHeightPerLine||(lt.rtop=Le,lt.rbottom=Ne),lt}function dI(s,d){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!er(s))return d;var b=screen.logicalXDPI/screen.deviceXDPI,m=screen.logicalYDPI/screen.deviceYDPI;return{left:d.left*b,right:d.right*b,top:d.top*m,bottom:d.bottom*m}}function qw(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var d=0;d<s.rest.length;d++)s.measure.caches[d]={}}function zw(s){s.display.externalMeasure=null,q(s.display.lineMeasure);for(var d=0;d<s.display.view.length;d++)qw(s.display.view[d])}function Hs(s){zw(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function Gw(s){return p&&w?-(s.body.getBoundingClientRect().left-parseInt(getComputedStyle(s.body).marginLeft)):s.defaultView.pageXOffset||(s.documentElement||s.body).scrollLeft}function Hw(s){return p&&w?-(s.body.getBoundingClientRect().top-parseInt(getComputedStyle(s.body).marginTop)):s.defaultView.pageYOffset||(s.documentElement||s.body).scrollTop}function md(s){var d=Jn(s),b=d.widgets,m=0;if(b)for(var S=0;S<b.length;++S)b[S].above&&(m+=Gs(b[S]));return m}function Mu(s,d,b,m,S){if(!S){var L=md(d);b.top+=L,b.bottom+=L}if(m=="line")return b;m||(m="local");var O=Na(d);if(m=="local"?O+=Du(s.display):O-=s.display.viewOffset,m=="page"||m=="window"){var H=s.display.lineSpace.getBoundingClientRect();O+=H.top+(m=="window"?0:Hw(Z(s)));var X=H.left+(m=="window"?0:Gw(Z(s)));b.left+=X,b.right+=X}return b.top+=O,b.bottom+=O,b}function Uw(s,d,b){if(b=="div")return d;var m=d.left,S=d.top;if(b=="page")m-=Gw(Z(s)),S-=Hw(Z(s));else if(b=="local"||!b){var L=s.display.sizer.getBoundingClientRect();m+=L.left,S+=L.top}var O=s.display.lineSpace.getBoundingClientRect();return{left:m-O.left,top:S-O.top}}function Ru(s,d,b,m,S){return m||(m=ft(s.doc,d.line)),Mu(s,m,Iw(s,m,d.ch,S),b)}function ea(s,d,b,m,S,L){m=m||ft(s.doc,d.line),S||(S=No(s,m));function O(Ne,Be){var Ke=va(s,S,Ne,Be?"right":"left",L);return Be?Ke.left=Ke.right:Ke.right=Ke.left,Mu(s,m,Ke,b)}var H=xe(m,s.doc.direction),X=d.ch,J=d.sticky;if(X>=m.text.length?(X=m.text.length,J="before"):X<=0&&(X=0,J="after"),!H)return O(J=="before"?X-1:X,J=="before");function ce(Ne,Be,Ke){var et=H[Be],ot=et.level==1;return O(Ke?Ne-1:Ne,ot!=Ke)}var ge=me(H,X,J),De=pe,Le=ce(X,ge,J=="before");return De!=null&&(Le.other=ce(X,De,J!="before")),Le}function Ww(s,d){var b=0;d=Ct(s.doc,d),s.options.lineWrapping||(b=Io(s.display)*d.ch);var m=ft(s.doc,d.line),S=Na(m)+Du(s.display);return{left:b,right:b,top:S,bottom:S+m.height}}function bd(s,d,b,m,S){var L=Re(s,d,b);return L.xRel=S,m&&(L.outside=m),L}function wd(s,d,b){var m=s.doc;if(b+=s.display.viewOffset,b<0)return bd(m.first,0,null,-1,-1);var S=fe(m,b),L=m.first+m.size-1;if(S>L)return bd(m.first+m.size-1,ft(m,L).text.length,null,1,1);d<0&&(d=0);for(var O=ft(m,S);;){var H=hI(s,O,S,d,b),X=GO(O,H.ch+(H.xRel>0||H.outside>0?1:0));if(!X)return H;var J=X.find(1);if(J.line==S)return J;O=ft(m,S=J.line)}}function Vw(s,d,b,m){m-=md(d);var S=d.text.length,L=he(function(O){return va(s,b,O-1).bottom<=m},S,0);return S=he(function(O){return va(s,b,O).top>m},L,S),{begin:L,end:S}}function $w(s,d,b,m){b||(b=No(s,d));var S=Mu(s,d,va(s,b,m),"line").top;return Vw(s,d,b,S)}function xd(s,d,b,m){return s.bottom<=b?!1:s.top>b?!0:(m?s.left:s.right)>d}function hI(s,d,b,m,S){S-=Na(d);var L=No(s,d),O=md(d),H=0,X=d.text.length,J=!0,ce=xe(d,s.doc.direction);if(ce){var ge=(s.options.lineWrapping?pI:vI)(s,d,b,L,ce,m,S);J=ge.level!=1,H=J?ge.from:ge.to-1,X=J?ge.to:ge.from-1}var De=null,Le=null,Ne=he(function(yt){var pt=va(s,L,yt);return pt.top+=O,pt.bottom+=O,xd(pt,m,S,!1)?(pt.top<=S&&pt.left<=m&&(De=yt,Le=pt),!0):!1},H,X),Be,Ke,et=!1;if(Le){var ot=m-Le.left<Le.right-m,tt=ot==J;Ne=De+(tt?0:1),Ke=tt?"after":"before",Be=ot?Le.left:Le.right}else{!J&&(Ne==X||Ne==H)&&Ne++,Ke=Ne==0?"after":Ne==d.text.length?"before":va(s,L,Ne-(J?1:0)).bottom+O<=S==J?"after":"before";var lt=ea(s,Re(b,Ne,Ke),"line",d,L);Be=lt.left,et=S<lt.top?-1:S>=lt.bottom?1:0}return Ne=Ve(d.text,Ne,1),bd(b,Ne,Ke,et,m-Be)}function vI(s,d,b,m,S,L,O){var H=he(function(ge){var De=S[ge],Le=De.level!=1;return xd(ea(s,Re(b,Le?De.to:De.from,Le?"before":"after"),"line",d,m),L,O,!0)},0,S.length-1),X=S[H];if(H>0){var J=X.level!=1,ce=ea(s,Re(b,J?X.from:X.to,J?"after":"before"),"line",d,m);xd(ce,L,O,!0)&&ce.top>O&&(X=S[H-1])}return X}function pI(s,d,b,m,S,L,O){var H=Vw(s,d,m,O),X=H.begin,J=H.end;/\s/.test(d.text.charAt(J-1))&&J--;for(var ce=null,ge=null,De=0;De<S.length;De++){var Le=S[De];if(!(Le.from>=J||Le.to<=X)){var Ne=Le.level!=1,Be=va(s,m,Ne?Math.min(J,Le.to)-1:Math.max(X,Le.from)).right,Ke=Be<L?L-Be+1e9:Be-L;(!ce||ge>Ke)&&(ce=Le,ge=Ke)}}return ce||(ce=S[S.length-1]),ce.from<X&&(ce={from:X,to:ce.to,level:ce.level}),ce.to>J&&(ce={from:ce.from,to:J,level:ce.level}),ce}var Ui;function Oo(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(Ui==null){Ui=P("pre",null,"CodeMirror-line-like");for(var d=0;d<49;++d)Ui.appendChild(document.createTextNode("x")),Ui.appendChild(P("br"));Ui.appendChild(document.createTextNode("x"))}M(s.measure,Ui);var b=Ui.offsetHeight/50;return b>3&&(s.cachedTextHeight=b),q(s.measure),b||1}function Io(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var d=P("span","xxxxxxxxxx"),b=P("pre",[d],"CodeMirror-line-like");M(s.measure,b);var m=d.getBoundingClientRect(),S=(m.right-m.left)/10;return S>2&&(s.cachedCharWidth=S),S||10}function Cd(s){for(var d=s.display,b={},m={},S=d.gutters.clientLeft,L=d.gutters.firstChild,O=0;L;L=L.nextSibling,++O){var H=s.display.gutterSpecs[O].className;b[H]=L.offsetLeft+L.clientLeft+S,m[H]=L.clientWidth}return{fixedPos:Ed(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:b,gutterWidth:m,wrapperWidth:d.wrapper.clientWidth}}function Ed(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function Yw(s){var d=Oo(s.display),b=s.options.lineWrapping,m=b&&Math.max(5,s.display.scroller.clientWidth/Io(s.display)-3);return function(S){if(ai(s.doc,S))return 0;var L=0;if(S.widgets)for(var O=0;O<S.widgets.length;O++)S.widgets[O].height&&(L+=S.widgets[O].height);return b?L+(Math.ceil(S.text.length/m)||1)*d:L+d}}function Td(s){var d=s.doc,b=Yw(s);d.iter(function(m){var S=b(m);S!=m.height&&Pt(m,S)})}function Wi(s,d,b,m){var S=s.display;if(!b&&Et(d).getAttribute("cm-not-content")=="true")return null;var L,O,H=S.lineSpace.getBoundingClientRect();try{L=d.clientX-H.left,O=d.clientY-H.top}catch{return null}var X=wd(s,L,O),J;if(m&&X.xRel>0&&(J=ft(s.doc,X.line).text).length==X.ch){var ce=te(J,J.length,s.options.tabSize)-J.length;X=Re(X.line,Math.max(0,Math.round((L-Nw(s.display).left)/Io(s.display))-ce))}return X}function Vi(s,d){if(d>=s.display.viewTo||(d-=s.display.viewFrom,d<0))return null;for(var b=s.display.view,m=0;m<b.length;m++)if(d-=b[m].size,d<0)return m}function mn(s,d,b,m){d==null&&(d=s.doc.first),b==null&&(b=s.doc.first+s.doc.size),m||(m=0);var S=s.display;if(m&&b<S.viewTo&&(S.updateLineNumbers==null||S.updateLineNumbers>d)&&(S.updateLineNumbers=d),s.curOp.viewChanged=!0,d>=S.viewTo)ka&&cd(s.doc,d)<S.viewTo&&oi(s);else if(b<=S.viewFrom)ka&&Tw(s.doc,b+m)>S.viewFrom?oi(s):(S.viewFrom+=m,S.viewTo+=m);else if(d<=S.viewFrom&&b>=S.viewTo)oi(s);else if(d<=S.viewFrom){var L=Pu(s,b,b+m,1);L?(S.view=S.view.slice(L.index),S.viewFrom=L.lineN,S.viewTo+=m):oi(s)}else if(b>=S.viewTo){var O=Pu(s,d,d,-1);O?(S.view=S.view.slice(0,O.index),S.viewTo=O.lineN):oi(s)}else{var H=Pu(s,d,d,-1),X=Pu(s,b,b+m,1);H&&X?(S.view=S.view.slice(0,H.index).concat(_u(s,H.lineN,X.lineN)).concat(S.view.slice(X.index)),S.viewTo+=m):oi(s)}var J=S.externalMeasured;J&&(b<J.lineN?J.lineN+=m:d<J.lineN+J.size&&(S.externalMeasured=null))}function ii(s,d,b){s.curOp.viewChanged=!0;var m=s.display,S=s.display.externalMeasured;if(S&&d>=S.lineN&&d<S.lineN+S.size&&(m.externalMeasured=null),!(d<m.viewFrom||d>=m.viewTo)){var L=m.view[Vi(s,d)];if(L.node!=null){var O=L.changes||(L.changes=[]);se(O,b)==-1&&O.push(b)}}}function oi(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function Pu(s,d,b,m){var S=Vi(s,d),L,O=s.display.view;if(!ka||b==s.doc.first+s.doc.size)return{index:S,lineN:b};for(var H=s.display.viewFrom,X=0;X<S;X++)H+=O[X].size;if(H!=d){if(m>0){if(S==O.length-1)return null;L=H+O[S].size-d,S++}else L=H-d;d+=L,b+=L}for(;cd(s.doc,b)!=b;){if(S==(m<0?0:O.length-1))return null;b+=m*O[S-(m<0?1:0)].size,S+=m}return{index:S,lineN:b}}function gI(s,d,b){var m=s.display,S=m.view;S.length==0||d>=m.viewTo||b<=m.viewFrom?(m.view=_u(s,d,b),m.viewFrom=d):(m.viewFrom>d?m.view=_u(s,d,m.viewFrom).concat(m.view):m.viewFrom<d&&(m.view=m.view.slice(Vi(s,d))),m.viewFrom=d,m.viewTo<b?m.view=m.view.concat(_u(s,m.viewTo,b)):m.viewTo>b&&(m.view=m.view.slice(0,Vi(s,b)))),m.viewTo=b}function Xw(s){for(var d=s.display.view,b=0,m=0;m<d.length;m++){var S=d[m];!S.hidden&&(!S.node||S.changes)&&++b}return b}function Us(s){s.display.input.showSelection(s.display.input.prepareSelection())}function Kw(s,d){d===void 0&&(d=!0);var b=s.doc,m={},S=m.cursors=document.createDocumentFragment(),L=m.selection=document.createDocumentFragment(),O=s.options.$customCursor;O&&(d=!0);for(var H=0;H<b.sel.ranges.length;H++)if(!(!d&&H==b.sel.primIndex)){var X=b.sel.ranges[H];if(!(X.from().line>=s.display.viewTo||X.to().line<s.display.viewFrom)){var J=X.empty();if(O){var ce=O(s,X);ce&&Sd(s,ce,S)}else(J||s.options.showCursorWhenSelecting)&&Sd(s,X.head,S);J||yI(s,X,L)}}return m}function Sd(s,d,b){var m=ea(s,d,"div",null,null,!s.options.singleCursorHeightPerLine),S=b.appendChild(P("div"," ","CodeMirror-cursor"));if(S.style.left=m.left+"px",S.style.top=m.top+"px",S.style.height=Math.max(0,m.bottom-m.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var L=Ru(s,d,"div",null,null),O=L.right-L.left;S.style.width=(O>0?O:s.defaultCharWidth())+"px"}if(m.other){var H=b.appendChild(P("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));H.style.display="",H.style.left=m.other.left+"px",H.style.top=m.other.top+"px",H.style.height=(m.other.bottom-m.other.top)*.85+"px"}}function ku(s,d){return s.top-d.top||s.left-d.left}function yI(s,d,b){var m=s.display,S=s.doc,L=document.createDocumentFragment(),O=Nw(s.display),H=O.left,X=Math.max(m.sizerWidth,Hi(s)-m.sizer.offsetLeft)-O.right,J=S.direction=="ltr";function ce(tt,lt,yt,pt){lt<0&&(lt=0),lt=Math.round(lt),pt=Math.round(pt),L.appendChild(P("div",null,"CodeMirror-selected","position: absolute; left: "+tt+`px;
                             top: `+lt+"px; width: "+(yt??X-tt)+`px;
                             height: `+(pt-lt)+"px"))}function ge(tt,lt,yt){var pt=ft(S,tt),At=pt.text.length,Zt,Nr;function cr(Cr,xn){return Ru(s,Re(tt,Cr),"div",pt,xn)}function Dn(Cr,xn,Ur){var Ar=$w(s,pt,null,Cr),Er=xn=="ltr"==(Ur=="after")?"left":"right",vr=Ur=="after"?Ar.begin:Ar.end-(/\s/.test(pt.text.charAt(Ar.end-1))?2:1);return cr(vr,Er)[Er]}var wn=xe(pt,S.direction);return j(wn,lt||0,yt??At,function(Cr,xn,Ur,Ar){var Er=Ur=="ltr",vr=cr(Cr,Er?"left":"right"),Cn=cr(xn-1,Er?"right":"left"),Ko=lt==null&&Cr==0,di=yt==null&&xn==At,Qr=Ar==0,pa=!wn||Ar==wn.length-1;if(Cn.top-vr.top<=3){var Or=(J?Ko:di)&&Qr,Qd=(J?di:Ko)&&pa,Ba=Or?H:(Er?vr:Cn).left,ji=Qd?X:(Er?Cn:vr).right;ce(Ba,vr.top,ji-Ba,vr.bottom)}else{var Zi,un,jo,Jd;Er?(Zi=J&&Ko&&Qr?H:vr.left,un=J?X:Dn(Cr,Ur,"before"),jo=J?H:Dn(xn,Ur,"after"),Jd=J&&di&&pa?X:Cn.right):(Zi=J?Dn(Cr,Ur,"before"):H,un=!J&&Ko&&Qr?X:vr.right,jo=!J&&di&&pa?H:Cn.left,Jd=J?Dn(xn,Ur,"after"):X),ce(Zi,vr.top,un-Zi,vr.bottom),vr.bottom<Cn.top&&ce(H,vr.bottom,null,Cn.top),ce(jo,Cn.top,Jd-jo,Cn.bottom)}(!Zt||ku(vr,Zt)<0)&&(Zt=vr),ku(Cn,Zt)<0&&(Zt=Cn),(!Nr||ku(vr,Nr)<0)&&(Nr=vr),ku(Cn,Nr)<0&&(Nr=Cn)}),{start:Zt,end:Nr}}var De=d.from(),Le=d.to();if(De.line==Le.line)ge(De.line,De.ch,Le.ch);else{var Ne=ft(S,De.line),Be=ft(S,Le.line),Ke=Jn(Ne)==Jn(Be),et=ge(De.line,De.ch,Ke?Ne.text.length+1:null).end,ot=ge(Le.line,Ke?0:null,Le.ch).start;Ke&&(et.top<ot.top-2?(ce(et.right,et.top,null,et.bottom),ce(H,ot.top,ot.left,ot.bottom)):ce(et.right,et.top,ot.left-et.right,et.bottom)),et.bottom<ot.top&&ce(H,et.bottom,null,ot.top)}b.appendChild(L)}function Ad(s){if(s.state.focused){var d=s.display;clearInterval(d.blinker);var b=!0;d.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?d.blinker=setInterval(function(){s.hasFocus()||Fo(s),d.cursorDiv.style.visibility=(b=!b)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(d.cursorDiv.style.visibility="hidden")}}function jw(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||_d(s))}function Ld(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&Fo(s))},100)}function _d(s,d){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(He(s,"focus",s,d),s.state.focused=!0,re(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),c&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),Ad(s))}function Fo(s,d){s.state.delayingBlurEvent||(s.state.focused&&(He(s,"blur",s,d),s.state.focused=!1,F(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function Nu(s){for(var d=s.display,b=d.lineDiv.offsetTop,m=Math.max(0,d.scroller.getBoundingClientRect().top),S=d.lineDiv.getBoundingClientRect().top,L=0,O=0;O<d.view.length;O++){var H=d.view[O],X=s.options.lineWrapping,J=void 0,ce=0;if(!H.hidden){if(S+=H.line.height,u&&f<8){var ge=H.node.offsetTop+H.node.offsetHeight;J=ge-b,b=ge}else{var De=H.node.getBoundingClientRect();J=De.bottom-De.top,!X&&H.text.firstChild&&(ce=H.text.firstChild.getBoundingClientRect().right-De.left-1)}var Le=H.line.height-J;if((Le>.005||Le<-.005)&&(S<m&&(L-=Le),Pt(H.line,J),Zw(H.line),H.rest))for(var Ne=0;Ne<H.rest.length;Ne++)Zw(H.rest[Ne]);if(ce>s.display.sizerWidth){var Be=Math.ceil(ce/Io(s.display));Be>s.display.maxLineLength&&(s.display.maxLineLength=Be,s.display.maxLine=H.line,s.display.maxLineChanged=!0)}}}Math.abs(L)>2&&(d.scroller.scrollTop+=L)}function Zw(s){if(s.widgets)for(var d=0;d<s.widgets.length;++d){var b=s.widgets[d],m=b.node.parentNode;m&&(b.height=m.offsetHeight)}}function Ou(s,d,b){var m=b&&b.top!=null?Math.max(0,b.top):s.scroller.scrollTop;m=Math.floor(m-Du(s));var S=b&&b.bottom!=null?b.bottom:m+s.wrapper.clientHeight,L=fe(d,m),O=fe(d,S);if(b&&b.ensure){var H=b.ensure.from.line,X=b.ensure.to.line;H<L?(L=H,O=fe(d,Na(ft(d,H))+s.wrapper.clientHeight)):Math.min(X,d.lastLine())>=O&&(L=fe(d,Na(ft(d,X))-s.wrapper.clientHeight),O=X)}return{from:L,to:Math.max(O,L+1)}}function mI(s,d){if(!Ue(s,"scrollCursorIntoView")){var b=s.display,m=b.sizer.getBoundingClientRect(),S=null,L=b.wrapper.ownerDocument;if(d.top+m.top<0?S=!0:d.bottom+m.top>(L.defaultView.innerHeight||L.documentElement.clientHeight)&&(S=!1),S!=null&&!v){var O=P("div","​",null,`position: absolute;
                         top: `+(d.top-b.viewOffset-Du(s.display))+`px;
                         height: `+(d.bottom-d.top+ha(s)+b.barHeight)+`px;
                         left: `+d.left+"px; width: "+Math.max(2,d.right-d.left)+"px;");s.display.lineSpace.appendChild(O),O.scrollIntoView(S),s.display.lineSpace.removeChild(O)}}}function bI(s,d,b,m){m==null&&(m=0);var S;!s.options.lineWrapping&&d==b&&(b=d.sticky=="before"?Re(d.line,d.ch+1,"before"):d,d=d.ch?Re(d.line,d.sticky=="before"?d.ch-1:d.ch,"after"):d);for(var L=0;L<5;L++){var O=!1,H=ea(s,d),X=!b||b==d?H:ea(s,b);S={left:Math.min(H.left,X.left),top:Math.min(H.top,X.top)-m,right:Math.max(H.left,X.left),bottom:Math.max(H.bottom,X.bottom)+m};var J=Dd(s,S),ce=s.doc.scrollTop,ge=s.doc.scrollLeft;if(J.scrollTop!=null&&(Vs(s,J.scrollTop),Math.abs(s.doc.scrollTop-ce)>1&&(O=!0)),J.scrollLeft!=null&&($i(s,J.scrollLeft),Math.abs(s.doc.scrollLeft-ge)>1&&(O=!0)),!O)break}return S}function wI(s,d){var b=Dd(s,d);b.scrollTop!=null&&Vs(s,b.scrollTop),b.scrollLeft!=null&&$i(s,b.scrollLeft)}function Dd(s,d){var b=s.display,m=Oo(s.display);d.top<0&&(d.top=0);var S=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:b.scroller.scrollTop,L=gd(s),O={};d.bottom-d.top>L&&(d.bottom=d.top+L);var H=s.doc.height+pd(b),X=d.top<m,J=d.bottom>H-m;if(d.top<S)O.scrollTop=X?0:d.top;else if(d.bottom>S+L){var ce=Math.min(d.top,(J?H:d.bottom)-L);ce!=S&&(O.scrollTop=ce)}var ge=s.options.fixedGutter?0:b.gutters.offsetWidth,De=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:b.scroller.scrollLeft-ge,Le=Hi(s)-b.gutters.offsetWidth,Ne=d.right-d.left>Le;return Ne&&(d.right=d.left+Le),d.left<10?O.scrollLeft=0:d.left<De?O.scrollLeft=Math.max(0,d.left+ge-(Ne?0:10)):d.right>Le+De-3&&(O.scrollLeft=d.right+(Ne?0:10)-Le),O}function Md(s,d){d!=null&&(Iu(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+d)}function Bo(s){Iu(s);var d=s.getCursor();s.curOp.scrollToPos={from:d,to:d,margin:s.options.cursorScrollMargin}}function Ws(s,d,b){(d!=null||b!=null)&&Iu(s),d!=null&&(s.curOp.scrollLeft=d),b!=null&&(s.curOp.scrollTop=b)}function xI(s,d){Iu(s),s.curOp.scrollToPos=d}function Iu(s){var d=s.curOp.scrollToPos;if(d){s.curOp.scrollToPos=null;var b=Ww(s,d.from),m=Ww(s,d.to);Qw(s,b,m,d.margin)}}function Qw(s,d,b,m){var S=Dd(s,{left:Math.min(d.left,b.left),top:Math.min(d.top,b.top)-m,right:Math.max(d.right,b.right),bottom:Math.max(d.bottom,b.bottom)+m});Ws(s,S.scrollLeft,S.scrollTop)}function Vs(s,d){Math.abs(s.doc.scrollTop-d)<2||(a||Pd(s,{top:d}),Jw(s,d,!0),a&&Pd(s),Xs(s,100))}function Jw(s,d,b){d=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,d)),!(s.display.scroller.scrollTop==d&&!b)&&(s.doc.scrollTop=d,s.display.scrollbars.setScrollTop(d),s.display.scroller.scrollTop!=d&&(s.display.scroller.scrollTop=d))}function $i(s,d,b,m){d=Math.max(0,Math.min(d,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((b?d==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-d)<2)&&!m)&&(s.doc.scrollLeft=d,ax(s),s.display.scroller.scrollLeft!=d&&(s.display.scroller.scrollLeft=d),s.display.scrollbars.setScrollLeft(d))}function $s(s){var d=s.display,b=d.gutters.offsetWidth,m=Math.round(s.doc.height+pd(s.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:s.options.fixedGutter?b:0,docHeight:m,scrollHeight:m+ha(s)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:b}}var Yi=function(s,d,b){this.cm=b;var m=this.vert=P("div",[P("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),S=this.horiz=P("div",[P("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");m.tabIndex=S.tabIndex=-1,s(m),s(S),Ee(m,"scroll",function(){m.clientHeight&&d(m.scrollTop,"vertical")}),Ee(S,"scroll",function(){S.clientWidth&&d(S.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,u&&f<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Yi.prototype.update=function(s){var d=s.scrollWidth>s.clientWidth+1,b=s.scrollHeight>s.clientHeight+1,m=s.nativeBarWidth;if(b){this.vert.style.display="block",this.vert.style.bottom=d?m+"px":"0";var S=s.viewHeight-(d?m:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+S)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(d){this.horiz.style.display="block",this.horiz.style.right=b?m+"px":"0",this.horiz.style.left=s.barLeft+"px";var L=s.viewWidth-s.barLeft-(b?m:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+L)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(m==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:b?m:0,bottom:d?m:0}},Yi.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Yi.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Yi.prototype.zeroWidthHack=function(){var s=A&&!x?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ie,this.disableVert=new ie},Yi.prototype.enableZeroWidthBar=function(s,d,b){s.style.visibility="";function m(){var S=s.getBoundingClientRect(),L=b=="vert"?document.elementFromPoint(S.right-1,(S.top+S.bottom)/2):document.elementFromPoint((S.right+S.left)/2,S.bottom-1);L!=s?s.style.visibility="hidden":d.set(1e3,m)}d.set(1e3,m)},Yi.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var Ys=function(){};Ys.prototype.update=function(){return{bottom:0,right:0}},Ys.prototype.setScrollLeft=function(){},Ys.prototype.setScrollTop=function(){},Ys.prototype.clear=function(){};function qo(s,d){d||(d=$s(s));var b=s.display.barWidth,m=s.display.barHeight;ex(s,d);for(var S=0;S<4&&b!=s.display.barWidth||m!=s.display.barHeight;S++)b!=s.display.barWidth&&s.options.lineWrapping&&Nu(s),ex(s,$s(s)),b=s.display.barWidth,m=s.display.barHeight}function ex(s,d){var b=s.display,m=b.scrollbars.update(d);b.sizer.style.paddingRight=(b.barWidth=m.right)+"px",b.sizer.style.paddingBottom=(b.barHeight=m.bottom)+"px",b.heightForcer.style.borderBottom=m.bottom+"px solid transparent",m.right&&m.bottom?(b.scrollbarFiller.style.display="block",b.scrollbarFiller.style.height=m.bottom+"px",b.scrollbarFiller.style.width=m.right+"px"):b.scrollbarFiller.style.display="",m.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(b.gutterFiller.style.display="block",b.gutterFiller.style.height=m.bottom+"px",b.gutterFiller.style.width=d.gutterWidth+"px"):b.gutterFiller.style.display=""}var tx={native:Yi,null:Ys};function rx(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&F(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new tx[s.options.scrollbarStyle](function(d){s.display.wrapper.insertBefore(d,s.display.scrollbarFiller),Ee(d,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),d.setAttribute("cm-not-content","true")},function(d,b){b=="horizontal"?$i(s,d):Vs(s,d)},s),s.display.scrollbars.addClass&&re(s.display.wrapper,s.display.scrollbars.addClass)}var CI=0;function Xi(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++CI,markArrays:null},JO(s.curOp)}function Ki(s){var d=s.curOp;d&&tI(d,function(b){for(var m=0;m<b.ops.length;m++)b.ops[m].cm.curOp=null;EI(b)})}function EI(s){for(var d=s.ops,b=0;b<d.length;b++)TI(d[b]);for(var m=0;m<d.length;m++)SI(d[m]);for(var S=0;S<d.length;S++)AI(d[S]);for(var L=0;L<d.length;L++)LI(d[L]);for(var O=0;O<d.length;O++)_I(d[O])}function TI(s){var d=s.cm,b=d.display;MI(d),s.updateMaxLine&&hd(d),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<b.viewFrom||s.scrollToPos.to.line>=b.viewTo)||b.maxLineChanged&&d.options.lineWrapping,s.update=s.mustUpdate&&new Fu(d,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function SI(s){s.updatedDisplay=s.mustUpdate&&Rd(s.cm,s.update)}function AI(s){var d=s.cm,b=d.display;s.updatedDisplay&&Nu(d),s.barMeasure=$s(d),b.maxLineChanged&&!d.options.lineWrapping&&(s.adjustWidthTo=Iw(d,b.maxLine,b.maxLine.text.length).left+3,d.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(b.scroller.clientWidth,b.sizer.offsetLeft+s.adjustWidthTo+ha(d)+d.display.barWidth),s.maxScrollLeft=Math.max(0,b.sizer.offsetLeft+s.adjustWidthTo-Hi(d))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=b.input.prepareSelection())}function LI(s){var d=s.cm;s.adjustWidthTo!=null&&(d.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<d.doc.scrollLeft&&$i(d,Math.min(d.display.scroller.scrollLeft,s.maxScrollLeft),!0),d.display.maxLineChanged=!1);var b=s.focus&&s.focus==ae(U(d));s.preparedSelection&&d.display.input.showSelection(s.preparedSelection,b),(s.updatedDisplay||s.startHeight!=d.doc.height)&&qo(d,s.barMeasure),s.updatedDisplay&&Nd(d,s.barMeasure),s.selectionChanged&&Ad(d),d.state.focused&&s.updateInput&&d.display.input.reset(s.typing),b&&jw(s.cm)}function _I(s){var d=s.cm,b=d.display,m=d.doc;if(s.updatedDisplay&&nx(d,s.update),b.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(b.wheelStartX=b.wheelStartY=null),s.scrollTop!=null&&Jw(d,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&$i(d,s.scrollLeft,!0,!0),s.scrollToPos){var S=bI(d,Ct(m,s.scrollToPos.from),Ct(m,s.scrollToPos.to),s.scrollToPos.margin);mI(d,S)}var L=s.maybeHiddenMarkers,O=s.maybeUnhiddenMarkers;if(L)for(var H=0;H<L.length;++H)L[H].lines.length||He(L[H],"hide");if(O)for(var X=0;X<O.length;++X)O[X].lines.length&&He(O[X],"unhide");b.wrapper.offsetHeight&&(m.scrollTop=d.display.scroller.scrollTop),s.changeObjs&&He(d,"changes",d,s.changeObjs),s.update&&s.update.finish()}function _n(s,d){if(s.curOp)return d();Xi(s);try{return d()}finally{Ki(s)}}function Pr(s,d){return function(){if(s.curOp)return d.apply(s,arguments);Xi(s);try{return d.apply(s,arguments)}finally{Ki(s)}}}function ln(s){return function(){if(this.curOp)return s.apply(this,arguments);Xi(this);try{return s.apply(this,arguments)}finally{Ki(this)}}}function kr(s){return function(){var d=this.cm;if(!d||d.curOp)return s.apply(this,arguments);Xi(d);try{return s.apply(this,arguments)}finally{Ki(d)}}}function Xs(s,d){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(d,ee(DI,s))}function DI(s){var d=s.doc;if(!(d.highlightFrontier>=s.display.viewTo)){var b=+new Date+s.options.workTime,m=Fs(s,d.highlightFrontier),S=[];d.iter(m.line,Math.min(d.first+d.size,s.display.viewTo+500),function(L){if(m.line>=s.display.viewFrom){var O=L.styles,H=L.text.length>s.options.maxHighlightLength?sn(d.mode,m.state):null,X=fw(s,L,m,!0);H&&(m.state=H),L.styles=X.styles;var J=L.styleClasses,ce=X.classes;ce?L.styleClasses=ce:J&&(L.styleClasses=null);for(var ge=!O||O.length!=L.styles.length||J!=ce&&(!J||!ce||J.bgClass!=ce.bgClass||J.textClass!=ce.textClass),De=0;!ge&&De<O.length;++De)ge=O[De]!=L.styles[De];ge&&S.push(m.line),L.stateAfter=m.save(),m.nextLine()}else L.text.length<=s.options.maxHighlightLength&&sd(s,L.text,m),L.stateAfter=m.line%5==0?m.save():null,m.nextLine();if(+new Date>b)return Xs(s,s.options.workDelay),!0}),d.highlightFrontier=m.line,d.modeFrontier=Math.max(d.modeFrontier,m.line),S.length&&_n(s,function(){for(var L=0;L<S.length;L++)ii(s,S[L],"text")})}}var Fu=function(s,d,b){var m=s.display;this.viewport=d,this.visible=Ou(m,s.doc,d),this.editorIsHidden=!m.wrapper.offsetWidth,this.wrapperHeight=m.wrapper.clientHeight,this.wrapperWidth=m.wrapper.clientWidth,this.oldDisplayWidth=Hi(s),this.force=b,this.dims=Cd(s),this.events=[]};Fu.prototype.signal=function(s,d){Je(s,d)&&this.events.push(arguments)},Fu.prototype.finish=function(){for(var s=0;s<this.events.length;s++)He.apply(null,this.events[s])};function MI(s){var d=s.display;!d.scrollbarsClipped&&d.scroller.offsetWidth&&(d.nativeBarWidth=d.scroller.offsetWidth-d.scroller.clientWidth,d.heightForcer.style.height=ha(s)+"px",d.sizer.style.marginBottom=-d.nativeBarWidth+"px",d.sizer.style.borderRightWidth=ha(s)+"px",d.scrollbarsClipped=!0)}function RI(s){if(s.hasFocus())return null;var d=ae(U(s));if(!d||!z(s.display.lineDiv,d))return null;var b={activeElt:d};if(window.getSelection){var m=Y(s).getSelection();m.anchorNode&&m.extend&&z(s.display.lineDiv,m.anchorNode)&&(b.anchorNode=m.anchorNode,b.anchorOffset=m.anchorOffset,b.focusNode=m.focusNode,b.focusOffset=m.focusOffset)}return b}function PI(s){if(!(!s||!s.activeElt||s.activeElt==ae(V(s.activeElt)))&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&z(document.body,s.anchorNode)&&z(document.body,s.focusNode))){var d=s.activeElt.ownerDocument,b=d.defaultView.getSelection(),m=d.createRange();m.setEnd(s.anchorNode,s.anchorOffset),m.collapse(!1),b.removeAllRanges(),b.addRange(m),b.extend(s.focusNode,s.focusOffset)}}function Rd(s,d){var b=s.display,m=s.doc;if(d.editorIsHidden)return oi(s),!1;if(!d.force&&d.visible.from>=b.viewFrom&&d.visible.to<=b.viewTo&&(b.updateLineNumbers==null||b.updateLineNumbers>=b.viewTo)&&b.renderedView==b.view&&Xw(s)==0)return!1;ix(s)&&(oi(s),d.dims=Cd(s));var S=m.first+m.size,L=Math.max(d.visible.from-s.options.viewportMargin,m.first),O=Math.min(S,d.visible.to+s.options.viewportMargin);b.viewFrom<L&&L-b.viewFrom<20&&(L=Math.max(m.first,b.viewFrom)),b.viewTo>O&&b.viewTo-O<20&&(O=Math.min(S,b.viewTo)),ka&&(L=cd(s.doc,L),O=Tw(s.doc,O));var H=L!=b.viewFrom||O!=b.viewTo||b.lastWrapHeight!=d.wrapperHeight||b.lastWrapWidth!=d.wrapperWidth;gI(s,L,O),b.viewOffset=Na(ft(s.doc,b.viewFrom)),s.display.mover.style.top=b.viewOffset+"px";var X=Xw(s);if(!H&&X==0&&!d.force&&b.renderedView==b.view&&(b.updateLineNumbers==null||b.updateLineNumbers>=b.viewTo))return!1;var J=RI(s);return X>4&&(b.lineDiv.style.display="none"),kI(s,b.updateLineNumbers,d.dims),X>4&&(b.lineDiv.style.display=""),b.renderedView=b.view,PI(J),q(b.cursorDiv),q(b.selectionDiv),b.gutters.style.height=b.sizer.style.minHeight=0,H&&(b.lastWrapHeight=d.wrapperHeight,b.lastWrapWidth=d.wrapperWidth,Xs(s,400)),b.updateLineNumbers=null,!0}function nx(s,d){for(var b=d.viewport,m=!0;;m=!1){if(!m||!s.options.lineWrapping||d.oldDisplayWidth==Hi(s)){if(b&&b.top!=null&&(b={top:Math.min(s.doc.height+pd(s.display)-gd(s),b.top)}),d.visible=Ou(s.display,s.doc,b),d.visible.from>=s.display.viewFrom&&d.visible.to<=s.display.viewTo)break}else m&&(d.visible=Ou(s.display,s.doc,b));if(!Rd(s,d))break;Nu(s);var S=$s(s);Us(s),qo(s,S),Nd(s,S),d.force=!1}d.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(d.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function Pd(s,d){var b=new Fu(s,d);if(Rd(s,b)){Nu(s),nx(s,b);var m=$s(s);Us(s),qo(s,m),Nd(s,m),b.finish()}}function kI(s,d,b){var m=s.display,S=s.options.lineNumbers,L=m.lineDiv,O=L.firstChild;function H(Ne){var Be=Ne.nextSibling;return c&&A&&s.display.currentWheelTarget==Ne?Ne.style.display="none":Ne.parentNode.removeChild(Ne),Be}for(var X=m.view,J=m.viewFrom,ce=0;ce<X.length;ce++){var ge=X[ce];if(!ge.hidden)if(!ge.node||ge.node.parentNode!=L){var De=oI(s,ge,J,b);L.insertBefore(De,O)}else{for(;O!=ge.node;)O=H(O);var Le=S&&d!=null&&d<=J&&ge.lineNumber;ge.changes&&(se(ge.changes,"gutter")>-1&&(Le=!1),Dw(s,ge,J,b)),Le&&(q(ge.lineNumber),ge.lineNumber.appendChild(document.createTextNode(ze(s.options,J)))),O=ge.node.nextSibling}J+=ge.size}for(;O;)O=H(O)}function kd(s){var d=s.gutters.offsetWidth;s.sizer.style.marginLeft=d+"px",Rr(s,"gutterChanged",s)}function Nd(s,d){s.display.sizer.style.minHeight=d.docHeight+"px",s.display.heightForcer.style.top=d.docHeight+"px",s.display.gutters.style.height=d.docHeight+s.display.barHeight+ha(s)+"px"}function ax(s){var d=s.display,b=d.view;if(!(!d.alignWidgets&&(!d.gutters.firstChild||!s.options.fixedGutter))){for(var m=Ed(d)-d.scroller.scrollLeft+s.doc.scrollLeft,S=d.gutters.offsetWidth,L=m+"px",O=0;O<b.length;O++)if(!b[O].hidden){s.options.fixedGutter&&(b[O].gutter&&(b[O].gutter.style.left=L),b[O].gutterBackground&&(b[O].gutterBackground.style.left=L));var H=b[O].alignable;if(H)for(var X=0;X<H.length;X++)H[X].style.left=L}s.options.fixedGutter&&(d.gutters.style.left=m+S+"px")}}function ix(s){if(!s.options.lineNumbers)return!1;var d=s.doc,b=ze(s.options,d.first+d.size-1),m=s.display;if(b.length!=m.lineNumChars){var S=m.measure.appendChild(P("div",[P("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),L=S.firstChild.offsetWidth,O=S.offsetWidth-L;return m.lineGutter.style.width="",m.lineNumInnerWidth=Math.max(L,m.lineGutter.offsetWidth-O)+1,m.lineNumWidth=m.lineNumInnerWidth+O,m.lineNumChars=m.lineNumInnerWidth?b.length:-1,m.lineGutter.style.width=m.lineNumWidth+"px",kd(s.display),!0}return!1}function Od(s,d){for(var b=[],m=!1,S=0;S<s.length;S++){var L=s[S],O=null;if(typeof L!="string"&&(O=L.style,L=L.className),L=="CodeMirror-linenumbers")if(d)m=!0;else continue;b.push({className:L,style:O})}return d&&!m&&b.push({className:"CodeMirror-linenumbers",style:null}),b}function ox(s){var d=s.gutters,b=s.gutterSpecs;q(d),s.lineGutter=null;for(var m=0;m<b.length;++m){var S=b[m],L=S.className,O=S.style,H=d.appendChild(P("div",null,"CodeMirror-gutter "+L));O&&(H.style.cssText=O),L=="CodeMirror-linenumbers"&&(s.lineGutter=H,H.style.width=(s.lineNumWidth||1)+"px")}d.style.display=b.length?"":"none",kd(s)}function Ks(s){ox(s.display),mn(s),ax(s)}function NI(s,d,b,m){var S=this;this.input=b,S.scrollbarFiller=P("div",null,"CodeMirror-scrollbar-filler"),S.scrollbarFiller.setAttribute("cm-not-content","true"),S.gutterFiller=P("div",null,"CodeMirror-gutter-filler"),S.gutterFiller.setAttribute("cm-not-content","true"),S.lineDiv=N("div",null,"CodeMirror-code"),S.selectionDiv=P("div",null,null,"position: relative; z-index: 1"),S.cursorDiv=P("div",null,"CodeMirror-cursors"),S.measure=P("div",null,"CodeMirror-measure"),S.lineMeasure=P("div",null,"CodeMirror-measure"),S.lineSpace=N("div",[S.measure,S.lineMeasure,S.selectionDiv,S.cursorDiv,S.lineDiv],null,"position: relative; outline: none");var L=N("div",[S.lineSpace],"CodeMirror-lines");S.mover=P("div",[L],null,"position: relative"),S.sizer=P("div",[S.mover],"CodeMirror-sizer"),S.sizerWidth=null,S.heightForcer=P("div",null,null,"position: absolute; height: "+$+"px; width: 1px;"),S.gutters=P("div",null,"CodeMirror-gutters"),S.lineGutter=null,S.scroller=P("div",[S.sizer,S.heightForcer,S.gutters],"CodeMirror-scroll"),S.scroller.setAttribute("tabIndex","-1"),S.wrapper=P("div",[S.scrollbarFiller,S.gutterFiller,S.scroller],"CodeMirror"),p&&y>=105&&(S.wrapper.style.clipPath="inset(0px)"),S.wrapper.setAttribute("translate","no"),u&&f<8&&(S.gutters.style.zIndex=-1,S.scroller.style.paddingRight=0),!c&&!(a&&T)&&(S.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(S.wrapper):s(S.wrapper)),S.viewFrom=S.viewTo=d.first,S.reportedViewFrom=S.reportedViewTo=d.first,S.view=[],S.renderedView=null,S.externalMeasured=null,S.viewOffset=0,S.lastWrapHeight=S.lastWrapWidth=0,S.updateLineNumbers=null,S.nativeBarWidth=S.barHeight=S.barWidth=0,S.scrollbarsClipped=!1,S.lineNumWidth=S.lineNumInnerWidth=S.lineNumChars=null,S.alignWidgets=!1,S.cachedCharWidth=S.cachedTextHeight=S.cachedPaddingH=null,S.maxLine=null,S.maxLineLength=0,S.maxLineChanged=!1,S.wheelDX=S.wheelDY=S.wheelStartX=S.wheelStartY=null,S.shift=!1,S.selForContextMenu=null,S.activeTouch=null,S.gutterSpecs=Od(m.gutters,m.lineNumbers),ox(S),b.init(S)}var Bu=0,Ia=null;u?Ia=-.53:a?Ia=15:p?Ia=-.7:E&&(Ia=-1/3);function sx(s){var d=s.wheelDeltaX,b=s.wheelDeltaY;return d==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(d=s.detail),b==null&&s.detail&&s.axis==s.VERTICAL_AXIS?b=s.detail:b==null&&(b=s.wheelDelta),{x:d,y:b}}function OI(s){var d=sx(s);return d.x*=Ia,d.y*=Ia,d}function lx(s,d){p&&y==102&&(s.display.chromeScrollHack==null?s.display.sizer.style.pointerEvents="none":clearTimeout(s.display.chromeScrollHack),s.display.chromeScrollHack=setTimeout(function(){s.display.chromeScrollHack=null,s.display.sizer.style.pointerEvents=""},100));var b=sx(d),m=b.x,S=b.y,L=Ia;d.deltaMode===0&&(m=d.deltaX,S=d.deltaY,L=1);var O=s.display,H=O.scroller,X=H.scrollWidth>H.clientWidth,J=H.scrollHeight>H.clientHeight;if(m&&X||S&&J){if(S&&A&&c){e:for(var ce=d.target,ge=O.view;ce!=H;ce=ce.parentNode)for(var De=0;De<ge.length;De++)if(ge[De].node==ce){s.display.currentWheelTarget=ce;break e}}if(m&&!a&&!g&&L!=null){S&&J&&Vs(s,Math.max(0,H.scrollTop+S*L)),$i(s,Math.max(0,H.scrollLeft+m*L)),(!S||S&&J)&&$e(d),O.wheelStartX=null;return}if(S&&L!=null){var Le=S*L,Ne=s.doc.scrollTop,Be=Ne+O.wrapper.clientHeight;Le<0?Ne=Math.max(0,Ne+Le-50):Be=Math.min(s.doc.height,Be+Le+50),Pd(s,{top:Ne,bottom:Be})}Bu<20&&d.deltaMode!==0&&(O.wheelStartX==null?(O.wheelStartX=H.scrollLeft,O.wheelStartY=H.scrollTop,O.wheelDX=m,O.wheelDY=S,setTimeout(function(){if(O.wheelStartX!=null){var Ke=H.scrollLeft-O.wheelStartX,et=H.scrollTop-O.wheelStartY,ot=et&&O.wheelDY&&et/O.wheelDY||Ke&&O.wheelDX&&Ke/O.wheelDX;O.wheelStartX=O.wheelStartY=null,ot&&(Ia=(Ia*Bu+ot)/(Bu+1),++Bu)}},200)):(O.wheelDX+=m,O.wheelDY+=S))}}var On=function(s,d){this.ranges=s,this.primIndex=d};On.prototype.primary=function(){return this.ranges[this.primIndex]},On.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var b=this.ranges[d],m=s.ranges[d];if(!kt(b.anchor,m.anchor)||!kt(b.head,m.head))return!1}return!0},On.prototype.deepCopy=function(){for(var s=[],d=0;d<this.ranges.length;d++)s[d]=new Bt(Mr(this.ranges[d].anchor),Mr(this.ranges[d].head));return new On(s,this.primIndex)},On.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},On.prototype.contains=function(s,d){d||(d=s);for(var b=0;b<this.ranges.length;b++){var m=this.ranges[b];if(Ze(d,m.from())>=0&&Ze(s,m.to())<=0)return b}return-1};var Bt=function(s,d){this.anchor=s,this.head=d};Bt.prototype.from=function(){return Ro(this.anchor,this.head)},Bt.prototype.to=function(){return yn(this.anchor,this.head)},Bt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ta(s,d,b){var m=s&&s.options.selectionsMayTouch,S=d[b];d.sort(function(De,Le){return Ze(De.from(),Le.from())}),b=se(d,S);for(var L=1;L<d.length;L++){var O=d[L],H=d[L-1],X=Ze(H.to(),O.from());if(m&&!O.empty()?X>0:X>=0){var J=Ro(H.from(),O.from()),ce=yn(H.to(),O.to()),ge=H.empty()?O.from()==O.head:H.from()==H.head;L<=b&&--b,d.splice(--L,2,new Bt(ge?ce:J,ge?J:ce))}}return new On(d,b)}function si(s,d){return new On([new Bt(s,d||s)],0)}function li(s){return s.text?Re(s.from.line+s.text.length-1,de(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function ux(s,d){if(Ze(s,d.from)<0)return s;if(Ze(s,d.to)<=0)return li(d);var b=s.line+d.text.length-(d.to.line-d.from.line)-1,m=s.ch;return s.line==d.to.line&&(m+=li(d).ch-d.to.ch),Re(b,m)}function Id(s,d){for(var b=[],m=0;m<s.sel.ranges.length;m++){var S=s.sel.ranges[m];b.push(new Bt(ux(S.anchor,d),ux(S.head,d)))}return ta(s.cm,b,s.sel.primIndex)}function fx(s,d,b){return s.line==d.line?Re(b.line,s.ch-d.ch+b.ch):Re(b.line+(s.line-d.line),s.ch)}function II(s,d,b){for(var m=[],S=Re(s.first,0),L=S,O=0;O<d.length;O++){var H=d[O],X=fx(H.from,S,L),J=fx(li(H),S,L);if(S=H.to,L=J,b=="around"){var ce=s.sel.ranges[O],ge=Ze(ce.head,ce.anchor)<0;m[O]=new Bt(ge?J:X,ge?X:J)}else m[O]=new Bt(X,X)}return new On(m,s.sel.primIndex)}function Fd(s){s.doc.mode=jn(s.options,s.doc.modeOption),js(s)}function js(s){s.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,Xs(s,100),s.state.modeGen++,s.curOp&&mn(s)}function cx(s,d){return d.from.ch==0&&d.to.ch==0&&de(d.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function Bd(s,d,b,m){function S(ot){return b?b[ot]:null}function L(ot,tt,lt){WO(ot,tt,lt,m),Rr(ot,"change",ot,d)}function O(ot,tt){for(var lt=[],yt=ot;yt<tt;++yt)lt.push(new Po(J[yt],S(yt),m));return lt}var H=d.from,X=d.to,J=d.text,ce=ft(s,H.line),ge=ft(s,X.line),De=de(J),Le=S(J.length-1),Ne=X.line-H.line;if(d.full)s.insert(0,O(0,J.length)),s.remove(J.length,s.size-J.length);else if(cx(s,d)){var Be=O(0,J.length-1);L(ge,ge.text,Le),Ne&&s.remove(H.line,Ne),Be.length&&s.insert(H.line,Be)}else if(ce==ge)if(J.length==1)L(ce,ce.text.slice(0,H.ch)+De+ce.text.slice(X.ch),Le);else{var Ke=O(1,J.length-1);Ke.push(new Po(De+ce.text.slice(X.ch),Le,m)),L(ce,ce.text.slice(0,H.ch)+J[0],S(0)),s.insert(H.line+1,Ke)}else if(J.length==1)L(ce,ce.text.slice(0,H.ch)+J[0]+ge.text.slice(X.ch),S(0)),s.remove(H.line+1,Ne);else{L(ce,ce.text.slice(0,H.ch)+J[0],S(0)),L(ge,De+ge.text.slice(X.ch),Le);var et=O(1,J.length-1);Ne>1&&s.remove(H.line+1,Ne-1),s.insert(H.line+1,et)}Rr(s,"change",s,d)}function ui(s,d,b){function m(S,L,O){if(S.linked)for(var H=0;H<S.linked.length;++H){var X=S.linked[H];if(X.doc!=L){var J=O&&X.sharedHist;b&&!J||(d(X.doc,J),m(X.doc,S,J))}}}m(s,null,!0)}function dx(s,d){if(d.cm)throw new Error("This document is already in use.");s.doc=d,d.cm=s,Td(s),Fd(s),hx(s),s.options.direction=d.direction,s.options.lineWrapping||hd(s),s.options.mode=d.modeOption,mn(s)}function hx(s){(s.doc.direction=="rtl"?re:F)(s.display.lineDiv,"CodeMirror-rtl")}function FI(s){_n(s,function(){hx(s),mn(s)})}function qu(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function qd(s,d){var b={from:Mr(d.from),to:li(d),text:Hr(s,d.from,d.to)};return gx(s,b,d.from.line,d.to.line+1),ui(s,function(m){return gx(m,b,d.from.line,d.to.line+1)},!0),b}function vx(s){for(;s.length;){var d=de(s);if(d.ranges)s.pop();else break}}function BI(s,d){if(d)return vx(s.done),de(s.done);if(s.done.length&&!de(s.done).ranges)return de(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),de(s.done)}function px(s,d,b,m){var S=s.history;S.undone.length=0;var L=+new Date,O,H;if((S.lastOp==m||S.lastOrigin==d.origin&&d.origin&&(d.origin.charAt(0)=="+"&&S.lastModTime>L-(s.cm?s.cm.options.historyEventDelay:500)||d.origin.charAt(0)=="*"))&&(O=BI(S,S.lastOp==m)))H=de(O.changes),Ze(d.from,d.to)==0&&Ze(d.from,H.to)==0?H.to=li(d):O.changes.push(qd(s,d));else{var X=de(S.done);for((!X||!X.ranges)&&zu(s.sel,S.done),O={changes:[qd(s,d)],generation:S.generation},S.done.push(O);S.done.length>S.undoDepth;)S.done.shift(),S.done[0].ranges||S.done.shift()}S.done.push(b),S.generation=++S.maxGeneration,S.lastModTime=S.lastSelTime=L,S.lastOp=S.lastSelOp=m,S.lastOrigin=S.lastSelOrigin=d.origin,H||He(s,"historyAdded")}function qI(s,d,b,m){var S=d.charAt(0);return S=="*"||S=="+"&&b.ranges.length==m.ranges.length&&b.somethingSelected()==m.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function zI(s,d,b,m){var S=s.history,L=m&&m.origin;b==S.lastSelOp||L&&S.lastSelOrigin==L&&(S.lastModTime==S.lastSelTime&&S.lastOrigin==L||qI(s,L,de(S.done),d))?S.done[S.done.length-1]=d:zu(d,S.done),S.lastSelTime=+new Date,S.lastSelOrigin=L,S.lastSelOp=b,m&&m.clearRedo!==!1&&vx(S.undone)}function zu(s,d){var b=de(d);b&&b.ranges&&b.equals(s)||d.push(s)}function gx(s,d,b,m){var S=d["spans_"+s.id],L=0;s.iter(Math.max(s.first,b),Math.min(s.first+s.size,m),function(O){O.markedSpans&&((S||(S=d["spans_"+s.id]={}))[L]=O.markedSpans),++L})}function GI(s){if(!s)return null;for(var d,b=0;b<s.length;++b)s[b].marker.explicitlyCleared?d||(d=s.slice(0,b)):d&&d.push(s[b]);return d?d.length?d:null:s}function HI(s,d){var b=d["spans_"+s.id];if(!b)return null;for(var m=[],S=0;S<d.text.length;++S)m.push(GI(b[S]));return m}function yx(s,d){var b=HI(s,d),m=ud(s,d);if(!b)return m;if(!m)return b;for(var S=0;S<b.length;++S){var L=b[S],O=m[S];if(L&&O)e:for(var H=0;H<O.length;++H){for(var X=O[H],J=0;J<L.length;++J)if(L[J].marker==X.marker)continue e;L.push(X)}else O&&(b[S]=O)}return b}function zo(s,d,b){for(var m=[],S=0;S<s.length;++S){var L=s[S];if(L.ranges){m.push(b?On.prototype.deepCopy.call(L):L);continue}var O=L.changes,H=[];m.push({changes:H});for(var X=0;X<O.length;++X){var J=O[X],ce=void 0;if(H.push({from:J.from,to:J.to,text:J.text}),d)for(var ge in J)(ce=ge.match(/^spans_(\d+)$/))&&se(d,Number(ce[1]))>-1&&(de(H)[ge]=J[ge],delete J[ge])}}return m}function zd(s,d,b,m){if(m){var S=s.anchor;if(b){var L=Ze(d,S)<0;L!=Ze(b,S)<0?(S=d,d=b):L!=Ze(d,b)<0&&(d=b)}return new Bt(S,d)}else return new Bt(b||d,d)}function Gu(s,d,b,m,S){S==null&&(S=s.cm&&(s.cm.display.shift||s.extend)),Zr(s,new On([zd(s.sel.primary(),d,b,S)],0),m)}function mx(s,d,b){for(var m=[],S=s.cm&&(s.cm.display.shift||s.extend),L=0;L<s.sel.ranges.length;L++)m[L]=zd(s.sel.ranges[L],d[L],null,S);var O=ta(s.cm,m,s.sel.primIndex);Zr(s,O,b)}function Gd(s,d,b,m){var S=s.sel.ranges.slice(0);S[d]=b,Zr(s,ta(s.cm,S,s.sel.primIndex),m)}function bx(s,d,b,m){Zr(s,si(d,b),m)}function UI(s,d,b){var m={ranges:d.ranges,update:function(S){this.ranges=[];for(var L=0;L<S.length;L++)this.ranges[L]=new Bt(Ct(s,S[L].anchor),Ct(s,S[L].head))},origin:b&&b.origin};return He(s,"beforeSelectionChange",s,m),s.cm&&He(s.cm,"beforeSelectionChange",s.cm,m),m.ranges!=d.ranges?ta(s.cm,m.ranges,m.ranges.length-1):d}function wx(s,d,b){var m=s.history.done,S=de(m);S&&S.ranges?(m[m.length-1]=d,Hu(s,d,b)):Zr(s,d,b)}function Zr(s,d,b){Hu(s,d,b),zI(s,s.sel,s.cm?s.cm.curOp.id:NaN,b)}function Hu(s,d,b){(Je(s,"beforeSelectionChange")||s.cm&&Je(s.cm,"beforeSelectionChange"))&&(d=UI(s,d,b));var m=b&&b.bias||(Ze(d.primary().head,s.sel.primary().head)<0?-1:1);xx(s,Ex(s,d,m,!0)),!(b&&b.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&Bo(s.cm)}function xx(s,d){d.equals(s.sel)||(s.sel=d,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,je(s.cm)),Rr(s,"cursorActivity",s))}function Cx(s){xx(s,Ex(s,s.sel,null,!1))}function Ex(s,d,b,m){for(var S,L=0;L<d.ranges.length;L++){var O=d.ranges[L],H=d.ranges.length==s.sel.ranges.length&&s.sel.ranges[L],X=Uu(s,O.anchor,H&&H.anchor,b,m),J=O.head==O.anchor?X:Uu(s,O.head,H&&H.head,b,m);(S||X!=O.anchor||J!=O.head)&&(S||(S=d.ranges.slice(0,L)),S[L]=new Bt(X,J))}return S?ta(s.cm,S,d.primIndex):d}function Go(s,d,b,m,S){var L=ft(s,d.line);if(L.markedSpans)for(var O=0;O<L.markedSpans.length;++O){var H=L.markedSpans[O],X=H.marker,J="selectLeft"in X?!X.selectLeft:X.inclusiveLeft,ce="selectRight"in X?!X.selectRight:X.inclusiveRight;if((H.from==null||(J?H.from<=d.ch:H.from<d.ch))&&(H.to==null||(ce?H.to>=d.ch:H.to>d.ch))){if(S&&(He(X,"beforeCursorEnter"),X.explicitlyCleared))if(L.markedSpans){--O;continue}else break;if(!X.atomic)continue;if(b){var ge=X.find(m<0?1:-1),De=void 0;if((m<0?ce:J)&&(ge=Tx(s,ge,-m,ge&&ge.line==d.line?L:null)),ge&&ge.line==d.line&&(De=Ze(ge,b))&&(m<0?De<0:De>0))return Go(s,ge,d,m,S)}var Le=X.find(m<0?-1:1);return(m<0?J:ce)&&(Le=Tx(s,Le,m,Le.line==d.line?L:null)),Le?Go(s,Le,d,m,S):null}}return d}function Uu(s,d,b,m,S){var L=m||1,O=Go(s,d,b,L,S)||!S&&Go(s,d,b,L,!0)||Go(s,d,b,-L,S)||!S&&Go(s,d,b,-L,!0);return O||(s.cantEdit=!0,Re(s.first,0))}function Tx(s,d,b,m){return b<0&&d.ch==0?d.line>s.first?Ct(s,Re(d.line-1)):null:b>0&&d.ch==(m||ft(s,d.line)).text.length?d.line<s.first+s.size-1?Re(d.line+1,0):null:new Re(d.line,d.ch+b)}function Sx(s){s.setSelection(Re(s.firstLine(),0),Re(s.lastLine()),le)}function Ax(s,d,b){var m={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return m.canceled=!0}};return b&&(m.update=function(S,L,O,H){S&&(m.from=Ct(s,S)),L&&(m.to=Ct(s,L)),O&&(m.text=O),H!==void 0&&(m.origin=H)}),He(s,"beforeChange",s,m),s.cm&&He(s.cm,"beforeChange",s.cm,m),m.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:m.from,to:m.to,text:m.text,origin:m.origin}}function Ho(s,d,b){if(s.cm){if(!s.cm.curOp)return Pr(s.cm,Ho)(s,d,b);if(s.cm.state.suppressEdits)return}if(!((Je(s,"beforeChange")||s.cm&&Je(s.cm,"beforeChange"))&&(d=Ax(s,d,!0),!d))){var m=yw&&!b&&zO(s,d.from,d.to);if(m)for(var S=m.length-1;S>=0;--S)Lx(s,{from:m[S].from,to:m[S].to,text:S?[""]:d.text,origin:d.origin});else Lx(s,d)}}function Lx(s,d){if(!(d.text.length==1&&d.text[0]==""&&Ze(d.from,d.to)==0)){var b=Id(s,d);px(s,d,b,s.cm?s.cm.curOp.id:NaN),Zs(s,d,b,ud(s,d));var m=[];ui(s,function(S,L){!L&&se(m,S.history)==-1&&(Rx(S.history,d),m.push(S.history)),Zs(S,d,null,ud(S,d))})}}function Wu(s,d,b){var m=s.cm&&s.cm.state.suppressEdits;if(!(m&&!b)){for(var S=s.history,L,O=s.sel,H=d=="undo"?S.done:S.undone,X=d=="undo"?S.undone:S.done,J=0;J<H.length&&(L=H[J],!(b?L.ranges&&!L.equals(s.sel):!L.ranges));J++);if(J!=H.length){for(S.lastOrigin=S.lastSelOrigin=null;;)if(L=H.pop(),L.ranges){if(zu(L,X),b&&!L.equals(s.sel)){Zr(s,L,{clearRedo:!1});return}O=L}else if(m){H.push(L);return}else break;var ce=[];zu(O,X),X.push({changes:ce,generation:S.generation}),S.generation=L.generation||++S.maxGeneration;for(var ge=Je(s,"beforeChange")||s.cm&&Je(s.cm,"beforeChange"),De=function(Be){var Ke=L.changes[Be];if(Ke.origin=d,ge&&!Ax(s,Ke,!1))return H.length=0,{};ce.push(qd(s,Ke));var et=Be?Id(s,Ke):de(H);Zs(s,Ke,et,yx(s,Ke)),!Be&&s.cm&&s.cm.scrollIntoView({from:Ke.from,to:li(Ke)});var ot=[];ui(s,function(tt,lt){!lt&&se(ot,tt.history)==-1&&(Rx(tt.history,Ke),ot.push(tt.history)),Zs(tt,Ke,null,yx(tt,Ke))})},Le=L.changes.length-1;Le>=0;--Le){var Ne=De(Le);if(Ne)return Ne.v}}}}function _x(s,d){if(d!=0&&(s.first+=d,s.sel=new On(ye(s.sel.ranges,function(S){return new Bt(Re(S.anchor.line+d,S.anchor.ch),Re(S.head.line+d,S.head.ch))}),s.sel.primIndex),s.cm)){mn(s.cm,s.first,s.first-d,d);for(var b=s.cm.display,m=b.viewFrom;m<b.viewTo;m++)ii(s.cm,m,"gutter")}}function Zs(s,d,b,m){if(s.cm&&!s.cm.curOp)return Pr(s.cm,Zs)(s,d,b,m);if(d.to.line<s.first){_x(s,d.text.length-1-(d.to.line-d.from.line));return}if(!(d.from.line>s.lastLine())){if(d.from.line<s.first){var S=d.text.length-1-(s.first-d.from.line);_x(s,S),d={from:Re(s.first,0),to:Re(d.to.line+S,d.to.ch),text:[de(d.text)],origin:d.origin}}var L=s.lastLine();d.to.line>L&&(d={from:d.from,to:Re(L,ft(s,L).text.length),text:[d.text[0]],origin:d.origin}),d.removed=Hr(s,d.from,d.to),b||(b=Id(s,d)),s.cm?WI(s.cm,d,m):Bd(s,d,m),Hu(s,b,le),s.cantEdit&&Uu(s,Re(s.firstLine(),0))&&(s.cantEdit=!1)}}function WI(s,d,b){var m=s.doc,S=s.display,L=d.from,O=d.to,H=!1,X=L.line;s.options.lineWrapping||(X=Q(Jn(ft(m,L.line))),m.iter(X,O.line+1,function(Le){if(Le==S.maxLine)return H=!0,!0})),m.sel.contains(d.from,d.to)>-1&&je(s),Bd(m,d,b,Yw(s)),s.options.lineWrapping||(m.iter(X,L.line+d.text.length,function(Le){var Ne=Lu(Le);Ne>S.maxLineLength&&(S.maxLine=Le,S.maxLineLength=Ne,S.maxLineChanged=!0,H=!1)}),H&&(s.curOp.updateMaxLine=!0)),kO(m,L.line),Xs(s,400);var J=d.text.length-(O.line-L.line)-1;d.full?mn(s):L.line==O.line&&d.text.length==1&&!cx(s.doc,d)?ii(s,L.line,"text"):mn(s,L.line,O.line+1,J);var ce=Je(s,"changes"),ge=Je(s,"change");if(ge||ce){var De={from:L,to:O,text:d.text,removed:d.removed,origin:d.origin};ge&&Rr(s,"change",s,De),ce&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(De)}s.display.selForContextMenu=null}function Uo(s,d,b,m,S){var L;m||(m=b),Ze(m,b)<0&&(L=[m,b],b=L[0],m=L[1]),typeof d=="string"&&(d=s.splitLines(d)),Ho(s,{from:b,to:m,text:d,origin:S})}function Dx(s,d,b,m){b<s.line?s.line+=m:d<s.line&&(s.line=d,s.ch=0)}function Mx(s,d,b,m){for(var S=0;S<s.length;++S){var L=s[S],O=!0;if(L.ranges){L.copied||(L=s[S]=L.deepCopy(),L.copied=!0);for(var H=0;H<L.ranges.length;H++)Dx(L.ranges[H].anchor,d,b,m),Dx(L.ranges[H].head,d,b,m);continue}for(var X=0;X<L.changes.length;++X){var J=L.changes[X];if(b<J.from.line)J.from=Re(J.from.line+m,J.from.ch),J.to=Re(J.to.line+m,J.to.ch);else if(d<=J.to.line){O=!1;break}}O||(s.splice(0,S+1),S=0)}}function Rx(s,d){var b=d.from.line,m=d.to.line,S=d.text.length-(m-b)-1;Mx(s.done,b,m,S),Mx(s.undone,b,m,S)}function Qs(s,d,b,m){var S=d,L=d;return typeof d=="number"?L=ft(s,lw(s,d)):S=Q(d),S==null?null:(m(L,S)&&s.cm&&ii(s.cm,S,b),L)}function Js(s){this.lines=s,this.parent=null;for(var d=0,b=0;b<s.length;++b)s[b].parent=this,d+=s[b].height;this.height=d}Js.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,d){for(var b=s,m=s+d;b<m;++b){var S=this.lines[b];this.height-=S.height,VO(S),Rr(S,"delete")}this.lines.splice(s,d)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,d,b){this.height+=b,this.lines=this.lines.slice(0,s).concat(d).concat(this.lines.slice(s));for(var m=0;m<d.length;++m)d[m].parent=this},iterN:function(s,d,b){for(var m=s+d;s<m;++s)if(b(this.lines[s]))return!0}};function el(s){this.children=s;for(var d=0,b=0,m=0;m<s.length;++m){var S=s[m];d+=S.chunkSize(),b+=S.height,S.parent=this}this.size=d,this.height=b,this.parent=null}el.prototype={chunkSize:function(){return this.size},removeInner:function(s,d){this.size-=d;for(var b=0;b<this.children.length;++b){var m=this.children[b],S=m.chunkSize();if(s<S){var L=Math.min(d,S-s),O=m.height;if(m.removeInner(s,L),this.height-=O-m.height,S==L&&(this.children.splice(b--,1),m.parent=null),(d-=L)==0)break;s=0}else s-=S}if(this.size-d<25&&(this.children.length>1||!(this.children[0]instanceof Js))){var H=[];this.collapse(H),this.children=[new Js(H)],this.children[0].parent=this}},collapse:function(s){for(var d=0;d<this.children.length;++d)this.children[d].collapse(s)},insertInner:function(s,d,b){this.size+=d.length,this.height+=b;for(var m=0;m<this.children.length;++m){var S=this.children[m],L=S.chunkSize();if(s<=L){if(S.insertInner(s,d,b),S.lines&&S.lines.length>50){for(var O=S.lines.length%25+25,H=O;H<S.lines.length;){var X=new Js(S.lines.slice(H,H+=25));S.height-=X.height,this.children.splice(++m,0,X),X.parent=this}S.lines=S.lines.slice(0,O),this.maybeSpill()}break}s-=L}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var d=s.children.splice(s.children.length-5,5),b=new el(d);if(s.parent){s.size-=b.size,s.height-=b.height;var S=se(s.parent.children,s);s.parent.children.splice(S+1,0,b)}else{var m=new el(s.children);m.parent=s,s.children=[m,b],s=m}b.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,d,b){for(var m=0;m<this.children.length;++m){var S=this.children[m],L=S.chunkSize();if(s<L){var O=Math.min(d,L-s);if(S.iterN(s,O,b))return!0;if((d-=O)==0)break;s=0}else s-=L}}};var tl=function(s,d,b){if(b)for(var m in b)b.hasOwnProperty(m)&&(this[m]=b[m]);this.doc=s,this.node=d};tl.prototype.clear=function(){var s=this.doc.cm,d=this.line.widgets,b=this.line,m=Q(b);if(!(m==null||!d)){for(var S=0;S<d.length;++S)d[S]==this&&d.splice(S--,1);d.length||(b.widgets=null);var L=Gs(this);Pt(b,Math.max(0,b.height-L)),s&&(_n(s,function(){Px(s,b,-L),ii(s,m,"widget")}),Rr(s,"lineWidgetCleared",s,this,m))}},tl.prototype.changed=function(){var s=this,d=this.height,b=this.doc.cm,m=this.line;this.height=null;var S=Gs(this)-d;S&&(ai(this.doc,m)||Pt(m,m.height+S),b&&_n(b,function(){b.curOp.forceUpdate=!0,Px(b,m,S),Rr(b,"lineWidgetChanged",b,s,Q(m))}))},Ge(tl);function Px(s,d,b){Na(d)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&Md(s,b)}function VI(s,d,b,m){var S=new tl(s,b,m),L=s.cm;return L&&S.noHScroll&&(L.display.alignWidgets=!0),Qs(s,d,"widget",function(O){var H=O.widgets||(O.widgets=[]);if(S.insertAt==null?H.push(S):H.splice(Math.min(H.length,Math.max(0,S.insertAt)),0,S),S.line=O,L&&!ai(s,O)){var X=Na(O)<s.scrollTop;Pt(O,O.height+Gs(S)),X&&Md(L,S.height),L.curOp.forceUpdate=!0}return!0}),L&&Rr(L,"lineWidgetAdded",L,S,typeof d=="number"?d:Q(d)),S}var kx=0,fi=function(s,d){this.lines=[],this.type=d,this.doc=s,this.id=++kx};fi.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,d=s&&!s.curOp;if(d&&Xi(s),Je(this,"clear")){var b=this.find();b&&Rr(this,"clear",b.from,b.to)}for(var m=null,S=null,L=0;L<this.lines.length;++L){var O=this.lines[L],H=Bs(O.markedSpans,this);s&&!this.collapsed?ii(s,Q(O),"text"):s&&(H.to!=null&&(S=Q(O)),H.from!=null&&(m=Q(O))),O.markedSpans=IO(O.markedSpans,H),H.from==null&&this.collapsed&&!ai(this.doc,O)&&s&&Pt(O,Oo(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var X=0;X<this.lines.length;++X){var J=Jn(this.lines[X]),ce=Lu(J);ce>s.display.maxLineLength&&(s.display.maxLine=J,s.display.maxLineLength=ce,s.display.maxLineChanged=!0)}m!=null&&s&&this.collapsed&&mn(s,m,S+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&Cx(s.doc)),s&&Rr(s,"markerCleared",s,this,m,S),d&&Ki(s),this.parent&&this.parent.clear()}},fi.prototype.find=function(s,d){s==null&&this.type=="bookmark"&&(s=1);for(var b,m,S=0;S<this.lines.length;++S){var L=this.lines[S],O=Bs(L.markedSpans,this);if(O.from!=null&&(b=Re(d?L:Q(L),O.from),s==-1))return b;if(O.to!=null&&(m=Re(d?L:Q(L),O.to),s==1))return m}return b&&{from:b,to:m}},fi.prototype.changed=function(){var s=this,d=this.find(-1,!0),b=this,m=this.doc.cm;!d||!m||_n(m,function(){var S=d.line,L=Q(d.line),O=yd(m,L);if(O&&(qw(O),m.curOp.selectionChanged=m.curOp.forceUpdate=!0),m.curOp.updateMaxLine=!0,!ai(b.doc,S)&&b.height!=null){var H=b.height;b.height=null;var X=Gs(b)-H;X&&Pt(S,S.height+X)}Rr(m,"markerChanged",m,s)})},fi.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(!d.maybeHiddenMarkers||se(d.maybeHiddenMarkers,this)==-1)&&(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},fi.prototype.detachLine=function(s){if(this.lines.splice(se(this.lines,s),1),!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(d.maybeHiddenMarkers||(d.maybeHiddenMarkers=[])).push(this)}},Ge(fi);function Wo(s,d,b,m,S){if(m&&m.shared)return $I(s,d,b,m,S);if(s.cm&&!s.cm.curOp)return Pr(s.cm,Wo)(s,d,b,m,S);var L=new fi(s,S),O=Ze(d,b);if(m&&oe(m,L,!1),O>0||O==0&&L.clearWhenEmpty!==!1)return L;if(L.replacedWith&&(L.collapsed=!0,L.widgetNode=N("span",[L.replacedWith],"CodeMirror-widget"),m.handleMouseEvents||L.widgetNode.setAttribute("cm-ignore-events","true"),m.insertLeft&&(L.widgetNode.insertLeft=!0)),L.collapsed){if(Ew(s,d.line,d,b,L)||d.line!=b.line&&Ew(s,b.line,d,b,L))throw new Error("Inserting collapsed marker partially overlapping an existing one");OO()}L.addToHistory&&px(s,{from:d,to:b,origin:"markText"},s.sel,NaN);var H=d.line,X=s.cm,J;if(s.iter(H,b.line+1,function(ge){X&&L.collapsed&&!X.options.lineWrapping&&Jn(ge)==X.display.maxLine&&(J=!0),L.collapsed&&H!=d.line&&Pt(ge,0),FO(ge,new Eu(L,H==d.line?d.ch:null,H==b.line?b.ch:null),s.cm&&s.cm.curOp),++H}),L.collapsed&&s.iter(d.line,b.line+1,function(ge){ai(s,ge)&&Pt(ge,0)}),L.clearOnEnter&&Ee(L,"beforeCursorEnter",function(){return L.clear()}),L.readOnly&&(NO(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),L.collapsed&&(L.id=++kx,L.atomic=!0),X){if(J&&(X.curOp.updateMaxLine=!0),L.collapsed)mn(X,d.line,b.line+1);else if(L.className||L.startStyle||L.endStyle||L.css||L.attributes||L.title)for(var ce=d.line;ce<=b.line;ce++)ii(X,ce,"text");L.atomic&&Cx(X.doc),Rr(X,"markerAdded",X,L)}return L}var rl=function(s,d){this.markers=s,this.primary=d;for(var b=0;b<s.length;++b)s[b].parent=this};rl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();Rr(this,"clear")}},rl.prototype.find=function(s,d){return this.primary.find(s,d)},Ge(rl);function $I(s,d,b,m,S){m=oe(m),m.shared=!1;var L=[Wo(s,d,b,m,S)],O=L[0],H=m.widgetNode;return ui(s,function(X){H&&(m.widgetNode=H.cloneNode(!0)),L.push(Wo(X,Ct(X,d),Ct(X,b),m,S));for(var J=0;J<X.linked.length;++J)if(X.linked[J].isParent)return;O=de(L)}),new rl(L,O)}function Nx(s){return s.findMarks(Re(s.first,0),s.clipPos(Re(s.lastLine())),function(d){return d.parent})}function YI(s,d){for(var b=0;b<d.length;b++){var m=d[b],S=m.find(),L=s.clipPos(S.from),O=s.clipPos(S.to);if(Ze(L,O)){var H=Wo(s,L,O,m.primary,m.primary.type);m.markers.push(H),H.parent=m}}}function XI(s){for(var d=function(m){var S=s[m],L=[S.primary.doc];ui(S.primary.doc,function(X){return L.push(X)});for(var O=0;O<S.markers.length;O++){var H=S.markers[O];se(L,H.doc)==-1&&(H.parent=null,S.markers.splice(O--,1))}},b=0;b<s.length;b++)d(b)}var KI=0,bn=function(s,d,b,m,S){if(!(this instanceof bn))return new bn(s,d,b,m,S);b==null&&(b=0),el.call(this,[new Js([new Po("",null)])]),this.first=b,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=b;var L=Re(b,0);this.sel=si(L),this.history=new qu(null),this.id=++KI,this.modeOption=d,this.lineSep=m,this.direction=S=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),Bd(this,{from:L,to:L,text:s}),Zr(this,si(L),le)};bn.prototype=Ae(el.prototype,{constructor:bn,iter:function(s,d,b){b?this.iterN(s-this.first,d-s,b):this.iterN(this.first,this.first+this.size,s)},insert:function(s,d){for(var b=0,m=0;m<d.length;++m)b+=d[m].height;this.insertInner(s-this.first,d,b)},remove:function(s,d){this.removeInner(s-this.first,d)},getValue:function(s){var d=Qn(this,this.first,this.first+this.size);return s===!1?d:d.join(s||this.lineSeparator())},setValue:kr(function(s){var d=Re(this.first,0),b=this.first+this.size-1;Ho(this,{from:d,to:Re(b,ft(this,b).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&Ws(this.cm,0,0),Zr(this,si(d),le)}),replaceRange:function(s,d,b,m){d=Ct(this,d),b=b?Ct(this,b):d,Uo(this,s,d,b,m)},getRange:function(s,d,b){var m=Hr(this,Ct(this,s),Ct(this,d));return b===!1?m:b===""?m.join(""):m.join(b||this.lineSeparator())},getLine:function(s){var d=this.getLineHandle(s);return d&&d.text},getLineHandle:function(s){if(ke(this,s))return ft(this,s)},getLineNumber:function(s){return Q(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=ft(this,s)),Jn(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return Ct(this,s)},getCursor:function(s){var d=this.sel.primary(),b;return s==null||s=="head"?b=d.head:s=="anchor"?b=d.anchor:s=="end"||s=="to"||s===!1?b=d.to():b=d.from(),b},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:kr(function(s,d,b){bx(this,Ct(this,typeof s=="number"?Re(s,d||0):s),null,b)}),setSelection:kr(function(s,d,b){bx(this,Ct(this,s),Ct(this,d||s),b)}),extendSelection:kr(function(s,d,b){Gu(this,Ct(this,s),d&&Ct(this,d),b)}),extendSelections:kr(function(s,d){mx(this,uw(this,s),d)}),extendSelectionsBy:kr(function(s,d){var b=ye(this.sel.ranges,s);mx(this,uw(this,b),d)}),setSelections:kr(function(s,d,b){if(s.length){for(var m=[],S=0;S<s.length;S++)m[S]=new Bt(Ct(this,s[S].anchor),Ct(this,s[S].head||s[S].anchor));d==null&&(d=Math.min(s.length-1,this.sel.primIndex)),Zr(this,ta(this.cm,m,d),b)}}),addSelection:kr(function(s,d,b){var m=this.sel.ranges.slice(0);m.push(new Bt(Ct(this,s),Ct(this,d||s))),Zr(this,ta(this.cm,m,m.length-1),b)}),getSelection:function(s){for(var d=this.sel.ranges,b,m=0;m<d.length;m++){var S=Hr(this,d[m].from(),d[m].to());b=b?b.concat(S):S}return s===!1?b:b.join(s||this.lineSeparator())},getSelections:function(s){for(var d=[],b=this.sel.ranges,m=0;m<b.length;m++){var S=Hr(this,b[m].from(),b[m].to());s!==!1&&(S=S.join(s||this.lineSeparator())),d[m]=S}return d},replaceSelection:function(s,d,b){for(var m=[],S=0;S<this.sel.ranges.length;S++)m[S]=s;this.replaceSelections(m,d,b||"+input")},replaceSelections:kr(function(s,d,b){for(var m=[],S=this.sel,L=0;L<S.ranges.length;L++){var O=S.ranges[L];m[L]={from:O.from(),to:O.to(),text:this.splitLines(s[L]),origin:b}}for(var H=d&&d!="end"&&II(this,m,d),X=m.length-1;X>=0;X--)Ho(this,m[X]);H?wx(this,H):this.cm&&Bo(this.cm)}),undo:kr(function(){Wu(this,"undo")}),redo:kr(function(){Wu(this,"redo")}),undoSelection:kr(function(){Wu(this,"undo",!0)}),redoSelection:kr(function(){Wu(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,d=0,b=0,m=0;m<s.done.length;m++)s.done[m].ranges||++d;for(var S=0;S<s.undone.length;S++)s.undone[S].ranges||++b;return{undo:d,redo:b}},clearHistory:function(){var s=this;this.history=new qu(this.history),ui(this,function(d){return d.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:zo(this.history.done),undone:zo(this.history.undone)}},setHistory:function(s){var d=this.history=new qu(this.history);d.done=zo(s.done.slice(0),null,!0),d.undone=zo(s.undone.slice(0),null,!0)},setGutterMarker:kr(function(s,d,b){return Qs(this,s,"gutter",function(m){var S=m.gutterMarkers||(m.gutterMarkers={});return S[d]=b,!b&&We(S)&&(m.gutterMarkers=null),!0})}),clearGutter:kr(function(s){var d=this;this.iter(function(b){b.gutterMarkers&&b.gutterMarkers[s]&&Qs(d,b,"gutter",function(){return b.gutterMarkers[s]=null,We(b.gutterMarkers)&&(b.gutterMarkers=null),!0})})}),lineInfo:function(s){var d;if(typeof s=="number"){if(!ke(this,s)||(d=s,s=ft(this,s),!s))return null}else if(d=Q(s),d==null)return null;return{line:d,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:kr(function(s,d,b){return Qs(this,s,d=="gutter"?"gutter":"class",function(m){var S=d=="text"?"textClass":d=="background"?"bgClass":d=="gutter"?"gutterClass":"wrapClass";if(!m[S])m[S]=b;else{if(G(b).test(m[S]))return!1;m[S]+=" "+b}return!0})}),removeLineClass:kr(function(s,d,b){return Qs(this,s,d=="gutter"?"gutter":"class",function(m){var S=d=="text"?"textClass":d=="background"?"bgClass":d=="gutter"?"gutterClass":"wrapClass",L=m[S];if(L)if(b==null)m[S]=null;else{var O=L.match(G(b));if(!O)return!1;var H=O.index+O[0].length;m[S]=L.slice(0,O.index)+(!O.index||H==L.length?"":" ")+L.slice(H)||null}else return!1;return!0})}),addLineWidget:kr(function(s,d,b){return VI(this,s,d,b)}),removeLineWidget:function(s){s.clear()},markText:function(s,d,b){return Wo(this,Ct(this,s),Ct(this,d),b,b&&b.type||"range")},setBookmark:function(s,d){var b={replacedWith:d&&(d.nodeType==null?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};return s=Ct(this,s),Wo(this,s,s,b,"bookmark")},findMarksAt:function(s){s=Ct(this,s);var d=[],b=ft(this,s.line).markedSpans;if(b)for(var m=0;m<b.length;++m){var S=b[m];(S.from==null||S.from<=s.ch)&&(S.to==null||S.to>=s.ch)&&d.push(S.marker.parent||S.marker)}return d},findMarks:function(s,d,b){s=Ct(this,s),d=Ct(this,d);var m=[],S=s.line;return this.iter(s.line,d.line+1,function(L){var O=L.markedSpans;if(O)for(var H=0;H<O.length;H++){var X=O[H];!(X.to!=null&&S==s.line&&s.ch>=X.to||X.from==null&&S!=s.line||X.from!=null&&S==d.line&&X.from>=d.ch)&&(!b||b(X.marker))&&m.push(X.marker.parent||X.marker)}++S}),m},getAllMarks:function(){var s=[];return this.iter(function(d){var b=d.markedSpans;if(b)for(var m=0;m<b.length;++m)b[m].from!=null&&s.push(b[m].marker)}),s},posFromIndex:function(s){var d,b=this.first,m=this.lineSeparator().length;return this.iter(function(S){var L=S.text.length+m;if(L>s)return d=s,!0;s-=L,++b}),Ct(this,Re(b,d))},indexFromPos:function(s){s=Ct(this,s);var d=s.ch;if(s.line<this.first||s.ch<0)return 0;var b=this.lineSeparator().length;return this.iter(this.first,s.line,function(m){d+=m.text.length+b}),d},copy:function(s){var d=new bn(Qn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return d.scrollTop=this.scrollTop,d.scrollLeft=this.scrollLeft,d.sel=this.sel,d.extend=!1,s&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory())),d},linkedDoc:function(s){s||(s={});var d=this.first,b=this.first+this.size;s.from!=null&&s.from>d&&(d=s.from),s.to!=null&&s.to<b&&(b=s.to);var m=new bn(Qn(this,d,b),s.mode||this.modeOption,d,this.lineSep,this.direction);return s.sharedHist&&(m.history=this.history),(this.linked||(this.linked=[])).push({doc:m,sharedHist:s.sharedHist}),m.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],YI(m,Nx(this)),m},unlinkDoc:function(s){if(s instanceof lr&&(s=s.doc),this.linked)for(var d=0;d<this.linked.length;++d){var b=this.linked[d];if(b.doc==s){this.linked.splice(d,1),s.unlinkDoc(this),XI(Nx(this));break}}if(s.history==this.history){var m=[s.id];ui(s,function(S){return m.push(S.id)},!0),s.history=new qu(null),s.history.done=zo(this.history.done,m),s.history.undone=zo(this.history.undone,m)}},iterLinkedDocs:function(s){ui(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):Gt(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:kr(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(d){return d.order=null}),this.cm&&FI(this.cm))})}),bn.prototype.eachLine=bn.prototype.iter;var Ox=0;function jI(s){var d=this;if(Ix(d),!(Ue(d,s)||Oa(d.display,s))){$e(s),u&&(Ox=+new Date);var b=Wi(d,s,!0),m=s.dataTransfer.files;if(!(!b||d.isReadOnly()))if(m&&m.length&&window.FileReader&&window.File)for(var S=m.length,L=Array(S),O=0,H=function(){++O==S&&Pr(d,function(){b=Ct(d.doc,b);var Le={from:b,to:b,text:d.doc.splitLines(L.filter(function(Ne){return Ne!=null}).join(d.doc.lineSeparator())),origin:"paste"};Ho(d.doc,Le),wx(d.doc,si(Ct(d.doc,b),Ct(d.doc,li(Le))))})()},X=function(Le,Ne){if(d.options.allowDropFileTypes&&se(d.options.allowDropFileTypes,Le.type)==-1){H();return}var Be=new FileReader;Be.onerror=function(){return H()},Be.onload=function(){var Ke=Be.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ke)){H();return}L[Ne]=Ke,H()},Be.readAsText(Le)},J=0;J<m.length;J++)X(m[J],J);else{if(d.state.draggingText&&d.doc.sel.contains(b)>-1){d.state.draggingText(s),setTimeout(function(){return d.display.input.focus()},20);return}try{var ce=s.dataTransfer.getData("Text");if(ce){var ge;if(d.state.draggingText&&!d.state.draggingText.copy&&(ge=d.listSelections()),Hu(d.doc,si(b,b)),ge)for(var De=0;De<ge.length;++De)Uo(d.doc,"",ge[De].anchor,ge[De].head,"drag");d.replaceSelection(ce,"around","paste"),d.display.input.focus()}}catch{}}}}function ZI(s,d){if(u&&(!s.state.draggingText||+new Date-Ox<100)){it(d);return}if(!(Ue(s,d)||Oa(s.display,d))&&(d.dataTransfer.setData("Text",s.getSelection()),d.dataTransfer.effectAllowed="copyMove",d.dataTransfer.setDragImage&&!E)){var b=P("img",null,null,"position: fixed; left: 0; top: 0;");b.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",g&&(b.width=b.height=1,s.display.wrapper.appendChild(b),b._top=b.offsetTop),d.dataTransfer.setDragImage(b,0,0),g&&b.parentNode.removeChild(b)}}function QI(s,d){var b=Wi(s,d);if(b){var m=document.createDocumentFragment();Sd(s,b,m),s.display.dragCursor||(s.display.dragCursor=P("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),M(s.display.dragCursor,m)}}function Ix(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function Fx(s){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),b=[],m=0;m<d.length;m++){var S=d[m].CodeMirror;S&&b.push(S)}b.length&&b[0].operation(function(){for(var L=0;L<b.length;L++)s(b[L])})}}var Bx=!1;function JI(){Bx||(e2(),Bx=!0)}function e2(){var s;Ee(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,Fx(t2)},100))}),Ee(window,"blur",function(){return Fx(Fo)})}function t2(s){var d=s.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,s.setSize()}for(var ci={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},nl=0;nl<10;nl++)ci[nl+48]=ci[nl+96]=String(nl);for(var Vu=65;Vu<=90;Vu++)ci[Vu]=String.fromCharCode(Vu);for(var al=1;al<=12;al++)ci[al+111]=ci[al+63235]="F"+al;var Fa={};Fa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fa.default=A?Fa.macDefault:Fa.pcDefault;function r2(s){var d=s.split(/-(?!$)/);s=d[d.length-1];for(var b,m,S,L,O=0;O<d.length-1;O++){var H=d[O];if(/^(cmd|meta|m)$/i.test(H))L=!0;else if(/^a(lt)?$/i.test(H))b=!0;else if(/^(c|ctrl|control)$/i.test(H))m=!0;else if(/^s(hift)?$/i.test(H))S=!0;else throw new Error("Unrecognized modifier name: "+H)}return b&&(s="Alt-"+s),m&&(s="Ctrl-"+s),L&&(s="Cmd-"+s),S&&(s="Shift-"+s),s}function n2(s){var d={};for(var b in s)if(s.hasOwnProperty(b)){var m=s[b];if(/^(name|fallthrough|(de|at)tach)$/.test(b))continue;if(m=="..."){delete s[b];continue}for(var S=ye(b.split(" "),r2),L=0;L<S.length;L++){var O=void 0,H=void 0;L==S.length-1?(H=S.join(" "),O=m):(H=S.slice(0,L+1).join(" "),O="...");var X=d[H];if(!X)d[H]=O;else if(X!=O)throw new Error("Inconsistent bindings for "+H)}delete s[b]}for(var J in d)s[J]=d[J];return s}function Vo(s,d,b,m){d=$u(d);var S=d.call?d.call(s,m):d[s];if(S===!1)return"nothing";if(S==="...")return"multi";if(S!=null&&b(S))return"handled";if(d.fallthrough){if(Object.prototype.toString.call(d.fallthrough)!="[object Array]")return Vo(s,d.fallthrough,b,m);for(var L=0;L<d.fallthrough.length;L++){var O=Vo(s,d.fallthrough[L],b,m);if(O)return O}}}function qx(s){var d=typeof s=="string"?s:ci[s.keyCode];return d=="Ctrl"||d=="Alt"||d=="Shift"||d=="Mod"}function zx(s,d,b){var m=s;return d.altKey&&m!="Alt"&&(s="Alt-"+s),(k?d.metaKey:d.ctrlKey)&&m!="Ctrl"&&(s="Ctrl-"+s),(k?d.ctrlKey:d.metaKey)&&m!="Mod"&&(s="Cmd-"+s),!b&&d.shiftKey&&m!="Shift"&&(s="Shift-"+s),s}function Gx(s,d){if(g&&s.keyCode==34&&s.char)return!1;var b=ci[s.keyCode];return b==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(b=s.code),zx(b,s,d))}function $u(s){return typeof s=="string"?Fa[s]:s}function $o(s,d){for(var b=s.doc.sel.ranges,m=[],S=0;S<b.length;S++){for(var L=d(b[S]);m.length&&Ze(L.from,de(m).to)<=0;){var O=m.pop();if(Ze(O.from,L.from)<0){L.from=O.from;break}}m.push(L)}_n(s,function(){for(var H=m.length-1;H>=0;H--)Uo(s.doc,"",m[H].from,m[H].to,"+delete");Bo(s)})}function Hd(s,d,b){var m=Ve(s.text,d+b,b);return m<0||m>s.text.length?null:m}function Ud(s,d,b){var m=Hd(s,d.ch,b);return m==null?null:new Re(d.line,m,b<0?"after":"before")}function Wd(s,d,b,m,S){if(s){d.doc.direction=="rtl"&&(S=-S);var L=xe(b,d.doc.direction);if(L){var O=S<0?de(L):L[0],H=S<0==(O.level==1),X=H?"after":"before",J;if(O.level>0||d.doc.direction=="rtl"){var ce=No(d,b);J=S<0?b.text.length-1:0;var ge=va(d,ce,J).top;J=he(function(De){return va(d,ce,De).top==ge},S<0==(O.level==1)?O.from:O.to-1,J),X=="before"&&(J=Hd(b,J,1))}else J=S<0?O.to:O.from;return new Re(m,J,X)}}return new Re(m,S<0?b.text.length:0,S<0?"before":"after")}function a2(s,d,b,m){var S=xe(d,s.doc.direction);if(!S)return Ud(d,b,m);b.ch>=d.text.length?(b.ch=d.text.length,b.sticky="before"):b.ch<=0&&(b.ch=0,b.sticky="after");var L=me(S,b.ch,b.sticky),O=S[L];if(s.doc.direction=="ltr"&&O.level%2==0&&(m>0?O.to>b.ch:O.from<b.ch))return Ud(d,b,m);var H=function(et,ot){return Hd(d,et instanceof Re?et.ch:et,ot)},X,J=function(et){return s.options.lineWrapping?(X=X||No(s,d),$w(s,d,X,et)):{begin:0,end:d.text.length}},ce=J(b.sticky=="before"?H(b,-1):b.ch);if(s.doc.direction=="rtl"||O.level==1){var ge=O.level==1==m<0,De=H(b,ge?1:-1);if(De!=null&&(ge?De<=O.to&&De<=ce.end:De>=O.from&&De>=ce.begin)){var Le=ge?"before":"after";return new Re(b.line,De,Le)}}var Ne=function(et,ot,tt){for(var lt=function(Zt,Nr){return Nr?new Re(b.line,H(Zt,1),"before"):new Re(b.line,Zt,"after")};et>=0&&et<S.length;et+=ot){var yt=S[et],pt=ot>0==(yt.level!=1),At=pt?tt.begin:H(tt.end,-1);if(yt.from<=At&&At<yt.to||(At=pt?yt.from:H(yt.to,-1),tt.begin<=At&&At<tt.end))return lt(At,pt)}},Be=Ne(L+m,m,ce);if(Be)return Be;var Ke=m>0?ce.end:H(ce.begin,-1);return Ke!=null&&!(m>0&&Ke==d.text.length)&&(Be=Ne(m>0?0:S.length-1,m,J(Ke)),Be)?Be:null}var il={selectAll:Sx,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),le)},killLine:function(s){return $o(s,function(d){if(d.empty()){var b=ft(s.doc,d.head.line).text.length;return d.head.ch==b&&d.head.line<s.lastLine()?{from:d.head,to:Re(d.head.line+1,0)}:{from:d.head,to:Re(d.head.line,b)}}else return{from:d.from(),to:d.to()}})},deleteLine:function(s){return $o(s,function(d){return{from:Re(d.from().line,0),to:Ct(s.doc,Re(d.to().line+1,0))}})},delLineLeft:function(s){return $o(s,function(d){return{from:Re(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(s){return $o(s,function(d){var b=s.charCoords(d.head,"div").top+5,m=s.coordsChar({left:0,top:b},"div");return{from:m,to:d.from()}})},delWrappedLineRight:function(s){return $o(s,function(d){var b=s.charCoords(d.head,"div").top+5,m=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:b},"div");return{from:d.from(),to:m}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(Re(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(Re(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(d){return Hx(s,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(d){return Ux(s,d.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(d){return i2(s,d.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(d){var b=s.cursorCoords(d.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:b},"div")},_e)},goLineLeft:function(s){return s.extendSelectionsBy(function(d){var b=s.cursorCoords(d.head,"div").top+5;return s.coordsChar({left:0,top:b},"div")},_e)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(d){var b=s.cursorCoords(d.head,"div").top+5,m=s.coordsChar({left:0,top:b},"div");return m.ch<s.getLine(m.line).search(/\S/)?Ux(s,d.head):m},_e)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var d=[],b=s.listSelections(),m=s.options.tabSize,S=0;S<b.length;S++){var L=b[S].from(),O=te(s.getLine(L.line),L.ch,m);d.push(ve(m-O%m))}s.replaceSelections(d)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return _n(s,function(){for(var d=s.listSelections(),b=[],m=0;m<d.length;m++)if(d[m].empty()){var S=d[m].head,L=ft(s.doc,S.line).text;if(L){if(S.ch==L.length&&(S=new Re(S.line,S.ch-1)),S.ch>0)S=new Re(S.line,S.ch+1),s.replaceRange(L.charAt(S.ch-1)+L.charAt(S.ch-2),Re(S.line,S.ch-2),S,"+transpose");else if(S.line>s.doc.first){var O=ft(s.doc,S.line-1).text;O&&(S=new Re(S.line,1),s.replaceRange(L.charAt(0)+s.doc.lineSeparator()+O.charAt(O.length-1),Re(S.line-1,O.length-1),S,"+transpose"))}}b.push(new Bt(S,S))}s.setSelections(b)})},newlineAndIndent:function(s){return _n(s,function(){for(var d=s.listSelections(),b=d.length-1;b>=0;b--)s.replaceRange(s.doc.lineSeparator(),d[b].anchor,d[b].head,"+input");d=s.listSelections();for(var m=0;m<d.length;m++)s.indentLine(d[m].from().line,null,!0);Bo(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function Hx(s,d){var b=ft(s.doc,d),m=Jn(b);return m!=b&&(d=Q(m)),Wd(!0,s,m,d,1)}function i2(s,d){var b=ft(s.doc,d),m=HO(b);return m!=b&&(d=Q(m)),Wd(!0,s,b,d,-1)}function Ux(s,d){var b=Hx(s,d.line),m=ft(s.doc,b.line),S=xe(m,s.doc.direction);if(!S||S[0].level==0){var L=Math.max(b.ch,m.text.search(/\S/)),O=d.line==b.line&&d.ch<=L&&d.ch;return Re(b.line,O?0:L,b.sticky)}return b}function Yu(s,d,b){if(typeof d=="string"&&(d=il[d],!d))return!1;s.display.input.ensurePolled();var m=s.display.shift,S=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),b&&(s.display.shift=!1),S=d(s)!=ne}finally{s.display.shift=m,s.state.suppressEdits=!1}return S}function o2(s,d,b){for(var m=0;m<s.state.keyMaps.length;m++){var S=Vo(d,s.state.keyMaps[m],b,s);if(S)return S}return s.options.extraKeys&&Vo(d,s.options.extraKeys,b,s)||Vo(d,s.options.keyMap,b,s)}var s2=new ie;function ol(s,d,b,m){var S=s.state.keySeq;if(S){if(qx(d))return"handled";if(/\'$/.test(d)?s.state.keySeq=null:s2.set(50,function(){s.state.keySeq==S&&(s.state.keySeq=null,s.display.input.reset())}),Wx(s,S+" "+d,b,m))return!0}return Wx(s,d,b,m)}function Wx(s,d,b,m){var S=o2(s,d,m);return S=="multi"&&(s.state.keySeq=d),S=="handled"&&Rr(s,"keyHandled",s,d,b),(S=="handled"||S=="multi")&&($e(b),Ad(s)),!!S}function Vx(s,d){var b=Gx(d,!0);return b?d.shiftKey&&!s.state.keySeq?ol(s,"Shift-"+b,d,function(m){return Yu(s,m,!0)})||ol(s,b,d,function(m){if(typeof m=="string"?/^go[A-Z]/.test(m):m.motion)return Yu(s,m)}):ol(s,b,d,function(m){return Yu(s,m)}):!1}function l2(s,d,b){return ol(s,"'"+b+"'",d,function(m){return Yu(s,m,!0)})}var Vd=null;function $x(s){var d=this;if(!(s.target&&s.target!=d.display.input.getField())&&(d.curOp.focus=ae(U(d)),!Ue(d,s))){u&&f<11&&s.keyCode==27&&(s.returnValue=!1);var b=s.keyCode;d.display.shift=b==16||s.shiftKey;var m=Vx(d,s);g&&(Vd=m?b:null,!m&&b==88&&!on&&(A?s.metaKey:s.ctrlKey)&&d.replaceSelection("",null,"cut")),a&&!A&&!m&&b==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),b==18&&!/\bCodeMirror-crosshair\b/.test(d.display.lineDiv.className)&&u2(d)}}function u2(s){var d=s.display.lineDiv;re(d,"CodeMirror-crosshair");function b(m){(m.keyCode==18||!m.altKey)&&(F(d,"CodeMirror-crosshair"),Ie(document,"keyup",b),Ie(document,"mouseover",b))}Ee(document,"keyup",b),Ee(document,"mouseover",b)}function Yx(s){s.keyCode==16&&(this.doc.sel.shift=!1),Ue(this,s)}function Xx(s){var d=this;if(!(s.target&&s.target!=d.display.input.getField())&&!(Oa(d.display,s)||Ue(d,s)||s.ctrlKey&&!s.altKey||A&&s.metaKey)){var b=s.keyCode,m=s.charCode;if(g&&b==Vd){Vd=null,$e(s);return}if(!(g&&(!s.which||s.which<10)&&Vx(d,s))){var S=String.fromCharCode(m??b);S!="\b"&&(l2(d,s,S)||d.display.input.onKeyPress(s))}}}var f2=400,$d=function(s,d,b){this.time=s,this.pos=d,this.button=b};$d.prototype.compare=function(s,d,b){return this.time+f2>s&&Ze(d,this.pos)==0&&b==this.button};var sl,ll;function c2(s,d){var b=+new Date;return ll&&ll.compare(b,s,d)?(sl=ll=null,"triple"):sl&&sl.compare(b,s,d)?(ll=new $d(b,s,d),sl=null,"double"):(sl=new $d(b,s,d),ll=null,"single")}function Kx(s){var d=this,b=d.display;if(!(Ue(d,s)||b.activeTouch&&b.input.supportsTouch())){if(b.input.ensurePolled(),b.shift=s.shiftKey,Oa(b,s)){c||(b.scroller.draggable=!1,setTimeout(function(){return b.scroller.draggable=!0},100));return}if(!Yd(d,s)){var m=Wi(d,s),S=ct(s),L=m?c2(m,S):"single";Y(d).focus(),S==1&&d.state.selectingText&&d.state.selectingText(s),!(m&&d2(d,S,m,L,s))&&(S==1?m?v2(d,m,L,s):Et(s)==b.scroller&&$e(s):S==2?(m&&Gu(d.doc,m),setTimeout(function(){return b.input.focus()},20)):S==3&&(B?d.display.input.onContextMenu(s):Ld(d)))}}}function d2(s,d,b,m,S){var L="Click";return m=="double"?L="Double"+L:m=="triple"&&(L="Triple"+L),L=(d==1?"Left":d==2?"Middle":"Right")+L,ol(s,zx(L,S),S,function(O){if(typeof O=="string"&&(O=il[O]),!O)return!1;var H=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),H=O(s,b)!=ne}finally{s.state.suppressEdits=!1}return H})}function h2(s,d,b){var m=s.getOption("configureMouse"),S=m?m(s,d,b):{};if(S.unit==null){var L=_?b.shiftKey&&b.metaKey:b.altKey;S.unit=L?"rectangle":d=="single"?"char":d=="double"?"word":"line"}return(S.extend==null||s.doc.extend)&&(S.extend=s.doc.extend||b.shiftKey),S.addNew==null&&(S.addNew=A?b.metaKey:b.ctrlKey),S.moveOnDrag==null&&(S.moveOnDrag=!(A?b.altKey:b.ctrlKey)),S}function v2(s,d,b,m){u?setTimeout(ee(jw,s),0):s.curOp.focus=ae(U(s));var S=h2(s,b,m),L=s.doc.sel,O;s.options.dragDrop&&gt&&!s.isReadOnly()&&b=="single"&&(O=L.contains(d))>-1&&(Ze((O=L.ranges[O]).from(),d)<0||d.xRel>0)&&(Ze(O.to(),d)>0||d.xRel<0)?p2(s,m,d,S):g2(s,m,d,S)}function p2(s,d,b,m){var S=s.display,L=!1,O=Pr(s,function(J){c&&(S.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:Ld(s)),Ie(S.wrapper.ownerDocument,"mouseup",O),Ie(S.wrapper.ownerDocument,"mousemove",H),Ie(S.scroller,"dragstart",X),Ie(S.scroller,"drop",O),L||($e(J),m.addNew||Gu(s.doc,b,null,null,m.extend),c&&!E||u&&f==9?setTimeout(function(){S.wrapper.ownerDocument.body.focus({preventScroll:!0}),S.input.focus()},20):S.input.focus())}),H=function(J){L=L||Math.abs(d.clientX-J.clientX)+Math.abs(d.clientY-J.clientY)>=10},X=function(){return L=!0};c&&(S.scroller.draggable=!0),s.state.draggingText=O,O.copy=!m.moveOnDrag,Ee(S.wrapper.ownerDocument,"mouseup",O),Ee(S.wrapper.ownerDocument,"mousemove",H),Ee(S.scroller,"dragstart",X),Ee(S.scroller,"drop",O),s.state.delayingBlurEvent=!0,setTimeout(function(){return S.input.focus()},20),S.scroller.dragDrop&&S.scroller.dragDrop()}function jx(s,d,b){if(b=="char")return new Bt(d,d);if(b=="word")return s.findWordAt(d);if(b=="line")return new Bt(Re(d.line,0),Ct(s.doc,Re(d.line+1,0)));var m=b(s,d);return new Bt(m.from,m.to)}function g2(s,d,b,m){u&&Ld(s);var S=s.display,L=s.doc;$e(d);var O,H,X=L.sel,J=X.ranges;if(m.addNew&&!m.extend?(H=L.sel.contains(b),H>-1?O=J[H]:O=new Bt(b,b)):(O=L.sel.primary(),H=L.sel.primIndex),m.unit=="rectangle")m.addNew||(O=new Bt(b,b)),b=Wi(s,d,!0,!0),H=-1;else{var ce=jx(s,b,m.unit);m.extend?O=zd(O,ce.anchor,ce.head,m.extend):O=ce}m.addNew?H==-1?(H=J.length,Zr(L,ta(s,J.concat([O]),H),{scroll:!1,origin:"*mouse"})):J.length>1&&J[H].empty()&&m.unit=="char"&&!m.extend?(Zr(L,ta(s,J.slice(0,H).concat(J.slice(H+1)),0),{scroll:!1,origin:"*mouse"}),X=L.sel):Gd(L,H,O,Se):(H=0,Zr(L,new On([O],0),Se),X=L.sel);var ge=b;function De(tt){if(Ze(ge,tt)!=0)if(ge=tt,m.unit=="rectangle"){for(var lt=[],yt=s.options.tabSize,pt=te(ft(L,b.line).text,b.ch,yt),At=te(ft(L,tt.line).text,tt.ch,yt),Zt=Math.min(pt,At),Nr=Math.max(pt,At),cr=Math.min(b.line,tt.line),Dn=Math.min(s.lastLine(),Math.max(b.line,tt.line));cr<=Dn;cr++){var wn=ft(L,cr).text,Cr=be(wn,Zt,yt);Zt==Nr?lt.push(new Bt(Re(cr,Cr),Re(cr,Cr))):wn.length>Cr&&lt.push(new Bt(Re(cr,Cr),Re(cr,be(wn,Nr,yt))))}lt.length||lt.push(new Bt(b,b)),Zr(L,ta(s,X.ranges.slice(0,H).concat(lt),H),{origin:"*mouse",scroll:!1}),s.scrollIntoView(tt)}else{var xn=O,Ur=jx(s,tt,m.unit),Ar=xn.anchor,Er;Ze(Ur.anchor,Ar)>0?(Er=Ur.head,Ar=Ro(xn.from(),Ur.anchor)):(Er=Ur.anchor,Ar=yn(xn.to(),Ur.head));var vr=X.ranges.slice(0);vr[H]=y2(s,new Bt(Ct(L,Ar),Er)),Zr(L,ta(s,vr,H),Se)}}var Le=S.wrapper.getBoundingClientRect(),Ne=0;function Be(tt){var lt=++Ne,yt=Wi(s,tt,!0,m.unit=="rectangle");if(yt)if(Ze(yt,ge)!=0){s.curOp.focus=ae(U(s)),De(yt);var pt=Ou(S,L);(yt.line>=pt.to||yt.line<pt.from)&&setTimeout(Pr(s,function(){Ne==lt&&Be(tt)}),150)}else{var At=tt.clientY<Le.top?-20:tt.clientY>Le.bottom?20:0;At&&setTimeout(Pr(s,function(){Ne==lt&&(S.scroller.scrollTop+=At,Be(tt))}),50)}}function Ke(tt){s.state.selectingText=!1,Ne=1/0,tt&&($e(tt),S.input.focus()),Ie(S.wrapper.ownerDocument,"mousemove",et),Ie(S.wrapper.ownerDocument,"mouseup",ot),L.history.lastSelOrigin=null}var et=Pr(s,function(tt){tt.buttons===0||!ct(tt)?Ke(tt):Be(tt)}),ot=Pr(s,Ke);s.state.selectingText=ot,Ee(S.wrapper.ownerDocument,"mousemove",et),Ee(S.wrapper.ownerDocument,"mouseup",ot)}function y2(s,d){var b=d.anchor,m=d.head,S=ft(s.doc,b.line);if(Ze(b,m)==0&&b.sticky==m.sticky)return d;var L=xe(S);if(!L)return d;var O=me(L,b.ch,b.sticky),H=L[O];if(H.from!=b.ch&&H.to!=b.ch)return d;var X=O+(H.from==b.ch==(H.level!=1)?0:1);if(X==0||X==L.length)return d;var J;if(m.line!=b.line)J=(m.line-b.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var ce=me(L,m.ch,m.sticky),ge=ce-O||(m.ch-b.ch)*(H.level==1?-1:1);ce==X-1||ce==X?J=ge<0:J=ge>0}var De=L[X+(J?-1:0)],Le=J==(De.level==1),Ne=Le?De.from:De.to,Be=Le?"after":"before";return b.ch==Ne&&b.sticky==Be?d:new Bt(new Re(b.line,Ne,Be),m)}function Zx(s,d,b,m){var S,L;if(d.touches)S=d.touches[0].clientX,L=d.touches[0].clientY;else try{S=d.clientX,L=d.clientY}catch{return!1}if(S>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;m&&$e(d);var O=s.display,H=O.lineDiv.getBoundingClientRect();if(L>H.bottom||!Je(s,b))return nt(d);L-=H.top-O.viewOffset;for(var X=0;X<s.display.gutterSpecs.length;++X){var J=O.gutters.childNodes[X];if(J&&J.getBoundingClientRect().right>=S){var ce=fe(s.doc,L),ge=s.display.gutterSpecs[X];return He(s,b,s,ce,ge.className,d),nt(d)}}}function Yd(s,d){return Zx(s,d,"gutterClick",!0)}function Qx(s,d){Oa(s.display,d)||m2(s,d)||Ue(s,d,"contextmenu")||B||s.display.input.onContextMenu(d)}function m2(s,d){return Je(s,"gutterContextMenu")?Zx(s,d,"gutterContextMenu",!1):!1}function Jx(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Hs(s)}var Yo={toString:function(){return"CodeMirror.Init"}},eC={},Xu={};function b2(s){var d=s.optionHandlers;function b(m,S,L,O){s.defaults[m]=S,L&&(d[m]=O?function(H,X,J){J!=Yo&&L(H,X,J)}:L)}s.defineOption=b,s.Init=Yo,b("value","",function(m,S){return m.setValue(S)},!0),b("mode",null,function(m,S){m.doc.modeOption=S,Fd(m)},!0),b("indentUnit",2,Fd,!0),b("indentWithTabs",!1),b("smartIndent",!0),b("tabSize",4,function(m){js(m),Hs(m),mn(m)},!0),b("lineSeparator",null,function(m,S){if(m.doc.lineSep=S,!!S){var L=[],O=m.doc.first;m.doc.iter(function(X){for(var J=0;;){var ce=X.text.indexOf(S,J);if(ce==-1)break;J=ce+S.length,L.push(Re(O,ce))}O++});for(var H=L.length-1;H>=0;H--)Uo(m.doc,S,L[H],Re(L[H].line,L[H].ch+S.length))}}),b("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(m,S,L){m.state.specialChars=new RegExp(S.source+(S.test("	")?"":"|	"),"g"),L!=Yo&&m.refresh()}),b("specialCharPlaceholder",XO,function(m){return m.refresh()},!0),b("electricChars",!0),b("inputStyle",T?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),b("spellcheck",!1,function(m,S){return m.getInputField().spellcheck=S},!0),b("autocorrect",!1,function(m,S){return m.getInputField().autocorrect=S},!0),b("autocapitalize",!1,function(m,S){return m.getInputField().autocapitalize=S},!0),b("rtlMoveVisually",!D),b("wholeLineUpdateBefore",!0),b("theme","default",function(m){Jx(m),Ks(m)},!0),b("keyMap","default",function(m,S,L){var O=$u(S),H=L!=Yo&&$u(L);H&&H.detach&&H.detach(m,O),O.attach&&O.attach(m,H||null)}),b("extraKeys",null),b("configureMouse",null),b("lineWrapping",!1,x2,!0),b("gutters",[],function(m,S){m.display.gutterSpecs=Od(S,m.options.lineNumbers),Ks(m)},!0),b("fixedGutter",!0,function(m,S){m.display.gutters.style.left=S?Ed(m.display)+"px":"0",m.refresh()},!0),b("coverGutterNextToScrollbar",!1,function(m){return qo(m)},!0),b("scrollbarStyle","native",function(m){rx(m),qo(m),m.display.scrollbars.setScrollTop(m.doc.scrollTop),m.display.scrollbars.setScrollLeft(m.doc.scrollLeft)},!0),b("lineNumbers",!1,function(m,S){m.display.gutterSpecs=Od(m.options.gutters,S),Ks(m)},!0),b("firstLineNumber",1,Ks,!0),b("lineNumberFormatter",function(m){return m},Ks,!0),b("showCursorWhenSelecting",!1,Us,!0),b("resetSelectionOnContextMenu",!0),b("lineWiseCopyCut",!0),b("pasteLinesPerSelection",!0),b("selectionsMayTouch",!1),b("readOnly",!1,function(m,S){S=="nocursor"&&(Fo(m),m.display.input.blur()),m.display.input.readOnlyChanged(S)}),b("screenReaderLabel",null,function(m,S){S=S===""?null:S,m.display.input.screenReaderLabelChanged(S)}),b("disableInput",!1,function(m,S){S||m.display.input.reset()},!0),b("dragDrop",!0,w2),b("allowDropFileTypes",null),b("cursorBlinkRate",530),b("cursorScrollMargin",0),b("cursorHeight",1,Us,!0),b("singleCursorHeightPerLine",!0,Us,!0),b("workTime",100),b("workDelay",100),b("flattenSpans",!0,js,!0),b("addModeClass",!1,js,!0),b("pollInterval",100),b("undoDepth",200,function(m,S){return m.doc.history.undoDepth=S}),b("historyEventDelay",1250),b("viewportMargin",10,function(m){return m.refresh()},!0),b("maxHighlightLength",1e4,js,!0),b("moveInputWithCursor",!0,function(m,S){S||m.display.input.resetPosition()}),b("tabindex",null,function(m,S){return m.display.input.getField().tabIndex=S||""}),b("autofocus",null),b("direction","ltr",function(m,S){return m.doc.setDirection(S)},!0),b("phrases",null)}function w2(s,d,b){var m=b&&b!=Yo;if(!d!=!m){var S=s.display.dragFunctions,L=d?Ee:Ie;L(s.display.scroller,"dragstart",S.start),L(s.display.scroller,"dragenter",S.enter),L(s.display.scroller,"dragover",S.over),L(s.display.scroller,"dragleave",S.leave),L(s.display.scroller,"drop",S.drop)}}function x2(s){s.options.lineWrapping?(re(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(F(s.display.wrapper,"CodeMirror-wrap"),hd(s)),Td(s),mn(s),Hs(s),setTimeout(function(){return qo(s)},100)}function lr(s,d){var b=this;if(!(this instanceof lr))return new lr(s,d);this.options=d=d?oe(d):{},oe(eC,d,!1);var m=d.value;typeof m=="string"?m=new bn(m,d.mode,null,d.lineSeparator,d.direction):d.mode&&(m.modeOption=d.mode),this.doc=m;var S=new lr.inputStyles[d.inputStyle](this),L=this.display=new NI(s,m,S,d);L.wrapper.CodeMirror=this,Jx(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),rx(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ie,keySeq:null,specialChars:null},d.autofocus&&!T&&L.input.focus(),u&&f<11&&setTimeout(function(){return b.display.input.reset(!0)},20),C2(this),JI(),Xi(this),this.curOp.forceUpdate=!0,dx(this,m),d.autofocus&&!T||this.hasFocus()?setTimeout(function(){b.hasFocus()&&!b.state.focused&&_d(b)},20):Fo(this);for(var O in Xu)Xu.hasOwnProperty(O)&&Xu[O](this,d[O],Yo);ix(this),d.finishInit&&d.finishInit(this);for(var H=0;H<Xd.length;++H)Xd[H](this);Ki(this),c&&d.lineWrapping&&getComputedStyle(L.lineDiv).textRendering=="optimizelegibility"&&(L.lineDiv.style.textRendering="auto")}lr.defaults=eC,lr.optionHandlers=Xu;function C2(s){var d=s.display;Ee(d.scroller,"mousedown",Pr(s,Kx)),u&&f<11?Ee(d.scroller,"dblclick",Pr(s,function(X){if(!Ue(s,X)){var J=Wi(s,X);if(!(!J||Yd(s,X)||Oa(s.display,X))){$e(X);var ce=s.findWordAt(J);Gu(s.doc,ce.anchor,ce.head)}}})):Ee(d.scroller,"dblclick",function(X){return Ue(s,X)||$e(X)}),Ee(d.scroller,"contextmenu",function(X){return Qx(s,X)}),Ee(d.input.getField(),"contextmenu",function(X){d.scroller.contains(X.target)||Qx(s,X)});var b,m={end:0};function S(){d.activeTouch&&(b=setTimeout(function(){return d.activeTouch=null},1e3),m=d.activeTouch,m.end=+new Date)}function L(X){if(X.touches.length!=1)return!1;var J=X.touches[0];return J.radiusX<=1&&J.radiusY<=1}function O(X,J){if(J.left==null)return!0;var ce=J.left-X.left,ge=J.top-X.top;return ce*ce+ge*ge>20*20}Ee(d.scroller,"touchstart",function(X){if(!Ue(s,X)&&!L(X)&&!Yd(s,X)){d.input.ensurePolled(),clearTimeout(b);var J=+new Date;d.activeTouch={start:J,moved:!1,prev:J-m.end<=300?m:null},X.touches.length==1&&(d.activeTouch.left=X.touches[0].pageX,d.activeTouch.top=X.touches[0].pageY)}}),Ee(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),Ee(d.scroller,"touchend",function(X){var J=d.activeTouch;if(J&&!Oa(d,X)&&J.left!=null&&!J.moved&&new Date-J.start<300){var ce=s.coordsChar(d.activeTouch,"page"),ge;!J.prev||O(J,J.prev)?ge=new Bt(ce,ce):!J.prev.prev||O(J,J.prev.prev)?ge=s.findWordAt(ce):ge=new Bt(Re(ce.line,0),Ct(s.doc,Re(ce.line+1,0))),s.setSelection(ge.anchor,ge.head),s.focus(),$e(X)}S()}),Ee(d.scroller,"touchcancel",S),Ee(d.scroller,"scroll",function(){d.scroller.clientHeight&&(Vs(s,d.scroller.scrollTop),$i(s,d.scroller.scrollLeft,!0),He(s,"scroll",s))}),Ee(d.scroller,"mousewheel",function(X){return lx(s,X)}),Ee(d.scroller,"DOMMouseScroll",function(X){return lx(s,X)}),Ee(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(X){Ue(s,X)||it(X)},over:function(X){Ue(s,X)||(QI(s,X),it(X))},start:function(X){return ZI(s,X)},drop:Pr(s,jI),leave:function(X){Ue(s,X)||Ix(s)}};var H=d.input.getField();Ee(H,"keyup",function(X){return Yx.call(s,X)}),Ee(H,"keydown",Pr(s,$x)),Ee(H,"keypress",Pr(s,Xx)),Ee(H,"focus",function(X){return _d(s,X)}),Ee(H,"blur",function(X){return Fo(s,X)})}var Xd=[];lr.defineInitHook=function(s){return Xd.push(s)};function ul(s,d,b,m){var S=s.doc,L;b==null&&(b="add"),b=="smart"&&(S.mode.indent?L=Fs(s,d).state:b="prev");var O=s.options.tabSize,H=ft(S,d),X=te(H.text,null,O);H.stateAfter&&(H.stateAfter=null);var J=H.text.match(/^\s*/)[0],ce;if(!m&&!/\S/.test(H.text))ce=0,b="not";else if(b=="smart"&&(ce=S.mode.indent(L,H.text.slice(J.length),H.text),ce==ne||ce>150)){if(!m)return;b="prev"}b=="prev"?d>S.first?ce=te(ft(S,d-1).text,null,O):ce=0:b=="add"?ce=X+s.options.indentUnit:b=="subtract"?ce=X-s.options.indentUnit:typeof b=="number"&&(ce=X+b),ce=Math.max(0,ce);var ge="",De=0;if(s.options.indentWithTabs)for(var Le=Math.floor(ce/O);Le;--Le)De+=O,ge+="	";if(De<ce&&(ge+=ve(ce-De)),ge!=J)return Uo(S,ge,Re(d,0),Re(d,J.length),"+input"),H.stateAfter=null,!0;for(var Ne=0;Ne<S.sel.ranges.length;Ne++){var Be=S.sel.ranges[Ne];if(Be.head.line==d&&Be.head.ch<J.length){var Ke=Re(d,J.length);Gd(S,Ne,new Bt(Ke,Ke));break}}}var ra=null;function Ku(s){ra=s}function Kd(s,d,b,m,S){var L=s.doc;s.display.shift=!1,m||(m=L.sel);var O=+new Date-200,H=S=="paste"||s.state.pasteIncoming>O,X=Gt(d),J=null;if(H&&m.ranges.length>1)if(ra&&ra.text.join(`
`)==d){if(m.ranges.length%ra.text.length==0){J=[];for(var ce=0;ce<ra.text.length;ce++)J.push(L.splitLines(ra.text[ce]))}}else X.length==m.ranges.length&&s.options.pasteLinesPerSelection&&(J=ye(X,function(et){return[et]}));for(var ge=s.curOp.updateInput,De=m.ranges.length-1;De>=0;De--){var Le=m.ranges[De],Ne=Le.from(),Be=Le.to();Le.empty()&&(b&&b>0?Ne=Re(Ne.line,Ne.ch-b):s.state.overwrite&&!H?Be=Re(Be.line,Math.min(ft(L,Be.line).text.length,Be.ch+de(X).length)):H&&ra&&ra.lineWise&&ra.text.join(`
`)==X.join(`
`)&&(Ne=Be=Re(Ne.line,0)));var Ke={from:Ne,to:Be,text:J?J[De%J.length]:X,origin:S||(H?"paste":s.state.cutIncoming>O?"cut":"+input")};Ho(s.doc,Ke),Rr(s,"inputRead",s,Ke)}d&&!H&&rC(s,d),Bo(s),s.curOp.updateInput<2&&(s.curOp.updateInput=ge),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function tC(s,d){var b=s.clipboardData&&s.clipboardData.getData("Text");if(b)return s.preventDefault(),!d.isReadOnly()&&!d.options.disableInput&&d.hasFocus()&&_n(d,function(){return Kd(d,b,0,null,"paste")}),!0}function rC(s,d){if(!(!s.options.electricChars||!s.options.smartIndent))for(var b=s.doc.sel,m=b.ranges.length-1;m>=0;m--){var S=b.ranges[m];if(!(S.head.ch>100||m&&b.ranges[m-1].head.line==S.head.line)){var L=s.getModeAt(S.head),O=!1;if(L.electricChars){for(var H=0;H<L.electricChars.length;H++)if(d.indexOf(L.electricChars.charAt(H))>-1){O=ul(s,S.head.line,"smart");break}}else L.electricInput&&L.electricInput.test(ft(s.doc,S.head.line).text.slice(0,S.head.ch))&&(O=ul(s,S.head.line,"smart"));O&&Rr(s,"electricInput",s,S.head.line)}}}function nC(s){for(var d=[],b=[],m=0;m<s.doc.sel.ranges.length;m++){var S=s.doc.sel.ranges[m].head.line,L={anchor:Re(S,0),head:Re(S+1,0)};b.push(L),d.push(s.getRange(L.anchor,L.head))}return{text:d,ranges:b}}function jd(s,d,b,m){s.setAttribute("autocorrect",b?"on":"off"),s.setAttribute("autocapitalize",m?"on":"off"),s.setAttribute("spellcheck",!!d)}function aC(){var s=P("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),d=P("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?s.style.width="1000px":s.setAttribute("wrap","off"),C&&(s.style.border="1px solid black"),d}function E2(s){var d=s.optionHandlers,b=s.helpers={};s.prototype={constructor:s,focus:function(){Y(this).focus(),this.display.input.focus()},setOption:function(m,S){var L=this.options,O=L[m];L[m]==S&&m!="mode"||(L[m]=S,d.hasOwnProperty(m)&&Pr(this,d[m])(this,S,O),He(this,"optionChange",this,m))},getOption:function(m){return this.options[m]},getDoc:function(){return this.doc},addKeyMap:function(m,S){this.state.keyMaps[S?"push":"unshift"]($u(m))},removeKeyMap:function(m){for(var S=this.state.keyMaps,L=0;L<S.length;++L)if(S[L]==m||S[L].name==m)return S.splice(L,1),!0},addOverlay:ln(function(m,S){var L=m.token?m:s.getMode(this.options,m);if(L.startState)throw new Error("Overlays may not be stateful.");Ce(this.state.overlays,{mode:L,modeSpec:m,opaque:S&&S.opaque,priority:S&&S.priority||0},function(O){return O.priority}),this.state.modeGen++,mn(this)}),removeOverlay:ln(function(m){for(var S=this.state.overlays,L=0;L<S.length;++L){var O=S[L].modeSpec;if(O==m||typeof m=="string"&&O.name==m){S.splice(L,1),this.state.modeGen++,mn(this);return}}}),indentLine:ln(function(m,S,L){typeof S!="string"&&typeof S!="number"&&(S==null?S=this.options.smartIndent?"smart":"prev":S=S?"add":"subtract"),ke(this.doc,m)&&ul(this,m,S,L)}),indentSelection:ln(function(m){for(var S=this.doc.sel.ranges,L=-1,O=0;O<S.length;O++){var H=S[O];if(H.empty())H.head.line>L&&(ul(this,H.head.line,m,!0),L=H.head.line,O==this.doc.sel.primIndex&&Bo(this));else{var X=H.from(),J=H.to(),ce=Math.max(L,X.line);L=Math.min(this.lastLine(),J.line-(J.ch?0:1))+1;for(var ge=ce;ge<L;++ge)ul(this,ge,m);var De=this.doc.sel.ranges;X.ch==0&&S.length==De.length&&De[O].from().ch>0&&Gd(this.doc,O,new Bt(X,De[O].to()),le)}}}),getTokenAt:function(m,S){return vw(this,m,S)},getLineTokens:function(m,S){return vw(this,Re(m),S,!0)},getTokenTypeAt:function(m){m=Ct(this.doc,m);var S=cw(this,ft(this.doc,m.line)),L=0,O=(S.length-1)/2,H=m.ch,X;if(H==0)X=S[2];else for(;;){var J=L+O>>1;if((J?S[J*2-1]:0)>=H)O=J;else if(S[J*2+1]<H)L=J+1;else{X=S[J*2+2];break}}var ce=X?X.indexOf("overlay "):-1;return ce<0?X:ce==0?null:X.slice(0,ce-1)},getModeAt:function(m){var S=this.doc.mode;return S.innerMode?s.innerMode(S,this.getTokenAt(m).state).mode:S},getHelper:function(m,S){return this.getHelpers(m,S)[0]},getHelpers:function(m,S){var L=[];if(!b.hasOwnProperty(S))return L;var O=b[S],H=this.getModeAt(m);if(typeof H[S]=="string")O[H[S]]&&L.push(O[H[S]]);else if(H[S])for(var X=0;X<H[S].length;X++){var J=O[H[S][X]];J&&L.push(J)}else H.helperType&&O[H.helperType]?L.push(O[H.helperType]):O[H.name]&&L.push(O[H.name]);for(var ce=0;ce<O._global.length;ce++){var ge=O._global[ce];ge.pred(H,this)&&se(L,ge.val)==-1&&L.push(ge.val)}return L},getStateAfter:function(m,S){var L=this.doc;return m=lw(L,m??L.first+L.size-1),Fs(this,m+1,S).state},cursorCoords:function(m,S){var L,O=this.doc.sel.primary();return m==null?L=O.head:typeof m=="object"?L=Ct(this.doc,m):L=m?O.from():O.to(),ea(this,L,S||"page")},charCoords:function(m,S){return Ru(this,Ct(this.doc,m),S||"page")},coordsChar:function(m,S){return m=Uw(this,m,S||"page"),wd(this,m.left,m.top)},lineAtHeight:function(m,S){return m=Uw(this,{top:m,left:0},S||"page").top,fe(this.doc,m+this.display.viewOffset)},heightAtLine:function(m,S,L){var O=!1,H;if(typeof m=="number"){var X=this.doc.first+this.doc.size-1;m<this.doc.first?m=this.doc.first:m>X&&(m=X,O=!0),H=ft(this.doc,m)}else H=m;return Mu(this,H,{top:0,left:0},S||"page",L||O).top+(O?this.doc.height-Na(H):0)},defaultTextHeight:function(){return Oo(this.display)},defaultCharWidth:function(){return Io(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(m,S,L,O,H){var X=this.display;m=ea(this,Ct(this.doc,m));var J=m.bottom,ce=m.left;if(S.style.position="absolute",S.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(S),X.sizer.appendChild(S),O=="over")J=m.top;else if(O=="above"||O=="near"){var ge=Math.max(X.wrapper.clientHeight,this.doc.height),De=Math.max(X.sizer.clientWidth,X.lineSpace.clientWidth);(O=="above"||m.bottom+S.offsetHeight>ge)&&m.top>S.offsetHeight?J=m.top-S.offsetHeight:m.bottom+S.offsetHeight<=ge&&(J=m.bottom),ce+S.offsetWidth>De&&(ce=De-S.offsetWidth)}S.style.top=J+"px",S.style.left=S.style.right="",H=="right"?(ce=X.sizer.clientWidth-S.offsetWidth,S.style.right="0px"):(H=="left"?ce=0:H=="middle"&&(ce=(X.sizer.clientWidth-S.offsetWidth)/2),S.style.left=ce+"px"),L&&wI(this,{left:ce,top:J,right:ce+S.offsetWidth,bottom:J+S.offsetHeight})},triggerOnKeyDown:ln($x),triggerOnKeyPress:ln(Xx),triggerOnKeyUp:Yx,triggerOnMouseDown:ln(Kx),execCommand:function(m){if(il.hasOwnProperty(m))return il[m].call(null,this)},triggerElectric:ln(function(m){rC(this,m)}),findPosH:function(m,S,L,O){var H=1;S<0&&(H=-1,S=-S);for(var X=Ct(this.doc,m),J=0;J<S&&(X=Zd(this.doc,X,H,L,O),!X.hitSide);++J);return X},moveH:ln(function(m,S){var L=this;this.extendSelectionsBy(function(O){return L.display.shift||L.doc.extend||O.empty()?Zd(L.doc,O.head,m,S,L.options.rtlMoveVisually):m<0?O.from():O.to()},_e)}),deleteH:ln(function(m,S){var L=this.doc.sel,O=this.doc;L.somethingSelected()?O.replaceSelection("",null,"+delete"):$o(this,function(H){var X=Zd(O,H.head,m,S,!1);return m<0?{from:X,to:H.head}:{from:H.head,to:X}})}),findPosV:function(m,S,L,O){var H=1,X=O;S<0&&(H=-1,S=-S);for(var J=Ct(this.doc,m),ce=0;ce<S;++ce){var ge=ea(this,J,"div");if(X==null?X=ge.left:ge.left=X,J=iC(this,ge,H,L),J.hitSide)break}return J},moveV:ln(function(m,S){var L=this,O=this.doc,H=[],X=!this.display.shift&&!O.extend&&O.sel.somethingSelected();if(O.extendSelectionsBy(function(ce){if(X)return m<0?ce.from():ce.to();var ge=ea(L,ce.head,"div");ce.goalColumn!=null&&(ge.left=ce.goalColumn),H.push(ge.left);var De=iC(L,ge,m,S);return S=="page"&&ce==O.sel.primary()&&Md(L,Ru(L,De,"div").top-ge.top),De},_e),H.length)for(var J=0;J<O.sel.ranges.length;J++)O.sel.ranges[J].goalColumn=H[J]}),findWordAt:function(m){var S=this.doc,L=ft(S,m.line).text,O=m.ch,H=m.ch;if(L){var X=this.getHelper(m,"wordChars");(m.sticky=="before"||H==L.length)&&O?--O:++H;for(var J=L.charAt(O),ce=Ye(J,X)?function(ge){return Ye(ge,X)}:/\s/.test(J)?function(ge){return/\s/.test(ge)}:function(ge){return!/\s/.test(ge)&&!Ye(ge)};O>0&&ce(L.charAt(O-1));)--O;for(;H<L.length&&ce(L.charAt(H));)++H}return new Bt(Re(m.line,O),Re(m.line,H))},toggleOverwrite:function(m){m!=null&&m==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?re(this.display.cursorDiv,"CodeMirror-overwrite"):F(this.display.cursorDiv,"CodeMirror-overwrite"),He(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ae(U(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ln(function(m,S){Ws(this,m,S)}),getScrollInfo:function(){var m=this.display.scroller;return{left:m.scrollLeft,top:m.scrollTop,height:m.scrollHeight-ha(this)-this.display.barHeight,width:m.scrollWidth-ha(this)-this.display.barWidth,clientHeight:gd(this),clientWidth:Hi(this)}},scrollIntoView:ln(function(m,S){m==null?(m={from:this.doc.sel.primary().head,to:null},S==null&&(S=this.options.cursorScrollMargin)):typeof m=="number"?m={from:Re(m,0),to:null}:m.from==null&&(m={from:m,to:null}),m.to||(m.to=m.from),m.margin=S||0,m.from.line!=null?xI(this,m):Qw(this,m.from,m.to,m.margin)}),setSize:ln(function(m,S){var L=this,O=function(X){return typeof X=="number"||/^\d+$/.test(String(X))?X+"px":X};m!=null&&(this.display.wrapper.style.width=O(m)),S!=null&&(this.display.wrapper.style.height=O(S)),this.options.lineWrapping&&zw(this);var H=this.display.viewFrom;this.doc.iter(H,this.display.viewTo,function(X){if(X.widgets){for(var J=0;J<X.widgets.length;J++)if(X.widgets[J].noHScroll){ii(L,H,"widget");break}}++H}),this.curOp.forceUpdate=!0,He(this,"refresh",this)}),operation:function(m){return _n(this,m)},startOperation:function(){return Xi(this)},endOperation:function(){return Ki(this)},refresh:ln(function(){var m=this.display.cachedTextHeight;mn(this),this.curOp.forceUpdate=!0,Hs(this),Ws(this,this.doc.scrollLeft,this.doc.scrollTop),kd(this.display),(m==null||Math.abs(m-Oo(this.display))>.5||this.options.lineWrapping)&&Td(this),He(this,"refresh",this)}),swapDoc:ln(function(m){var S=this.doc;return S.cm=null,this.state.selectingText&&this.state.selectingText(),dx(this,m),Hs(this),this.display.input.reset(),Ws(this,m.scrollLeft,m.scrollTop),this.curOp.forceScroll=!0,Rr(this,"swapDoc",this,S),S}),phrase:function(m){var S=this.options.phrases;return S&&Object.prototype.hasOwnProperty.call(S,m)?S[m]:m},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ge(s),s.registerHelper=function(m,S,L){b.hasOwnProperty(m)||(b[m]=s[m]={_global:[]}),b[m][S]=L},s.registerGlobalHelper=function(m,S,L,O){s.registerHelper(m,S,O),b[m]._global.push({pred:L,val:O})}}function Zd(s,d,b,m,S){var L=d,O=b,H=ft(s,d.line),X=S&&s.direction=="rtl"?-b:b;function J(){var ot=d.line+X;return ot<s.first||ot>=s.first+s.size?!1:(d=new Re(ot,d.ch,d.sticky),H=ft(s,ot))}function ce(ot){var tt;if(m=="codepoint"){var lt=H.text.charCodeAt(d.ch+(b>0?0:-1));if(isNaN(lt))tt=null;else{var yt=b>0?lt>=55296&&lt<56320:lt>=56320&&lt<57343;tt=new Re(d.line,Math.max(0,Math.min(H.text.length,d.ch+b*(yt?2:1))),-b)}}else S?tt=a2(s.cm,H,d,b):tt=Ud(H,d,b);if(tt==null)if(!ot&&J())d=Wd(S,s.cm,H,d.line,X);else return!1;else d=tt;return!0}if(m=="char"||m=="codepoint")ce();else if(m=="column")ce(!0);else if(m=="word"||m=="group")for(var ge=null,De=m=="group",Le=s.cm&&s.cm.getHelper(d,"wordChars"),Ne=!0;!(b<0&&!ce(!Ne));Ne=!1){var Be=H.text.charAt(d.ch)||`
`,Ke=Ye(Be,Le)?"w":De&&Be==`
`?"n":!De||/\s/.test(Be)?null:"p";if(De&&!Ne&&!Ke&&(Ke="s"),ge&&ge!=Ke){b<0&&(b=1,ce(),d.sticky="after");break}if(Ke&&(ge=Ke),b>0&&!ce(!Ne))break}var et=Uu(s,d,L,O,!0);return kt(L,et)&&(et.hitSide=!0),et}function iC(s,d,b,m){var S=s.doc,L=d.left,O;if(m=="page"){var H=Math.min(s.display.wrapper.clientHeight,Y(s).innerHeight||S(s).documentElement.clientHeight),X=Math.max(H-.5*Oo(s.display),3);O=(b>0?d.bottom:d.top)+b*X}else m=="line"&&(O=b>0?d.bottom+3:d.top-3);for(var J;J=wd(s,L,O),!!J.outside;){if(b<0?O<=0:O>=S.height){J.hitSide=!0;break}O+=b*5}return J}var Ht=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ie,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ht.prototype.init=function(s){var d=this,b=this,m=b.cm,S=b.div=s.lineDiv;S.contentEditable=!0,jd(S,m.options.spellcheck,m.options.autocorrect,m.options.autocapitalize);function L(H){for(var X=H.target;X;X=X.parentNode){if(X==S)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(X.className))break}return!1}Ee(S,"paste",function(H){!L(H)||Ue(m,H)||tC(H,m)||f<=11&&setTimeout(Pr(m,function(){return d.updateFromDOM()}),20)}),Ee(S,"compositionstart",function(H){d.composing={data:H.data,done:!1}}),Ee(S,"compositionupdate",function(H){d.composing||(d.composing={data:H.data,done:!1})}),Ee(S,"compositionend",function(H){d.composing&&(H.data!=d.composing.data&&d.readFromDOMSoon(),d.composing.done=!0)}),Ee(S,"touchstart",function(){return b.forceCompositionEnd()}),Ee(S,"input",function(){d.composing||d.readFromDOMSoon()});function O(H){if(!(!L(H)||Ue(m,H))){if(m.somethingSelected())Ku({lineWise:!1,text:m.getSelections()}),H.type=="cut"&&m.replaceSelection("",null,"cut");else if(m.options.lineWiseCopyCut){var X=nC(m);Ku({lineWise:!0,text:X.text}),H.type=="cut"&&m.operation(function(){m.setSelections(X.ranges,0,le),m.replaceSelection("",null,"cut")})}else return;if(H.clipboardData){H.clipboardData.clearData();var J=ra.text.join(`
`);if(H.clipboardData.setData("Text",J),H.clipboardData.getData("Text")==J){H.preventDefault();return}}var ce=aC(),ge=ce.firstChild;jd(ge),m.display.lineSpace.insertBefore(ce,m.display.lineSpace.firstChild),ge.value=ra.text.join(`
`);var De=ae(V(S));W(ge),setTimeout(function(){m.display.lineSpace.removeChild(ce),De.focus(),De==S&&b.showPrimarySelection()},50)}}Ee(S,"copy",O),Ee(S,"cut",O)},Ht.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},Ht.prototype.prepareSelection=function(){var s=Kw(this.cm,!1);return s.focus=ae(V(this.div))==this.div,s},Ht.prototype.showSelection=function(s,d){!s||!this.cm.display.view.length||((s.focus||d)&&this.showPrimarySelection(),this.showMultipleSelections(s))},Ht.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ht.prototype.showPrimarySelection=function(){var s=this.getSelection(),d=this.cm,b=d.doc.sel.primary(),m=b.from(),S=b.to();if(d.display.viewTo==d.display.viewFrom||m.line>=d.display.viewTo||S.line<d.display.viewFrom){s.removeAllRanges();return}var L=ju(d,s.anchorNode,s.anchorOffset),O=ju(d,s.focusNode,s.focusOffset);if(!(L&&!L.bad&&O&&!O.bad&&Ze(Ro(L,O),m)==0&&Ze(yn(L,O),S)==0)){var H=d.display.view,X=m.line>=d.display.viewFrom&&oC(d,m)||{node:H[0].measure.map[2],offset:0},J=S.line<d.display.viewTo&&oC(d,S);if(!J){var ce=H[H.length-1].measure,ge=ce.maps?ce.maps[ce.maps.length-1]:ce.map;J={node:ge[ge.length-1],offset:ge[ge.length-2]-ge[ge.length-3]}}if(!X||!J){s.removeAllRanges();return}var De=s.rangeCount&&s.getRangeAt(0),Le;try{Le=I(X.node,X.offset,J.offset,J.node)}catch{}Le&&(!a&&d.state.focused?(s.collapse(X.node,X.offset),Le.collapsed||(s.removeAllRanges(),s.addRange(Le))):(s.removeAllRanges(),s.addRange(Le)),De&&s.anchorNode==null?s.addRange(De):a&&this.startGracePeriod()),this.rememberSelection()}},Ht.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},Ht.prototype.showMultipleSelections=function(s){M(this.cm.display.cursorDiv,s.cursors),M(this.cm.display.selectionDiv,s.selection)},Ht.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},Ht.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var d=s.getRangeAt(0).commonAncestorContainer;return z(this.div,d)},Ht.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ae(V(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ht.prototype.blur=function(){this.div.blur()},Ht.prototype.getField=function(){return this.div},Ht.prototype.supportsTouch=function(){return!0},Ht.prototype.receivedFocus=function(){var s=this,d=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):_n(this.cm,function(){return d.cm.curOp.selectionChanged=!0});function b(){d.cm.state.focused&&(d.pollSelection(),d.polling.set(d.cm.options.pollInterval,b))}this.polling.set(this.cm.options.pollInterval,b)},Ht.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},Ht.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),d=this.cm;if(w&&p&&this.cm.display.gutterSpecs.length&&T2(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var b=ju(d,s.anchorNode,s.anchorOffset),m=ju(d,s.focusNode,s.focusOffset);b&&m&&_n(d,function(){Zr(d.doc,si(b,m),le),(b.bad||m.bad)&&(d.curOp.selectionChanged=!0)})}}},Ht.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,d=s.display,b=s.doc.sel.primary(),m=b.from(),S=b.to();if(m.ch==0&&m.line>s.firstLine()&&(m=Re(m.line-1,ft(s.doc,m.line-1).length)),S.ch==ft(s.doc,S.line).text.length&&S.line<s.lastLine()&&(S=Re(S.line+1,0)),m.line<d.viewFrom||S.line>d.viewTo-1)return!1;var L,O,H;m.line==d.viewFrom||(L=Vi(s,m.line))==0?(O=Q(d.view[0].line),H=d.view[0].node):(O=Q(d.view[L].line),H=d.view[L-1].node.nextSibling);var X=Vi(s,S.line),J,ce;if(X==d.view.length-1?(J=d.viewTo-1,ce=d.lineDiv.lastChild):(J=Q(d.view[X+1].line)-1,ce=d.view[X+1].node.previousSibling),!H)return!1;for(var ge=s.doc.splitLines(S2(s,H,ce,O,J)),De=Hr(s.doc,Re(O,0),Re(J,ft(s.doc,J).text.length));ge.length>1&&De.length>1;)if(de(ge)==de(De))ge.pop(),De.pop(),J--;else if(ge[0]==De[0])ge.shift(),De.shift(),O++;else break;for(var Le=0,Ne=0,Be=ge[0],Ke=De[0],et=Math.min(Be.length,Ke.length);Le<et&&Be.charCodeAt(Le)==Ke.charCodeAt(Le);)++Le;for(var ot=de(ge),tt=de(De),lt=Math.min(ot.length-(ge.length==1?Le:0),tt.length-(De.length==1?Le:0));Ne<lt&&ot.charCodeAt(ot.length-Ne-1)==tt.charCodeAt(tt.length-Ne-1);)++Ne;if(ge.length==1&&De.length==1&&O==m.line)for(;Le&&Le>m.ch&&ot.charCodeAt(ot.length-Ne-1)==tt.charCodeAt(tt.length-Ne-1);)Le--,Ne++;ge[ge.length-1]=ot.slice(0,ot.length-Ne).replace(/^\u200b+/,""),ge[0]=ge[0].slice(Le).replace(/\u200b+$/,"");var yt=Re(O,Le),pt=Re(J,De.length?de(De).length-Ne:0);if(ge.length>1||ge[0]||Ze(yt,pt))return Uo(s.doc,ge,yt,pt,"+input"),!0},Ht.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ht.prototype.reset=function(){this.forceCompositionEnd()},Ht.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ht.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},Ht.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&_n(this.cm,function(){return mn(s.cm)})},Ht.prototype.setUneditable=function(s){s.contentEditable="false"},Ht.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||Pr(this.cm,Kd)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},Ht.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},Ht.prototype.onContextMenu=function(){},Ht.prototype.resetPosition=function(){},Ht.prototype.needsContentAttribute=!0;function oC(s,d){var b=yd(s,d.line);if(!b||b.hidden)return null;var m=ft(s.doc,d.line),S=Ow(b,m,d.line),L=xe(m,s.doc.direction),O="left";if(L){var H=me(L,d.ch);O=H%2?"right":"left"}var X=Bw(S.map,d.ch,O);return X.offset=X.collapse=="right"?X.end:X.start,X}function T2(s){for(var d=s;d;d=d.parentNode)if(/CodeMirror-gutter-wrapper/.test(d.className))return!0;return!1}function Xo(s,d){return d&&(s.bad=!0),s}function S2(s,d,b,m,S){var L="",O=!1,H=s.doc.lineSeparator(),X=!1;function J(Le){return function(Ne){return Ne.id==Le}}function ce(){O&&(L+=H,X&&(L+=H),O=X=!1)}function ge(Le){Le&&(ce(),L+=Le)}function De(Le){if(Le.nodeType==1){var Ne=Le.getAttribute("cm-text");if(Ne){ge(Ne);return}var Be=Le.getAttribute("cm-marker"),Ke;if(Be){var et=s.findMarks(Re(m,0),Re(S+1,0),J(+Be));et.length&&(Ke=et[0].find(0))&&ge(Hr(s.doc,Ke.from,Ke.to).join(H));return}if(Le.getAttribute("contenteditable")=="false")return;var ot=/^(pre|div|p|li|table|br)$/i.test(Le.nodeName);if(!/^br$/i.test(Le.nodeName)&&Le.textContent.length==0)return;ot&&ce();for(var tt=0;tt<Le.childNodes.length;tt++)De(Le.childNodes[tt]);/^(pre|p)$/i.test(Le.nodeName)&&(X=!0),ot&&(O=!0)}else Le.nodeType==3&&ge(Le.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;De(d),d!=b;)d=d.nextSibling,X=!1;return L}function ju(s,d,b){var m;if(d==s.display.lineDiv){if(m=s.display.lineDiv.childNodes[b],!m)return Xo(s.clipPos(Re(s.display.viewTo-1)),!0);d=null,b=0}else for(m=d;;m=m.parentNode){if(!m||m==s.display.lineDiv)return null;if(m.parentNode&&m.parentNode==s.display.lineDiv)break}for(var S=0;S<s.display.view.length;S++){var L=s.display.view[S];if(L.node==m)return A2(L,d,b)}}function A2(s,d,b){var m=s.text.firstChild,S=!1;if(!d||!z(m,d))return Xo(Re(Q(s.line),0),!0);if(d==m&&(S=!0,d=m.childNodes[b],b=0,!d)){var L=s.rest?de(s.rest):s.line;return Xo(Re(Q(L),L.text.length),S)}var O=d.nodeType==3?d:null,H=d;for(!O&&d.childNodes.length==1&&d.firstChild.nodeType==3&&(O=d.firstChild,b&&(b=O.nodeValue.length));H.parentNode!=m;)H=H.parentNode;var X=s.measure,J=X.maps;function ce(Ke,et,ot){for(var tt=-1;tt<(J?J.length:0);tt++)for(var lt=tt<0?X.map:J[tt],yt=0;yt<lt.length;yt+=3){var pt=lt[yt+2];if(pt==Ke||pt==et){var At=Q(tt<0?s.line:s.rest[tt]),Zt=lt[yt]+ot;return(ot<0||pt!=Ke)&&(Zt=lt[yt+(ot?1:0)]),Re(At,Zt)}}}var ge=ce(O,H,b);if(ge)return Xo(ge,S);for(var De=H.nextSibling,Le=O?O.nodeValue.length-b:0;De;De=De.nextSibling){if(ge=ce(De,De.firstChild,0),ge)return Xo(Re(ge.line,ge.ch-Le),S);Le+=De.textContent.length}for(var Ne=H.previousSibling,Be=b;Ne;Ne=Ne.previousSibling){if(ge=ce(Ne,Ne.firstChild,-1),ge)return Xo(Re(ge.line,ge.ch+Be),S);Be+=Ne.textContent.length}}var mr=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new ie,this.hasSelection=!1,this.composing=null,this.resetting=!1};mr.prototype.init=function(s){var d=this,b=this,m=this.cm;this.createField(s);var S=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),C&&(S.style.width="0px"),Ee(S,"input",function(){u&&f>=9&&d.hasSelection&&(d.hasSelection=null),b.poll()}),Ee(S,"paste",function(O){Ue(m,O)||tC(O,m)||(m.state.pasteIncoming=+new Date,b.fastPoll())});function L(O){if(!Ue(m,O)){if(m.somethingSelected())Ku({lineWise:!1,text:m.getSelections()});else if(m.options.lineWiseCopyCut){var H=nC(m);Ku({lineWise:!0,text:H.text}),O.type=="cut"?m.setSelections(H.ranges,null,le):(b.prevInput="",S.value=H.text.join(`
`),W(S))}else return;O.type=="cut"&&(m.state.cutIncoming=+new Date)}}Ee(S,"cut",L),Ee(S,"copy",L),Ee(s.scroller,"paste",function(O){if(!(Oa(s,O)||Ue(m,O))){if(!S.dispatchEvent){m.state.pasteIncoming=+new Date,b.focus();return}var H=new Event("paste");H.clipboardData=O.clipboardData,S.dispatchEvent(H)}}),Ee(s.lineSpace,"selectstart",function(O){Oa(s,O)||$e(O)}),Ee(S,"compositionstart",function(){var O=m.getCursor("from");b.composing&&b.composing.range.clear(),b.composing={start:O,range:m.markText(O,m.getCursor("to"),{className:"CodeMirror-composing"})}}),Ee(S,"compositionend",function(){b.composing&&(b.poll(),b.composing.range.clear(),b.composing=null)})},mr.prototype.createField=function(s){this.wrapper=aC(),this.textarea=this.wrapper.firstChild;var d=this.cm.options;jd(this.textarea,d.spellcheck,d.autocorrect,d.autocapitalize)},mr.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},mr.prototype.prepareSelection=function(){var s=this.cm,d=s.display,b=s.doc,m=Kw(s);if(s.options.moveInputWithCursor){var S=ea(s,b.sel.primary().head,"div"),L=d.wrapper.getBoundingClientRect(),O=d.lineDiv.getBoundingClientRect();m.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,S.top+O.top-L.top)),m.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,S.left+O.left-L.left))}return m},mr.prototype.showSelection=function(s){var d=this.cm,b=d.display;M(b.cursorDiv,s.cursors),M(b.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},mr.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing&&s)){var d=this.cm;if(this.resetting=!0,d.somethingSelected()){this.prevInput="";var b=d.getSelection();this.textarea.value=b,d.state.focused&&W(this.textarea),u&&f>=9&&(this.hasSelection=b)}else s||(this.prevInput=this.textarea.value="",u&&f>=9&&(this.hasSelection=null));this.resetting=!1}},mr.prototype.getField=function(){return this.textarea},mr.prototype.supportsTouch=function(){return!1},mr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!T||ae(V(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},mr.prototype.blur=function(){this.textarea.blur()},mr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},mr.prototype.receivedFocus=function(){this.slowPoll()},mr.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},mr.prototype.fastPoll=function(){var s=!1,d=this;d.pollingFast=!0;function b(){var m=d.poll();!m&&!s?(s=!0,d.polling.set(60,b)):(d.pollingFast=!1,d.slowPoll())}d.polling.set(20,b)},mr.prototype.poll=function(){var s=this,d=this.cm,b=this.textarea,m=this.prevInput;if(this.contextMenuPending||this.resetting||!d.state.focused||Sr(b)&&!m&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var S=b.value;if(S==m&&!d.somethingSelected())return!1;if(u&&f>=9&&this.hasSelection===S||A&&/[\uf700-\uf7ff]/.test(S))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var L=S.charCodeAt(0);if(L==8203&&!m&&(m="​"),L==8666)return this.reset(),this.cm.execCommand("undo")}for(var O=0,H=Math.min(m.length,S.length);O<H&&m.charCodeAt(O)==S.charCodeAt(O);)++O;return _n(d,function(){Kd(d,S.slice(O),m.length-O,null,s.composing?"*compose":null),S.length>1e3||S.indexOf(`
`)>-1?b.value=s.prevInput="":s.prevInput=S,s.composing&&(s.composing.range.clear(),s.composing.range=d.markText(s.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},mr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},mr.prototype.onKeyPress=function(){u&&f>=9&&(this.hasSelection=null),this.fastPoll()},mr.prototype.onContextMenu=function(s){var d=this,b=d.cm,m=b.display,S=d.textarea;d.contextMenuPending&&d.contextMenuPending();var L=Wi(b,s),O=m.scroller.scrollTop;if(!L||g)return;var H=b.options.resetSelectionOnContextMenu;H&&b.doc.sel.contains(L)==-1&&Pr(b,Zr)(b.doc,si(L),le);var X=S.style.cssText,J=d.wrapper.style.cssText,ce=d.wrapper.offsetParent.getBoundingClientRect();d.wrapper.style.cssText="position: static",S.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-ce.top-5)+"px; left: "+(s.clientX-ce.left-5)+`px;
      z-index: 1000; background: `+(u?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ge;c&&(ge=S.ownerDocument.defaultView.scrollY),m.input.focus(),c&&S.ownerDocument.defaultView.scrollTo(null,ge),m.input.reset(),b.somethingSelected()||(S.value=d.prevInput=" "),d.contextMenuPending=Le,m.selForContextMenu=b.doc.sel,clearTimeout(m.detectingSelectAll);function De(){if(S.selectionStart!=null){var Be=b.somethingSelected(),Ke="​"+(Be?S.value:"");S.value="⇚",S.value=Ke,d.prevInput=Be?"":"​",S.selectionStart=1,S.selectionEnd=Ke.length,m.selForContextMenu=b.doc.sel}}function Le(){if(d.contextMenuPending==Le&&(d.contextMenuPending=!1,d.wrapper.style.cssText=J,S.style.cssText=X,u&&f<9&&m.scrollbars.setScrollTop(m.scroller.scrollTop=O),S.selectionStart!=null)){(!u||u&&f<9)&&De();var Be=0,Ke=function(){m.selForContextMenu==b.doc.sel&&S.selectionStart==0&&S.selectionEnd>0&&d.prevInput=="​"?Pr(b,Sx)(b):Be++<10?m.detectingSelectAll=setTimeout(Ke,500):(m.selForContextMenu=null,m.input.reset())};m.detectingSelectAll=setTimeout(Ke,200)}}if(u&&f>=9&&De(),B){it(s);var Ne=function(){Ie(window,"mouseup",Ne),setTimeout(Le,20)};Ee(window,"mouseup",Ne)}else setTimeout(Le,50)},mr.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},mr.prototype.setUneditable=function(){},mr.prototype.needsContentAttribute=!1;function L2(s,d){if(d=d?oe(d):{},d.value=s.value,!d.tabindex&&s.tabIndex&&(d.tabindex=s.tabIndex),!d.placeholder&&s.placeholder&&(d.placeholder=s.placeholder),d.autofocus==null){var b=ae(V(s));d.autofocus=b==s||s.getAttribute("autofocus")!=null&&b==document.body}function m(){s.value=H.getValue()}var S;if(s.form&&(Ee(s.form,"submit",m),!d.leaveSubmitMethodAlone)){var L=s.form;S=L.submit;try{var O=L.submit=function(){m(),L.submit=S,L.submit(),L.submit=O}}catch{}}d.finishInit=function(X){X.save=m,X.getTextArea=function(){return s},X.toTextArea=function(){X.toTextArea=isNaN,m(),s.parentNode.removeChild(X.getWrapperElement()),s.style.display="",s.form&&(Ie(s.form,"submit",m),!d.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=S))}},s.style.display="none";var H=lr(function(X){return s.parentNode.insertBefore(X,s.nextSibling)},d);return H}function _2(s){s.off=Ie,s.on=Ee,s.wheelEventPixels=OI,s.Doc=bn,s.splitLines=Gt,s.countColumn=te,s.findColumn=be,s.isWordChar=Fe,s.Pass=ne,s.signal=He,s.Line=Po,s.changeEnd=li,s.scrollbarModel=tx,s.Pos=Re,s.cmpPos=Ze,s.modes=jt,s.mimeModes=fr,s.resolveMode=gn,s.getMode=jn,s.modeExtensions=Ln,s.extendMode=Zn,s.copyState=sn,s.startState=Gn,s.innerMode=Pa,s.commands=il,s.keyMap=Fa,s.keyName=Gx,s.isModifierKey=qx,s.lookupKey=Vo,s.normalizeKeyMap=n2,s.StringStream=Ft,s.SharedTextMarker=rl,s.TextMarker=fi,s.LineWidget=tl,s.e_preventDefault=$e,s.e_stopPropagation=vt,s.e_stop=it,s.addClass=re,s.contains=z,s.rmClass=F,s.keyNames=ci}b2(lr),E2(lr);var D2="iter insert remove copy getEditor constructor".split(" ");for(var Zu in bn.prototype)bn.prototype.hasOwnProperty(Zu)&&se(D2,Zu)<0&&(lr.prototype[Zu]=function(s){return function(){return s.apply(this.doc,arguments)}}(bn.prototype[Zu]));return Ge(bn),lr.inputStyles={textarea:mr,contenteditable:Ht},lr.defineMode=function(s){!lr.defaults.mode&&s!="null"&&(lr.defaults.mode=s),tr.apply(this,arguments)},lr.defineMIME=jr,lr.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),lr.defineMIME("text/plain","null"),lr.defineExtension=function(s,d){lr.prototype[s]=d},lr.defineDocExtension=function(s,d){bn.prototype[s]=d},lr.fromTextArea=L2,_2(lr),lr.version="5.65.19",lr})}(Ff)),Ff.exports}var iR;function P9(){return iR||(iR=1,function(t,e){(function(r){r(Gi())})(function(r){r.defineMode("javascript",function(n,a){var i=n.indentUnit,o=a.statementIndent,l=a.jsonld,u=a.json||l,f=a.trackScope!==!1,c=a.typescript,h=a.wordCharacters||/[\w$\xa1-\uffff]/,p=function(){function Q(Mr){return{type:Mr,style:"keyword"}}var fe=Q("keyword a"),ke=Q("keyword b"),ze=Q("keyword c"),Re=Q("keyword d"),Ze=Q("operator"),kt={type:"atom",style:"atom"};return{if:Q("if"),while:fe,with:fe,else:ke,do:ke,try:ke,finally:ke,return:Re,break:Re,continue:Re,new:Q("new"),delete:ze,void:ze,throw:ze,debugger:Q("debugger"),var:Q("var"),const:Q("var"),let:Q("var"),function:Q("function"),catch:Q("catch"),for:Q("for"),switch:Q("switch"),case:Q("case"),default:Q("default"),in:Ze,typeof:Ze,instanceof:Ze,true:kt,false:kt,null:kt,undefined:kt,NaN:kt,Infinity:kt,this:Q("this"),class:Q("class"),super:Q("atom"),yield:ze,export:Q("export"),import:Q("import"),extends:ze,await:ze}}(),y=/[+\-*&%=<>!?|~^@]/,g=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function E(Q){for(var fe=!1,ke,ze=!1;(ke=Q.next())!=null;){if(!fe){if(ke=="/"&&!ze)return;ke=="["?ze=!0:ze&&ke=="]"&&(ze=!1)}fe=!fe&&ke=="\\"}}var x,v;function C(Q,fe,ke){return x=Q,v=ke,fe}function w(Q,fe){var ke=Q.next();if(ke=='"'||ke=="'")return fe.tokenize=T(ke),fe.tokenize(Q,fe);if(ke=="."&&Q.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return C("number","number");if(ke=="."&&Q.match(".."))return C("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ke))return C(ke);if(ke=="="&&Q.eat(">"))return C("=>","operator");if(ke=="0"&&Q.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return C("number","number");if(/\d/.test(ke))return Q.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),C("number","number");if(ke=="/")return Q.eat("*")?(fe.tokenize=A,A(Q,fe)):Q.eat("/")?(Q.skipToEnd(),C("comment","comment")):Pt(Q,fe,1)?(E(Q),Q.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),C("regexp","string-2")):(Q.eat("="),C("operator","operator",Q.current()));if(ke=="`")return fe.tokenize=_,_(Q,fe);if(ke=="#"&&Q.peek()=="!")return Q.skipToEnd(),C("meta","meta");if(ke=="#"&&Q.eatWhile(h))return C("variable","property");if(ke=="<"&&Q.match("!--")||ke=="-"&&Q.match("->")&&!/\S/.test(Q.string.slice(0,Q.start)))return Q.skipToEnd(),C("comment","comment");if(y.test(ke))return(ke!=">"||!fe.lexical||fe.lexical.type!=">")&&(Q.eat("=")?(ke=="!"||ke=="=")&&Q.eat("="):/[<>*+\-|&?]/.test(ke)&&(Q.eat(ke),ke==">"&&Q.eat(ke))),ke=="?"&&Q.eat(".")?C("."):C("operator","operator",Q.current());if(h.test(ke)){Q.eatWhile(h);var ze=Q.current();if(fe.lastType!="."){if(p.propertyIsEnumerable(ze)){var Re=p[ze];return C(Re.type,Re.style,ze)}if(ze=="async"&&Q.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return C("async","keyword",ze)}return C("variable","variable",ze)}}function T(Q){return function(fe,ke){var ze=!1,Re;if(l&&fe.peek()=="@"&&fe.match(g))return ke.tokenize=w,C("jsonld-keyword","meta");for(;(Re=fe.next())!=null&&!(Re==Q&&!ze);)ze=!ze&&Re=="\\";return ze||(ke.tokenize=w),C("string","string")}}function A(Q,fe){for(var ke=!1,ze;ze=Q.next();){if(ze=="/"&&ke){fe.tokenize=w;break}ke=ze=="*"}return C("comment","comment")}function _(Q,fe){for(var ke=!1,ze;(ze=Q.next())!=null;){if(!ke&&(ze=="`"||ze=="$"&&Q.eat("{"))){fe.tokenize=w;break}ke=!ke&&ze=="\\"}return C("quasi","string-2",Q.current())}var D="([{}])";function R(Q,fe){fe.fatArrowAt&&(fe.fatArrowAt=null);var ke=Q.string.indexOf("=>",Q.start);if(!(ke<0)){if(c){var ze=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Q.string.slice(Q.start,ke));ze&&(ke=ze.index)}for(var Re=0,Ze=!1,kt=ke-1;kt>=0;--kt){var Mr=Q.string.charAt(kt),yn=D.indexOf(Mr);if(yn>=0&&yn<3){if(!Re){++kt;break}if(--Re==0){Mr=="("&&(Ze=!0);break}}else if(yn>=3&&yn<6)++Re;else if(h.test(Mr))Ze=!0;else if(/["'\/`]/.test(Mr))for(;;--kt){if(kt==0)return;var Ro=Q.string.charAt(kt-1);if(Ro==Mr&&Q.string.charAt(kt-2)!="\\"){kt--;break}}else if(Ze&&!Re){++kt;break}}Ze&&!Re&&(fe.fatArrowAt=kt)}}var k={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function B(Q,fe,ke,ze,Re,Ze){this.indented=Q,this.column=fe,this.type=ke,this.prev=Re,this.info=Ze,ze!=null&&(this.align=ze)}function G(Q,fe){if(!f)return!1;for(var ke=Q.localVars;ke;ke=ke.next)if(ke.name==fe)return!0;for(var ze=Q.context;ze;ze=ze.prev)for(var ke=ze.vars;ke;ke=ke.next)if(ke.name==fe)return!0}function F(Q,fe,ke,ze,Re){var Ze=Q.cc;for(q.state=Q,q.stream=Re,q.marked=null,q.cc=Ze,q.style=fe,Q.lexical.hasOwnProperty("align")||(Q.lexical.align=!0);;){var kt=Ze.length?Ze.pop():u?se:te;if(kt(ke,ze)){for(;Ze.length&&Ze[Ze.length-1].lex;)Ze.pop()();return q.marked?q.marked:ke=="variable"&&G(Q,ze)?"variable-2":fe}}}var q={state:null,marked:null,cc:null};function M(){for(var Q=arguments.length-1;Q>=0;Q--)q.cc.push(arguments[Q])}function P(){return M.apply(null,arguments),!0}function N(Q,fe){for(var ke=fe;ke;ke=ke.next)if(ke.name==Q)return!0;return!1}function I(Q){var fe=q.state;if(q.marked="def",!!f){if(fe.context){if(fe.lexical.info=="var"&&fe.context&&fe.context.block){var ke=z(Q,fe.context);if(ke!=null){fe.context=ke;return}}else if(!N(Q,fe.localVars)){fe.localVars=new K(Q,fe.localVars);return}}a.globalVars&&!N(Q,fe.globalVars)&&(fe.globalVars=new K(Q,fe.globalVars))}}function z(Q,fe){if(fe)if(fe.block){var ke=z(Q,fe.prev);return ke?ke==fe.prev?fe:new re(ke,fe.vars,!0):null}else return N(Q,fe.vars)?fe:new re(fe.prev,new K(Q,fe.vars),!1);else return null}function ae(Q){return Q=="public"||Q=="private"||Q=="protected"||Q=="abstract"||Q=="readonly"}function re(Q,fe,ke){this.prev=Q,this.vars=fe,this.block=ke}function K(Q,fe){this.name=Q,this.next=fe}var W=new K("this",new K("arguments",null));function Z(){q.state.context=new re(q.state.context,q.state.localVars,!1),q.state.localVars=W}function U(){q.state.context=new re(q.state.context,q.state.localVars,!0),q.state.localVars=null}Z.lex=U.lex=!0;function V(){q.state.localVars=q.state.context.vars,q.state.context=q.state.context.prev}V.lex=!0;function Y(Q,fe){var ke=function(){var ze=q.state,Re=ze.indented;if(ze.lexical.type=="stat")Re=ze.lexical.indented;else for(var Ze=ze.lexical;Ze&&Ze.type==")"&&Ze.align;Ze=Ze.prev)Re=Ze.indented;ze.lexical=new B(Re,q.stream.column(),Q,null,ze.lexical,fe)};return ke.lex=!0,ke}function ee(){var Q=q.state;Q.lexical.prev&&(Q.lexical.type==")"&&(Q.indented=Q.lexical.indented),Q.lexical=Q.lexical.prev)}ee.lex=!0;function oe(Q){function fe(ke){return ke==Q?P():Q==";"||ke=="}"||ke==")"||ke=="]"?M():P(fe)}return fe}function te(Q,fe){return Q=="var"?P(Y("vardef",fe),vt,oe(";"),ee):Q=="keyword a"?P(Y("form"),ne,te,ee):Q=="keyword b"?P(Y("form"),te,ee):Q=="keyword d"?q.stream.match(/^\s*$/,!1)?P():P(Y("stat"),Se,oe(";"),ee):Q=="debugger"?P(oe(";")):Q=="{"?P(Y("}"),U,he,ee,V):Q==";"?P():Q=="if"?(q.state.lexical.info=="else"&&q.state.cc[q.state.cc.length-1]==ee&&q.state.cc.pop()(),P(Y("form"),ne,te,ee,Dt)):Q=="function"?P(Gt):Q=="for"?P(Y("form"),U,Mt,te,V,ee):Q=="class"||c&&fe=="interface"?(q.marked="keyword",P(Y("form",Q=="class"?Q:fe),jt,ee)):Q=="variable"?c&&fe=="declare"?(q.marked="keyword",P(te)):c&&(fe=="module"||fe=="enum"||fe=="type")&&q.stream.match(/^\s*\w/,!1)?(q.marked="keyword",fe=="enum"?P(ft):fe=="type"?P(on,oe("operator"),xe,oe(";")):P(Y("form"),nt,oe("{"),Y("}"),he,ee,ee)):c&&fe=="namespace"?(q.marked="keyword",P(Y("form"),se,te,ee)):c&&fe=="abstract"?(q.marked="keyword",P(te)):P(Y("stat"),Pe):Q=="switch"?P(Y("form"),ne,oe("{"),Y("}","switch"),U,he,ee,ee,V):Q=="case"?P(se,oe(":")):Q=="default"?P(oe(":")):Q=="catch"?P(Y("form"),Z,ie,te,ee,V):Q=="export"?P(Y("stat"),gn,ee):Q=="import"?P(Y("stat"),Ln,ee):Q=="async"?P(te):fe=="@"?P(se,te):M(Y("stat"),se,oe(";"),ee)}function ie(Q){if(Q=="(")return P(Rt,oe(")"))}function se(Q,fe){return le(Q,fe,!1)}function $(Q,fe){return le(Q,fe,!0)}function ne(Q){return Q!="("?M():P(Y(")"),Se,oe(")"),ee)}function le(Q,fe,ke){if(q.state.fatArrowAt==q.stream.start){var ze=ke?ye:de;if(Q=="(")return P(Z,Y(")"),Xe(Rt,")"),ee,oe("=>"),ze,V);if(Q=="variable")return M(Z,nt,oe("=>"),ze,V)}var Re=ke?be:_e;return k.hasOwnProperty(Q)?P(Re):Q=="function"?P(Gt,Re):Q=="class"||c&&fe=="interface"?(q.marked="keyword",P(Y("form"),er,ee)):Q=="keyword c"||Q=="async"?P(ke?$:se):Q=="("?P(Y(")"),Se,oe(")"),ee,Re):Q=="operator"||Q=="spread"?P(ke?$:se):Q=="["?P(Y("]"),Ft,ee,Re):Q=="{"?Ve(Ye,"}",null,Re):Q=="quasi"?M(Te,Re):Q=="new"?P(Ce(ke)):P()}function Se(Q){return Q.match(/[;\}\)\],]/)?M():M(se)}function _e(Q,fe){return Q==","?P(Se):be(Q,fe,!1)}function be(Q,fe,ke){var ze=ke==!1?_e:be,Re=ke==!1?se:$;if(Q=="=>")return P(Z,ke?ye:de,V);if(Q=="operator")return/\+\+|--/.test(fe)||c&&fe=="!"?P(ze):c&&fe=="<"&&q.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?P(Y(">"),Xe(xe,">"),ee,ze):fe=="?"?P(se,oe(":"),Re):P(Re);if(Q=="quasi")return M(Te,ze);if(Q!=";"){if(Q=="(")return Ve($,")","call",ze);if(Q==".")return P(Fe,ze);if(Q=="[")return P(Y("]"),Se,oe("]"),ee,ze);if(c&&fe=="as")return q.marked="keyword",P(xe,ze);if(Q=="regexp")return q.state.lastType=q.marked="operator",q.stream.backUp(q.stream.pos-q.stream.start-1),P(Re)}}function Te(Q,fe){return Q!="quasi"?M():fe.slice(fe.length-2)!="${"?P(Te):P(Se,ve)}function ve(Q){if(Q=="}")return q.marked="string-2",q.state.tokenize=_,P(Te)}function de(Q){return R(q.stream,q.state),M(Q=="{"?te:se)}function ye(Q){return R(q.stream,q.state),M(Q=="{"?te:$)}function Ce(Q){return function(fe){return fe=="."?P(Q?Ae:ue):fe=="variable"&&c?P(Je,Q?be:_e):M(Q?$:se)}}function ue(Q,fe){if(fe=="target")return q.marked="keyword",P(_e)}function Ae(Q,fe){if(fe=="target")return q.marked="keyword",P(be)}function Pe(Q){return Q==":"?P(ee,te):M(_e,oe(";"),ee)}function Fe(Q){if(Q=="variable")return q.marked="property",P()}function Ye(Q,fe){if(Q=="async")return q.marked="property",P(Ye);if(Q=="variable"||q.style=="keyword"){if(q.marked="property",fe=="get"||fe=="set")return P(We);var ke;return c&&q.state.fatArrowAt==q.stream.start&&(ke=q.stream.match(/^\s*:\s*/,!1))&&(q.state.fatArrowAt=q.stream.pos+ke[0].length),P(Qe)}else{if(Q=="number"||Q=="string")return q.marked=l?"property":q.style+" property",P(Qe);if(Q=="jsonld-keyword")return P(Qe);if(c&&ae(fe))return q.marked="keyword",P(Ye);if(Q=="[")return P(se,j,oe("]"),Qe);if(Q=="spread")return P($,Qe);if(fe=="*")return q.marked="keyword",P(Ye);if(Q==":")return M(Qe)}}function We(Q){return Q!="variable"?M(Qe):(q.marked="property",P(Gt))}function Qe(Q){if(Q==":")return P($);if(Q=="(")return M(Gt)}function Xe(Q,fe,ke){function ze(Re,Ze){if(ke?ke.indexOf(Re)>-1:Re==","){var kt=q.state.lexical;return kt.info=="call"&&(kt.pos=(kt.pos||0)+1),P(function(Mr,yn){return Mr==fe||yn==fe?M():M(Q)},ze)}return Re==fe||Ze==fe?P():ke&&ke.indexOf(";")>-1?M(Q):P(oe(fe))}return function(Re,Ze){return Re==fe||Ze==fe?P():M(Q,ze)}}function Ve(Q,fe,ke){for(var ze=3;ze<arguments.length;ze++)q.cc.push(arguments[ze]);return P(Y(fe,ke),Xe(Q,fe),ee)}function he(Q){return Q=="}"?P():M(te,he)}function j(Q,fe){if(c){if(Q==":")return P(xe);if(fe=="?")return P(j)}}function pe(Q,fe){if(c&&(Q==":"||fe=="in"))return P(xe)}function me(Q){if(c&&Q==":")return q.stream.match(/^\s*\w+\s+is\b/,!1)?P(se,we,xe):P(xe)}function we(Q,fe){if(fe=="is")return q.marked="keyword",P()}function xe(Q,fe){if(fe=="keyof"||fe=="typeof"||fe=="infer"||fe=="readonly")return q.marked="keyword",P(fe=="typeof"?$:xe);if(Q=="variable"||fe=="void")return q.marked="type",P(je);if(fe=="|"||fe=="&")return P(xe);if(Q=="string"||Q=="number"||Q=="atom")return P(je);if(Q=="[")return P(Y("]"),Xe(xe,"]",","),ee,je);if(Q=="{")return P(Y("}"),Ee,ee,je);if(Q=="(")return P(Xe(Ue,")"),qe,je);if(Q=="<")return P(Xe(xe,">"),xe);if(Q=="quasi")return M(Ie,je)}function qe(Q){if(Q=="=>")return P(xe)}function Ee(Q){return Q.match(/[\}\)\]]/)?P():Q==","||Q==";"?P(Ee):M(Oe,Ee)}function Oe(Q,fe){if(Q=="variable"||q.style=="keyword")return q.marked="property",P(Oe);if(fe=="?"||Q=="number"||Q=="string")return P(Oe);if(Q==":")return P(xe);if(Q=="[")return P(oe("variable"),pe,oe("]"),Oe);if(Q=="(")return M(Sr,Oe);if(!Q.match(/[;\}\)\],]/))return P()}function Ie(Q,fe){return Q!="quasi"?M():fe.slice(fe.length-2)!="${"?P(Ie):P(xe,He)}function He(Q){if(Q=="}")return q.marked="string-2",q.state.tokenize=_,P(Ie)}function Ue(Q,fe){return Q=="variable"&&q.stream.match(/^\s*[?:]/,!1)||fe=="?"?P(Ue):Q==":"?P(xe):Q=="spread"?P(Ue):M(xe)}function je(Q,fe){if(fe=="<")return P(Y(">"),Xe(xe,">"),ee,je);if(fe=="|"||Q=="."||fe=="&")return P(xe);if(Q=="[")return P(xe,oe("]"),je);if(fe=="extends"||fe=="implements")return q.marked="keyword",P(xe);if(fe=="?")return P(xe,oe(":"),xe)}function Je(Q,fe){if(fe=="<")return P(Y(">"),Xe(xe,">"),ee,je)}function Ge(){return M(xe,$e)}function $e(Q,fe){if(fe=="=")return P(xe)}function vt(Q,fe){return fe=="enum"?(q.marked="keyword",P(ft)):M(nt,j,ct,gt)}function nt(Q,fe){if(c&&ae(fe))return q.marked="keyword",P(nt);if(Q=="variable")return I(fe),P();if(Q=="spread")return P(nt);if(Q=="[")return Ve(Et,"]");if(Q=="{")return Ve(it,"}")}function it(Q,fe){return Q=="variable"&&!q.stream.match(/^\s*:/,!1)?(I(fe),P(ct)):(Q=="variable"&&(q.marked="property"),Q=="spread"?P(nt):Q=="}"?M():Q=="["?P(se,oe("]"),oe(":"),it):P(oe(":"),nt,ct))}function Et(){return M(nt,ct)}function ct(Q,fe){if(fe=="=")return P($)}function gt(Q){if(Q==",")return P(vt)}function Dt(Q,fe){if(Q=="keyword b"&&fe=="else")return P(Y("form","else"),te,ee)}function Mt(Q,fe){if(fe=="await")return P(Mt);if(Q=="(")return P(Y(")"),Kt,ee)}function Kt(Q){return Q=="var"?P(vt,Lt):Q=="variable"?P(Lt):M(Lt)}function Lt(Q,fe){return Q==")"?P():Q==";"?P(Lt):fe=="in"||fe=="of"?(q.marked="keyword",P(se,Lt)):M(se,Lt)}function Gt(Q,fe){if(fe=="*")return q.marked="keyword",P(Gt);if(Q=="variable")return I(fe),P(Gt);if(Q=="(")return P(Z,Y(")"),Xe(Rt,")"),ee,me,te,V);if(c&&fe=="<")return P(Y(">"),Xe(Ge,">"),ee,Gt)}function Sr(Q,fe){if(fe=="*")return q.marked="keyword",P(Sr);if(Q=="variable")return I(fe),P(Sr);if(Q=="(")return P(Z,Y(")"),Xe(Rt,")"),ee,me,V);if(c&&fe=="<")return P(Y(">"),Xe(Ge,">"),ee,Sr)}function on(Q,fe){if(Q=="keyword"||Q=="variable")return q.marked="type",P(on);if(fe=="<")return P(Y(">"),Xe(Ge,">"),ee)}function Rt(Q,fe){return fe=="@"&&P(se,Rt),Q=="spread"?P(Rt):c&&ae(fe)?(q.marked="keyword",P(Rt)):c&&Q=="this"?P(j,ct):M(nt,j,ct)}function er(Q,fe){return Q=="variable"?jt(Q,fe):fr(Q,fe)}function jt(Q,fe){if(Q=="variable")return I(fe),P(fr)}function fr(Q,fe){if(fe=="<")return P(Y(">"),Xe(Ge,">"),ee,fr);if(fe=="extends"||fe=="implements"||c&&Q==",")return fe=="implements"&&(q.marked="keyword"),P(c?xe:se,fr);if(Q=="{")return P(Y("}"),tr,ee)}function tr(Q,fe){if(Q=="async"||Q=="variable"&&(fe=="static"||fe=="get"||fe=="set"||c&&ae(fe))&&q.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return q.marked="keyword",P(tr);if(Q=="variable"||q.style=="keyword")return q.marked="property",P(jr,tr);if(Q=="number"||Q=="string")return P(jr,tr);if(Q=="[")return P(se,j,oe("]"),jr,tr);if(fe=="*")return q.marked="keyword",P(tr);if(c&&Q=="(")return M(Sr,tr);if(Q==";"||Q==",")return P(tr);if(Q=="}")return P();if(fe=="@")return P(se,tr)}function jr(Q,fe){if(fe=="!"||fe=="?")return P(jr);if(Q==":")return P(xe,ct);if(fe=="=")return P($);var ke=q.state.lexical.prev,ze=ke&&ke.info=="interface";return M(ze?Sr:Gt)}function gn(Q,fe){return fe=="*"?(q.marked="keyword",P(Gn,oe(";"))):fe=="default"?(q.marked="keyword",P(se,oe(";"))):Q=="{"?P(Xe(jn,"}"),Gn,oe(";")):M(te)}function jn(Q,fe){if(fe=="as")return q.marked="keyword",P(oe("variable"));if(Q=="variable")return M($,jn)}function Ln(Q){return Q=="string"?P():Q=="("?M(se):Q=="."?M(_e):M(Zn,sn,Gn)}function Zn(Q,fe){return Q=="{"?Ve(Zn,"}"):(Q=="variable"&&I(fe),fe=="*"&&(q.marked="keyword"),P(Pa))}function sn(Q){if(Q==",")return P(Zn,sn)}function Pa(Q,fe){if(fe=="as")return q.marked="keyword",P(Zn)}function Gn(Q,fe){if(fe=="from")return q.marked="keyword",P(se)}function Ft(Q){return Q=="]"?P():M(Xe($,"]"))}function ft(){return M(Y("form"),nt,oe("{"),Y("}"),Xe(Hr,"}"),ee,ee)}function Hr(){return M(nt,ct)}function Qn(Q,fe){return Q.lastType=="operator"||Q.lastType==","||y.test(fe.charAt(0))||/[,.]/.test(fe.charAt(0))}function Pt(Q,fe,ke){return fe.tokenize==w&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(fe.lastType)||fe.lastType=="quasi"&&/\{\s*$/.test(Q.string.slice(0,Q.pos-(ke||0)))}return{startState:function(Q){var fe={tokenize:w,lastType:"sof",cc:[],lexical:new B((Q||0)-i,0,"block",!1),localVars:a.localVars,context:a.localVars&&new re(null,null,!1),indented:Q||0};return a.globalVars&&typeof a.globalVars=="object"&&(fe.globalVars=a.globalVars),fe},token:function(Q,fe){if(Q.sol()&&(fe.lexical.hasOwnProperty("align")||(fe.lexical.align=!1),fe.indented=Q.indentation(),R(Q,fe)),fe.tokenize!=A&&Q.eatSpace())return null;var ke=fe.tokenize(Q,fe);return x=="comment"?ke:(fe.lastType=x=="operator"&&(v=="++"||v=="--")?"incdec":x,F(fe,ke,x,v,Q))},indent:function(Q,fe){if(Q.tokenize==A||Q.tokenize==_)return r.Pass;if(Q.tokenize!=w)return 0;var ke=fe&&fe.charAt(0),ze=Q.lexical,Re;if(!/^\s*else\b/.test(fe))for(var Ze=Q.cc.length-1;Ze>=0;--Ze){var kt=Q.cc[Ze];if(kt==ee)ze=ze.prev;else if(kt!=Dt&&kt!=V)break}for(;(ze.type=="stat"||ze.type=="form")&&(ke=="}"||(Re=Q.cc[Q.cc.length-1])&&(Re==_e||Re==be)&&!/^[,\.=+\-*:?[\(]/.test(fe));)ze=ze.prev;o&&ze.type==")"&&ze.prev.type=="stat"&&(ze=ze.prev);var Mr=ze.type,yn=ke==Mr;return Mr=="vardef"?ze.indented+(Q.lastType=="operator"||Q.lastType==","?ze.info.length+1:0):Mr=="form"&&ke=="{"?ze.indented:Mr=="form"?ze.indented+i:Mr=="stat"?ze.indented+(Qn(Q,fe)?o||i:0):ze.info=="switch"&&!yn&&a.doubleIndentSwitch!=!1?ze.indented+(/^(?:case|default)\b/.test(fe)?i:2*i):ze.align?ze.column+(yn?0:1):ze.indented+(yn?0:i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:l,jsonMode:u,expressionAllowed:Pt,skipExpression:function(Q){F(Q,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),nR.exports}P9();var k9=Gi();const sw=So(k9),N9={class:"data-input-panel"},O9={class:"editor-wrapper"},I9=_r({__name:"DataInputPanel",setup(t){const e=od(),r=wt(null);let n=null,a=!1;return La(async()=>{await nu(),r.value&&(n=sw(r.value,{value:e.currentGraphDataString,mode:{name:"javascript",json:!0},theme:"material-darker",lineNumbers:!0,tabSize:2}),n.on("change",i=>{a||(e.currentGraphDataString=i.getValue())}))}),_a(()=>{var i;if(n){const o=n.getWrapperElement();(i=o.parentNode)==null||i.removeChild(o),n=null}}),wr(()=>e.currentGraphDataString,i=>{n&&n.getValue()!==i&&(a=!0,n.setValue(i),a=!1)}),(i,o)=>(rt(),ut("div",N9,[o[0]||(o[0]=Me("h4",null,"Model Data & Inits",-1)),o[1]||(o[1]=Me("p",{class:"description"}," Define observed data and initial values for your model in JSON format. ",-1)),Me("div",O9,[Me("div",{ref_key:"editorContainer",ref:r,class:"editor-container"},null,512)])]))}}),F9=Kr(I9,[["__scopeId","data-v-6da0f00b"]]),B9=["type","value","placeholder","disabled","readonly"],q9=_r({__name:"BaseInput",props:{modelValue:{},type:{},placeholder:{},disabled:{type:Boolean},readonly:{type:Boolean}},emits:["update:modelValue","change","input","keyup.enter"],setup(t,{emit:e}){const r=t,n=e,a=zt(()=>r.type||"text"),i=u=>{const f=u.target;n("update:modelValue",f.value),n("input",u)},o=u=>{n("change",u)},l=u=>{u.key==="Enter"&&n("keyup.enter",u)};return(u,f)=>(rt(),ut("input",{type:a.value,value:u.modelValue??"",placeholder:u.placeholder,disabled:u.disabled,readonly:u.readonly,onInput:i,onChange:o,onKeyup:l,class:"base-input"},null,40,B9))}}),Ta=Kr(q9,[["__scopeId","data-v-6905db26"]]),z9=["value","disabled"],G9=["value"],H9=_r({__name:"BaseSelect",props:{modelValue:{},options:{},disabled:{type:Boolean}},emits:["update:modelValue","change"],setup(t,{emit:e}){const r=t,n=e,a=o=>{const l=o.target;n("update:modelValue",l.value),n("change",o)},i=zt(()=>({"base-select":!0,"select-disabled":r.disabled}));return(o,l)=>(rt(),ut("select",{value:o.modelValue,onChange:a,disabled:o.disabled,class:Xt(i.value)},[(rt(!0),ut(Vt,null,Bn(o.options,u=>(rt(),ut("option",{key:u.value,value:u.value},dr(u.label),9,G9))),128))],42,z9))}}),U9=Kr(H9,[["__scopeId","data-v-4e558a4b"]]),W9={class:"node-properties-panel"},V9={key:0,class:"no-selection-message"},$9={key:1,class:"properties-form"},Y9={key:0,class:"validation-errors-container"},X9={class:"form-group"},K9=["for"],j9={class:"input-wrapper"},Z9=["id","onUpdate:modelValue"],Q9={key:0,class:"help-text"},J9={key:1,class:"error-message"},e8=["for"],t8={class:"action-buttons"},r8=_r({__name:"NodePropertiesPanel",props:{selectedElement:{},validationErrors:{}},emits:["update-element","delete-element"],setup(t,{emit:e}){const r=t,n=e,a=wt(null),i=wt(!1),o=zt(()=>{var E;if(((E=a.value)==null?void 0:E.type)==="node")return AO(a.value.nodeType)}),l=zt(()=>{var E;if(((E=a.value)==null?void 0:E.type)==="node"){const x=a.value;return LO(x.distribution||"")}}),u=zt(()=>r.selectedElement?r.validationErrors.get(r.selectedElement.id)||[]:[]);wr(()=>r.selectedElement,E=>{a.value=E?JSON.parse(JSON.stringify(E)):null},{deep:!0,immediate:!0});const f=zt(()=>{var E;return((E=a.value)==null?void 0:E.type)==="node"}),c=zt(()=>{var E;return((E=a.value)==null?void 0:E.type)==="edge"}),h=()=>{a.value&&n("update-element",a.value)},p=()=>{a.value&&(i.value=!0)},y=()=>{i.value=!1},g=E=>{if(f.value&&a.value){const x=r.validationErrors.get(a.value.id),v=x==null?void 0:x.find(C=>C.field===E);return v==null?void 0:v.message}};return(E,x)=>(rt(),ut("div",W9,[x[5]||(x[5]=Me("h4",null,"Properties",-1)),a.value?(rt(),ut("div",$9,[u.value.length>0?(rt(),ut("div",Y9,[x[1]||(x[1]=Me("h5",{class:"validation-title"},[Me("i",{class:"fas fa-exclamation-triangle"}),St(" Validation Issues ")],-1)),Me("ul",null,[(rt(!0),ut(Vt,null,Bn(u.value,(v,C)=>(rt(),ut("li",{key:C},dr(v.message),1))),128))])])):br("",!0),Me("div",X9,[x[2]||(x[2]=Me("label",{for:"element-id"},"ID:",-1)),st(Ta,{id:"element-id","model-value":a.value.id,disabled:""},null,8,["model-value"])]),f.value&&o.value?(rt(),ut(Vt,{key:1},[(rt(!0),ut(Vt,null,Bn(o.value.properties,v=>(rt(),ut("div",{key:v.key,class:"form-group"},[Me("label",{for:`prop-${v.key}`},dr(v.label)+":",9,K9),Me("div",j9,[v.type==="select"?(rt(),la(U9,{key:0,id:`prop-${v.key}`,modelValue:a.value[v.key],"onUpdate:modelValue":C=>a.value[v.key]=C,options:v.options,onChange:h,class:Xt({"has-error":g(v.key)})},null,8,["id","modelValue","onUpdate:modelValue","options","class"])):v.type==="checkbox"?Wn((rt(),ut("input",{key:1,type:"checkbox",id:`prop-${v.key}`,"onUpdate:modelValue":C=>a.value[v.key]=C,onChange:h,class:"form-checkbox"},null,40,Z9)),[[PP,a.value[v.key]]]):(rt(),la(Ta,{key:2,id:`prop-${v.key}`,type:v.type,modelValue:a.value[v.key],"onUpdate:modelValue":C=>a.value[v.key]=C,placeholder:v.placeholder,onInput:h,class:Xt({"has-error":g(v.key)})},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","class"]))]),v.helpText?(rt(),ut("small",Q9,dr(v.helpText),1)):br("",!0),g(v.key)?(rt(),ut("small",J9,dr(g(v.key)),1)):br("",!0)]))),128)),l.value&&o.value.parameters?(rt(!0),ut(Vt,{key:0},Bn(l.value.paramNames,(v,C)=>(rt(),ut("div",{key:v,class:"form-group"},[Me("label",{for:`param-${C}`},dr(v)+":",9,e8),st(Ta,{id:`param-${C}`,type:"text",modelValue:a.value[`param${C+1}`],"onUpdate:modelValue":w=>a.value[`param${C+1}`]=w,placeholder:"Enter value or parent name",onInput:h,class:Xt({"has-error":g(`param${C+1}`)})},null,8,["id","modelValue","onUpdate:modelValue","class"])]))),128)):br("",!0)],64)):c.value?(rt(),ut(Vt,{key:2},[],64)):br("",!0),Me("div",t8,[st(nr,{onClick:h,type:"primary"},{default:ht(()=>x[3]||(x[3]=[St("Apply Changes")])),_:1,__:[3]}),st(nr,{onClick:p,type:"danger"},{default:ht(()=>x[4]||(x[4]=[St("Delete Element")])),_:1,__:[4]})])])):(rt(),ut("div",V9,x[0]||(x[0]=[Me("p",null,"Select a node or edge on the canvas to view/edit its properties.",-1)]))),st(Co,{"is-open":i.value,onClose:y},null,8,["is-open"])]))}}),n8=Kr(r8,[["__scopeId","data-v-7417230a"]]);function a8(t,e){return{generatedCode:zt(()=>{var E;const n=t.value.filter(x=>x.type==="node"),a=t.value.filter(x=>x.type==="edge"),i=new Set(Object.keys(e.value.data)),o=new Map(n.map(x=>[x.id,x]));if(n.length===0)return`model {
  # Your model will appear here...
}`;const l={},u={};n.forEach(x=>{l[x.id]=0,u[x.id]=[]}),a.forEach(x=>{u[x.source]&&l[x.target]!==void 0&&(u[x.source].push(x.target),l[x.target]++)});const f=n.filter(x=>l[x.id]===0).map(x=>x.id),c=[];for(;f.length>0;){const x=f.shift();c.push(x),(E=u[x])==null||E.forEach(v=>{l[v]!==void 0&&(l[v]--,l[v]===0&&f.push(v))})}const h={id:"root",type:"plate",children:[]},p=new Map([["root",h]]);n.forEach(x=>{x.nodeType==="plate"?p.set(x.id,{id:x.id,type:"plate",children:[]}):p.set(x.id,{id:x.id,type:"node",children:[]})}),n.forEach(x=>{const v=x.parent||"root",C=p.get(v),w=p.get(x.id);C&&w&&C.children.push(w)});const y=(x,v)=>{let C=[];const w="  ".repeat(v);return x.children.sort((A,_)=>c.indexOf(A.id)-c.indexOf(_.id)).forEach(A=>{const _=o.get(A.id);if(_)if(A.type==="plate")C.push(`${w}for (${_.loopVariable} in ${_.loopRange}) {`),C.push(...y(A,v+1)),C.push(`${w}}`);else{const D=_.indices?`${_.name}[${_.indices}]`:_.name;if(_.observed&&i.has(_.name),_.nodeType==="stochastic"||_.nodeType==="observed"){const R=[_.param1,_.param2,_.param3].filter(k=>k&&String(k).trim()!=="").join(", ");C.push(`${w}${D} ~ ${_.distribution}(${R})`)}else _.nodeType==="deterministic"&&_.equation&&C.push(`${w}${D} <- ${_.equation}`)}}),C};return`model {
${y(h,1).join(`
`)}
}`})}}var oR={exports:{}},sR;function i8(){return sR||(sR=1,function(t,e){(function(r){r(Gi())})(function(r){r.defineMode("julia",function(n,a){function i(K,W,Z){return typeof Z>"u"&&(Z=""),typeof W>"u"&&(W="\\b"),new RegExp("^"+Z+"(("+K.join(")|(")+"))"+W)}var o="\\\\[0-7]{1,3}",l="\\\\x[A-Fa-f0-9]{1,2}",u=`\\\\[abefnrtv0%?'"\\\\]`,f="([^\\u0027\\u005C\\uD800-\\uDFFF]|[\\uD800-\\uDFFF][\\uDC00-\\uDFFF])",c=["[<>]:","[<>=]=","<<=?",">>>?=?","=>","--?>","<--[->]?","\\/\\/","\\.{2,3}","[\\.\\\\%*+\\-<>!\\/^|&]=?","\\?","\\$","~",":"],h=a.operators||i(["[<>]:","[<>=]=","[!=]==","<<=?",">>>?=?","=>?","--?>","<--[->]?","\\/\\/","[\\\\%*+\\-<>!\\/^|&\\u00F7\\u22BB]=?","\\?","\\$","~",":","\\u00D7","\\u2208","\\u2209","\\u220B","\\u220C","\\u2218","\\u221A","\\u221B","\\u2229","\\u222A","\\u2260","\\u2264","\\u2265","\\u2286","\\u2288","\\u228A","\\u22C5","\\b(in|isa)\\b(?!.?\\()"],""),p=a.delimiters||/^[;,()[\]{}]/,y=a.identifiers||/^[_A-Za-z\u00A1-\u2217\u2219-\uFFFF][\w\u00A1-\u2217\u2219-\uFFFF]*!*/,g=i([o,l,u,f],"'"),E=["begin","function","type","struct","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"],x=["end","else","elseif","catch","finally"],v=["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","where","macro","module","baremodule","struct","type","mutable","immutable","quote","typealias","abstract","primitive","bitstype"],C=["true","false","nothing","NaN","Inf"];r.registerHelper("hintWords","julia",v.concat(C));var w=i(E),T=i(x),A=i(v),_=i(C),D=/^@[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/,R=/^:[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/,k=/^(`|([_A-Za-z\u00A1-\uFFFF]*"("")?))/,B=i(c,"","@"),G=i(c,"",":");function F(K){return K.nestedArrays>0}function q(K){return K.nestedGenerators>0}function M(K,W){return typeof W>"u"&&(W=0),K.scopes.length<=W?null:K.scopes[K.scopes.length-(W+1)]}function P(K,W){if(K.match("#=",!1))return W.tokenize=I,W.tokenize(K,W);var Z=W.leavingExpr;if(K.sol()&&(Z=!1),W.leavingExpr=!1,Z&&K.match(/^'+/))return"operator";if(K.match(/\.{4,}/))return"error";if(K.match(/\.{1,3}/))return"operator";if(K.eatSpace())return null;var U=K.peek();if(U==="#")return K.skipToEnd(),"comment";if(U==="["&&(W.scopes.push("["),W.nestedArrays++),U==="("&&(W.scopes.push("("),W.nestedGenerators++),F(W)&&U==="]"){for(;W.scopes.length&&M(W)!=="[";)W.scopes.pop();W.scopes.pop(),W.nestedArrays--,W.leavingExpr=!0}if(q(W)&&U===")"){for(;W.scopes.length&&M(W)!=="(";)W.scopes.pop();W.scopes.pop(),W.nestedGenerators--,W.leavingExpr=!0}if(F(W)){if(W.lastToken=="end"&&K.match(":"))return"operator";if(K.match("end"))return"number"}var V;if((V=K.match(w,!1))&&W.scopes.push(V[0]),K.match(T,!1)&&W.scopes.pop(),K.match(/^::(?![:\$])/))return W.tokenize=N,W.tokenize(K,W);if(!Z&&(K.match(R)||K.match(G)))return"builtin";if(K.match(h))return"operator";if(K.match(/^\.?\d/,!1)){var Y=RegExp(/^im\b/),ee=!1;if(K.match(/^0x\.[0-9a-f_]+p[\+\-]?[_\d]+/i)&&(ee=!0),K.match(/^0x[0-9a-f_]+/i)&&(ee=!0),K.match(/^0b[01_]+/i)&&(ee=!0),K.match(/^0o[0-7_]+/i)&&(ee=!0),K.match(/^(?:(?:\d[_\d]*)?\.(?!\.)(?:\d[_\d]*)?|\d[_\d]*\.(?!\.)(?:\d[_\d]*))?([Eef][\+\-]?[_\d]+)?/i)&&(ee=!0),K.match(/^\d[_\d]*(e[\+\-]?\d+)?/i)&&(ee=!0),ee)return K.match(Y),W.leavingExpr=!0,"number"}if(K.match("'"))return W.tokenize=z,W.tokenize(K,W);if(K.match(k))return W.tokenize=ae(K.current()),W.tokenize(K,W);if(K.match(D)||K.match(B))return"meta";if(K.match(p))return null;if(K.match(A))return"keyword";if(K.match(_))return"builtin";var oe=W.isDefinition||W.lastToken=="function"||W.lastToken=="macro"||W.lastToken=="type"||W.lastToken=="struct"||W.lastToken=="immutable";return K.match(y)?oe?K.peek()==="."?(W.isDefinition=!0,"variable"):(W.isDefinition=!1,"def"):(W.leavingExpr=!0,"variable"):(K.next(),"error")}function N(K,W){return K.match(/.*?(?=[,;{}()=\s]|$)/),K.match("{")?W.nestedParameters++:K.match("}")&&W.nestedParameters>0&&W.nestedParameters--,W.nestedParameters>0?K.match(/.*?(?={|})/)||K.next():W.nestedParameters==0&&(W.tokenize=P),"builtin"}function I(K,W){return K.match("#=")&&W.nestedComments++,K.match(/.*?(?=(#=|=#))/)||K.skipToEnd(),K.match("=#")&&(W.nestedComments--,W.nestedComments==0&&(W.tokenize=P)),"comment"}function z(K,W){var Z=!1,U;if(K.match(g))Z=!0;else if(U=K.match(/\\u([a-f0-9]{1,4})(?=')/i)){var V=parseInt(U[1],16);(V<=55295||V>=57344)&&(Z=!0,K.next())}else if(U=K.match(/\\U([A-Fa-f0-9]{5,8})(?=')/)){var V=parseInt(U[1],16);V<=1114111&&(Z=!0,K.next())}return Z?(W.leavingExpr=!0,W.tokenize=P,"string"):(K.match(/^[^']+(?=')/)||K.skipToEnd(),K.match("'")&&(W.tokenize=P),"error")}function ae(K){K.substr(-3)==='"""'?K='"""':K.substr(-1)==='"'&&(K='"');function W(Z,U){if(Z.eat("\\"))Z.next();else{if(Z.match(K))return U.tokenize=P,U.leavingExpr=!0,"string";Z.eat(/[`"]/)}return Z.eatWhile(/[^\\`"]/),"string"}return W}var re={startState:function(){return{tokenize:P,scopes:[],lastToken:null,leavingExpr:!1,isDefinition:!1,nestedArrays:0,nestedComments:0,nestedGenerators:0,nestedParameters:0,firstParenPos:-1}},token:function(K,W){var Z=W.tokenize(K,W),U=K.current();return U&&Z&&(W.lastToken=U),Z},indent:function(K,W){var Z=0;return(W==="]"||W===")"||/^end\b/.test(W)||/^else/.test(W)||/^catch\b/.test(W)||/^elseif\b/.test(W)||/^finally/.test(W))&&(Z=-1),(K.scopes.length+Z)*n.indentUnit},electricInput:/\b(end|else|catch|finally)\b/,blockCommentStart:"#=",blockCommentEnd:"=#",lineComment:"#",closeBrackets:'()[]{}""',fold:"indent"};return re}),r.defineMIME("text/x-julia","julia")})}()),oR.exports}i8();const o8={class:"code-preview-panel"},s8={class:"code-output"},l8={key:0,class:"fas fa-check"},u8={key:1},f8=_r({__name:"CodePreviewPanel",setup(t){const e=Mo(),r=od(),{currentGraphElements:n}=Rb(e),{parsedGraphData:a}=Rb(r),{generatedCode:i}=a8(n,a),o=wt(!1),l=wt(null);let u=null;La(()=>{l.value&&(u=sw(l.value,{value:i.value,mode:"julia",theme:"material-darker",lineNumbers:!0,readOnly:!0,tabSize:2}))}),_a(()=>{var c;if(u){const h=u.getWrapperElement();(c=h.parentNode)==null||c.removeChild(h),u=null}}),wr(i,c=>{u&&u.getValue()!==c&&u.setValue(c)});const f=()=>{navigator.clipboard.writeText(i.value).then(()=>{o.value=!0,setTimeout(()=>{o.value=!1},2e3)}).catch(c=>{console.error("Failed to copy code: ",c),alert("Failed to copy code to clipboard.")})};return(c,h)=>(rt(),ut("div",o8,[h[0]||(h[0]=Me("h4",null,"Generated BUGS Code",-1)),Me("div",s8,[Me("div",{ref_key:"editorContainer",ref:l,class:"editor-container"},null,512),st(nr,{onClick:f,class:"copy-button",type:"secondary"},{default:ht(()=>[o.value?(rt(),ut("i",l8)):(rt(),ut("span",u8,"Copy Code"))]),_:1})])]))}}),c8=Kr(f8,[["__scopeId","data-v-87490b2c"]]);var lR={exports:{}},uR;function d8(){return uR||(uR=1,function(t,e){(function(r){r(Gi())})(function(r){function n(o,l,u){this.orientation=l,this.scroll=u,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=o+"-"+l,this.inner=this.node.appendChild(document.createElement("div"));var f=this;r.on(this.inner,"mousedown",function(h){if(h.which!=1)return;r.e_preventDefault(h);var p=f.orientation=="horizontal"?"pageX":"pageY",y=h[p],g=f.pos;function E(){r.off(document,"mousemove",x),r.off(document,"mouseup",E)}function x(v){if(v.which!=1)return E();f.moveTo(g+(v[p]-y)*(f.total/f.size))}r.on(document,"mousemove",x),r.on(document,"mouseup",E)}),r.on(this.node,"click",function(h){r.e_preventDefault(h);var p=f.inner.getBoundingClientRect(),y;f.orientation=="horizontal"?y=h.clientX<p.left?-1:h.clientX>p.right?1:0:y=h.clientY<p.top?-1:h.clientY>p.bottom?1:0,f.moveTo(f.pos+y*f.screen)});function c(h){var p=r.wheelEventPixels(h)[f.orientation=="horizontal"?"x":"y"],y=f.pos;f.moveTo(f.pos+p),f.pos!=y&&r.e_preventDefault(h)}r.on(this.node,"mousewheel",c),r.on(this.node,"DOMMouseScroll",c)}n.prototype.setPos=function(o,l){return o<0&&(o=0),o>this.total-this.screen&&(o=this.total-this.screen),!l&&o==this.pos?!1:(this.pos=o,this.inner.style[this.orientation=="horizontal"?"left":"top"]=o*(this.size/this.total)+"px",!0)},n.prototype.moveTo=function(o){this.setPos(o)&&this.scroll(o,this.orientation)};var a=10;n.prototype.update=function(o,l,u){var f=this.screen!=l||this.total!=o||this.size!=u;f&&(this.screen=l,this.total=o,this.size=u);var c=this.screen*(this.size/this.total);c<a&&(this.size-=a-c,c=a),this.inner.style[this.orientation=="horizontal"?"width":"height"]=c+"px",this.setPos(this.pos,f)};function i(o,l,u){this.addClass=o,this.horiz=new n(o,"horizontal",u),l(this.horiz.node),this.vert=new n(o,"vertical",u),l(this.vert.node),this.width=null}i.prototype.update=function(o){if(this.width==null){var l=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;l&&(this.width=parseInt(l.height))}var u=this.width||0,f=o.scrollWidth>o.clientWidth+1,c=o.scrollHeight>o.clientHeight+1;return this.vert.node.style.display=c?"block":"none",this.horiz.node.style.display=f?"block":"none",c&&(this.vert.update(o.scrollHeight,o.clientHeight,o.viewHeight-(f?u:0)),this.vert.node.style.bottom=f?u+"px":"0"),f&&(this.horiz.update(o.scrollWidth,o.clientWidth,o.viewWidth-(c?u:0)-o.barLeft),this.horiz.node.style.right=c?u+"px":"0",this.horiz.node.style.left=o.barLeft+"px"),{right:c?u:0,bottom:f?u:0}},i.prototype.setScrollTop=function(o){this.vert.setPos(o)},i.prototype.setScrollLeft=function(o){this.horiz.setPos(o)},i.prototype.clear=function(){var o=this.horiz.node.parentNode;o.removeChild(this.horiz.node),o.removeChild(this.vert.node)},r.scrollbarModel.simple=function(o,l){return new i("CodeMirror-simplescroll",o,l)},r.scrollbarModel.overlay=function(o,l){return new i("CodeMirror-overlayscroll",o,l)}})}()),lR.exports}d8();var fR={exports:{}},cR;function h8(){return cR||(cR=1,function(t,e){(function(r){r(Gi())})(function(r){var n=r.Pos;function a(C){var w=C.flags;return w??(C.ignoreCase?"i":"")+(C.global?"g":"")+(C.multiline?"m":"")}function i(C,w){for(var T=a(C),A=T,_=0;_<w.length;_++)A.indexOf(w.charAt(_))==-1&&(A+=w.charAt(_));return T==A?C:new RegExp(C.source,A)}function o(C){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(C.source)}function l(C,w,T){w=i(w,"g");for(var A=T.line,_=T.ch,D=C.lastLine();A<=D;A++,_=0){w.lastIndex=_;var R=C.getLine(A),k=w.exec(R);if(k)return{from:n(A,k.index),to:n(A,k.index+k[0].length),match:k}}}function u(C,w,T){if(!o(w))return l(C,w,T);w=i(w,"gm");for(var A,_=1,D=T.line,R=C.lastLine();D<=R;){for(var k=0;k<_&&!(D>R);k++){var B=C.getLine(D++);A=A==null?B:A+`
`+B}_=_*2,w.lastIndex=T.ch;var G=w.exec(A);if(G){var F=A.slice(0,G.index).split(`
`),q=G[0].split(`
`),M=T.line+F.length-1,P=F[F.length-1].length;return{from:n(M,P),to:n(M+q.length-1,q.length==1?P+q[0].length:q[q.length-1].length),match:G}}}}function f(C,w,T){for(var A,_=0;_<=C.length;){w.lastIndex=_;var D=w.exec(C);if(!D)break;var R=D.index+D[0].length;if(R>C.length-T)break;(!A||R>A.index+A[0].length)&&(A=D),_=D.index+1}return A}function c(C,w,T){w=i(w,"g");for(var A=T.line,_=T.ch,D=C.firstLine();A>=D;A--,_=-1){var R=C.getLine(A),k=f(R,w,_<0?0:R.length-_);if(k)return{from:n(A,k.index),to:n(A,k.index+k[0].length),match:k}}}function h(C,w,T){if(!o(w))return c(C,w,T);w=i(w,"gm");for(var A,_=1,D=C.getLine(T.line).length-T.ch,R=T.line,k=C.firstLine();R>=k;){for(var B=0;B<_&&R>=k;B++){var G=C.getLine(R--);A=A==null?G:G+`
`+A}_*=2;var F=f(A,w,D);if(F){var q=A.slice(0,F.index).split(`
`),M=F[0].split(`
`),P=R+q.length,N=q[q.length-1].length;return{from:n(P,N),to:n(P+M.length-1,M.length==1?N+M[0].length:M[M.length-1].length),match:F}}}}var p,y;String.prototype.normalize?(p=function(C){return C.normalize("NFD").toLowerCase()},y=function(C){return C.normalize("NFD")}):(p=function(C){return C.toLowerCase()},y=function(C){return C});function g(C,w,T,A){if(C.length==w.length)return T;for(var _=0,D=T+Math.max(0,C.length-w.length);;){if(_==D)return _;var R=_+D>>1,k=A(C.slice(0,R)).length;if(k==T)return R;k>T?D=R:_=R+1}}function E(C,w,T,A){if(!w.length)return null;var _=A?p:y,D=_(w).split(/\r|\n\r?/);e:for(var R=T.line,k=T.ch,B=C.lastLine()+1-D.length;R<=B;R++,k=0){var G=C.getLine(R).slice(k),F=_(G);if(D.length==1){var q=F.indexOf(D[0]);if(q==-1)continue e;var T=g(G,F,q,_)+k;return{from:n(R,g(G,F,q,_)+k),to:n(R,g(G,F,q+D[0].length,_)+k)}}else{var M=F.length-D[0].length;if(F.slice(M)!=D[0])continue e;for(var P=1;P<D.length-1;P++)if(_(C.getLine(R+P))!=D[P])continue e;var N=C.getLine(R+D.length-1),I=_(N),z=D[D.length-1];if(I.slice(0,z.length)!=z)continue e;return{from:n(R,g(G,F,M,_)+k),to:n(R+D.length-1,g(N,I,z.length,_))}}}}function x(C,w,T,A){if(!w.length)return null;var _=A?p:y,D=_(w).split(/\r|\n\r?/);e:for(var R=T.line,k=T.ch,B=C.firstLine()-1+D.length;R>=B;R--,k=-1){var G=C.getLine(R);k>-1&&(G=G.slice(0,k));var F=_(G);if(D.length==1){var q=F.lastIndexOf(D[0]);if(q==-1)continue e;return{from:n(R,g(G,F,q,_)),to:n(R,g(G,F,q+D[0].length,_))}}else{var M=D[D.length-1];if(F.slice(0,M.length)!=M)continue e;for(var P=1,T=R-D.length+1;P<D.length-1;P++)if(_(C.getLine(T+P))!=D[P])continue e;var N=C.getLine(R+1-D.length),I=_(N);if(I.slice(I.length-D[0].length)!=D[0])continue e;return{from:n(R+1-D.length,g(N,I,N.length-D[0].length,_)),to:n(R,g(G,F,M.length,_))}}}}function v(C,w,T,A){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=C,T=T?C.clipPos(T):n(0,0),this.pos={from:T,to:T};var _;typeof A=="object"?_=A.caseFold:(_=A,A=null),typeof w=="string"?(_==null&&(_=!1),this.matches=function(D,R){return(D?x:E)(C,w,R,_)}):(w=i(w,"gm"),!A||A.multiline!==!1?this.matches=function(D,R){return(D?h:u)(C,w,R)}:this.matches=function(D,R){return(D?c:l)(C,w,R)})}v.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(C){var w=this.doc.clipPos(C?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(w=n(w.line,w.ch),C?(w.ch--,w.ch<0&&(w.line--,w.ch=(this.doc.getLine(w.line)||"").length)):(w.ch++,w.ch>(this.doc.getLine(w.line)||"").length&&(w.ch=0,w.line++)),r.cmpPos(w,this.doc.clipPos(w))!=0))return this.atOccurrence=!1;var T=this.matches(C,w);if(this.afterEmptyMatch=T&&r.cmpPos(T.from,T.to)==0,T)return this.pos=T,this.atOccurrence=!0,this.pos.match||!0;var A=n(C?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:A,to:A},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(C,w){if(this.atOccurrence){var T=r.splitLines(C);this.doc.replaceRange(T,this.pos.from,this.pos.to,w),this.pos.to=n(this.pos.from.line+T.length-1,T[T.length-1].length+(T.length==1?this.pos.from.ch:0))}}},r.defineExtension("getSearchCursor",function(C,w,T){return new v(this.doc,C,w,T)}),r.defineDocExtension("getSearchCursor",function(C,w,T){return new v(this,C,w,T)}),r.defineExtension("selectMatches",function(C,w){for(var T=[],A=this.getSearchCursor(C,this.getCursor("from"),w);A.findNext()&&!(r.cmpPos(A.to(),this.getCursor("to"))>0);)T.push({anchor:A.from(),head:A.to()});T.length&&this.setSelections(T,0)})})}()),fR.exports}h8();var dR={exports:{}},hR;function DO(){return hR||(hR=1,function(t,e){(function(r){r(Gi())})(function(r){function n(l,u,f,c){if(f&&f.call){var h=f;f=null}else var h=o(l,f,"rangeFinder");typeof u=="number"&&(u=r.Pos(u,0));var p=o(l,f,"minFoldSize");function y(v){var C=h(l,u);if(!C||C.to.line-C.from.line<p)return null;if(c==="fold")return C;for(var w=l.findMarksAt(C.from),T=0;T<w.length;++T)if(w[T].__isFold){if(!v)return null;C.cleared=!0,w[T].clear()}return C}var g=y(!0);if(o(l,f,"scanUp"))for(;!g&&u.line>l.firstLine();)u=r.Pos(u.line-1,0),g=y(!1);if(!(!g||g.cleared||c==="unfold")){var E=a(l,f,g);r.on(E,"mousedown",function(v){x.clear(),r.e_preventDefault(v)});var x=l.markText(g.from,g.to,{replacedWith:E,clearOnEnter:o(l,f,"clearOnEnter"),__isFold:!0});x.on("clear",function(v,C){r.signal(l,"unfold",l,v,C)}),r.signal(l,"fold",l,g.from,g.to)}}function a(l,u,f){var c=o(l,u,"widget");if(typeof c=="function"&&(c=c(f.from,f.to)),typeof c=="string"){var h=document.createTextNode(c);c=document.createElement("span"),c.appendChild(h),c.className="CodeMirror-foldmarker"}else c&&(c=c.cloneNode(!0));return c}r.newFoldFunction=function(l,u){return function(f,c){n(f,c,{rangeFinder:l,widget:u})}},r.defineExtension("foldCode",function(l,u,f){n(this,l,u,f)}),r.defineExtension("isFolded",function(l){for(var u=this.findMarksAt(l),f=0;f<u.length;++f)if(u[f].__isFold)return!0}),r.commands.toggleFold=function(l){l.foldCode(l.getCursor())},r.commands.fold=function(l){l.foldCode(l.getCursor(),null,"fold")},r.commands.unfold=function(l){l.foldCode(l.getCursor(),{scanUp:!1},"unfold")},r.commands.foldAll=function(l){l.operation(function(){for(var u=l.firstLine(),f=l.lastLine();u<=f;u++)l.foldCode(r.Pos(u,0),{scanUp:!1},"fold")})},r.commands.unfoldAll=function(l){l.operation(function(){for(var u=l.firstLine(),f=l.lastLine();u<=f;u++)l.foldCode(r.Pos(u,0),{scanUp:!1},"unfold")})},r.registerHelper("fold","combine",function(){var l=Array.prototype.slice.call(arguments,0);return function(u,f){for(var c=0;c<l.length;++c){var h=l[c](u,f);if(h)return h}}}),r.registerHelper("fold","auto",function(l,u){for(var f=l.getHelpers(u,"fold"),c=0;c<f.length;c++){var h=f[c](l,u);if(h)return h}});var i={rangeFinder:r.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};r.defineOption("foldOptions",null);function o(l,u,f){if(u&&u[f]!==void 0)return u[f];var c=l.options.foldOptions;return c&&c[f]!==void 0?c[f]:i[f]}r.defineExtension("foldOption",function(l,u){return o(this,l,u)})})}()),dR.exports}DO();var vR={exports:{}},pR;function v8(){return pR||(pR=1,function(t,e){(function(r){r(Gi(),DO())})(function(r){r.defineOption("foldGutter",!1,function(x,v,C){C&&C!=r.Init&&(x.clearGutter(x.state.foldGutter.options.gutter),x.state.foldGutter=null,x.off("gutterClick",h),x.off("changes",y),x.off("viewportChange",g),x.off("fold",E),x.off("unfold",E),x.off("swapDoc",y),x.off("optionChange",p)),v&&(x.state.foldGutter=new a(i(v)),c(x),x.on("gutterClick",h),x.on("changes",y),x.on("viewportChange",g),x.on("fold",E),x.on("unfold",E),x.on("swapDoc",y),x.on("optionChange",p))});var n=r.Pos;function a(x){this.options=x,this.from=this.to=0}function i(x){return x===!0&&(x={}),x.gutter==null&&(x.gutter="CodeMirror-foldgutter"),x.indicatorOpen==null&&(x.indicatorOpen="CodeMirror-foldgutter-open"),x.indicatorFolded==null&&(x.indicatorFolded="CodeMirror-foldgutter-folded"),x}function o(x,v){for(var C=x.findMarks(n(v,0),n(v+1,0)),w=0;w<C.length;++w)if(C[w].__isFold){var T=C[w].find(-1);if(T&&T.line===v)return C[w]}}function l(x){if(typeof x=="string"){var v=document.createElement("div");return v.className=x+" CodeMirror-guttermarker-subtle",v}else return x.cloneNode(!0)}function u(x,v,C){var w=x.state.foldGutter.options,T=v-1,A=x.foldOption(w,"minFoldSize"),_=x.foldOption(w,"rangeFinder"),D=typeof w.indicatorFolded=="string"&&f(w.indicatorFolded),R=typeof w.indicatorOpen=="string"&&f(w.indicatorOpen);x.eachLine(v,C,function(k){++T;var B=null,G=k.gutterMarkers;if(G&&(G=G[w.gutter]),o(x,T)){if(D&&G&&D.test(G.className))return;B=l(w.indicatorFolded)}else{var F=n(T,0),q=_&&_(x,F);if(q&&q.to.line-q.from.line>=A){if(R&&G&&R.test(G.className))return;B=l(w.indicatorOpen)}}!B&&!G||x.setGutterMarker(k,w.gutter,B)})}function f(x){return new RegExp("(^|\\s)"+x+"(?:$|\\s)\\s*")}function c(x){var v=x.getViewport(),C=x.state.foldGutter;C&&(x.operation(function(){u(x,v.from,v.to)}),C.from=v.from,C.to=v.to)}function h(x,v,C){var w=x.state.foldGutter;if(w){var T=w.options;if(C==T.gutter){var A=o(x,v);A?A.clear():x.foldCode(n(v,0),T)}}}function p(x,v){v=="mode"&&y(x)}function y(x){var v=x.state.foldGutter;if(v){var C=v.options;v.from=v.to=0,clearTimeout(v.changeUpdate),v.changeUpdate=setTimeout(function(){c(x)},C.foldOnChangeTimeSpan||600)}}function g(x){var v=x.state.foldGutter;if(v){var C=v.options;clearTimeout(v.changeUpdate),v.changeUpdate=setTimeout(function(){var w=x.getViewport();v.from==v.to||w.from-v.to>20||v.from-w.to>20?c(x):x.operation(function(){w.from<v.from&&(u(x,w.from,v.from),v.from=w.from),w.to>v.to&&(u(x,v.to,w.to),v.to=w.to)})},C.updateViewportTimeSpan||400)}}function E(x,v){var C=x.state.foldGutter;if(C){var w=v.line;w>=C.from&&w<C.to&&u(x,w,w+1)}}})}()),vR.exports}v8();var gR={exports:{}},yR;function p8(){return yR||(yR=1,function(t,e){(function(r){r(Gi())})(function(r){function n(a){return function(i,o){var l=o.line,u=i.getLine(l);function f(E){for(var x,v=o.ch,C=0;;){var w=v<=0?-1:u.lastIndexOf(E[0],v-1);if(w==-1){if(C==1)break;C=1,v=u.length;continue}if(C==1&&w<o.ch)break;if(x=i.getTokenTypeAt(r.Pos(l,w+1)),!/^(comment|string)/.test(x))return{ch:w+1,tokenType:x,pair:E};v=w-1}}function c(E){var x=1,v=i.lastLine(),C,w=E.ch,T;e:for(var A=l;A<=v;++A)for(var _=i.getLine(A),D=A==l?w:0;;){var R=_.indexOf(E.pair[0],D),k=_.indexOf(E.pair[1],D);if(R<0&&(R=_.length),k<0&&(k=_.length),D=Math.min(R,k),D==_.length)break;if(i.getTokenTypeAt(r.Pos(A,D+1))==E.tokenType){if(D==R)++x;else if(!--x){C=A,T=D;break e}}++D}return C==null||l==C?null:{from:r.Pos(l,w),to:r.Pos(C,T)}}for(var h=[],p=0;p<a.length;p++){var y=f(a[p]);y&&h.push(y)}h.sort(function(E,x){return E.ch-x.ch});for(var p=0;p<h.length;p++){var g=c(h[p]);if(g)return g}return null}}r.registerHelper("fold","brace",n([["{","}"],["[","]"]])),r.registerHelper("fold","brace-paren",n([["{","}"],["[","]"],["(",")"]])),r.registerHelper("fold","import",function(a,i){function o(p){if(p<a.firstLine()||p>a.lastLine())return null;var y=a.getTokenAt(r.Pos(p,1));if(/\S/.test(y.string)||(y=a.getTokenAt(r.Pos(p,y.end+1))),y.type!="keyword"||y.string!="import")return null;for(var g=p,E=Math.min(a.lastLine(),p+10);g<=E;++g){var x=a.getLine(g),v=x.indexOf(";");if(v!=-1)return{startCh:y.end,end:r.Pos(g,v)}}}var l=i.line,u=o(l),f;if(!u||o(l-1)||(f=o(l-2))&&f.end.line==l-1)return null;for(var c=u.end;;){var h=o(c.line+1);if(h==null)break;c=h.end}return{from:a.clipPos(r.Pos(l,u.startCh+1)),to:c}}),r.registerHelper("fold","include",function(a,i){function o(h){if(h<a.firstLine()||h>a.lastLine())return null;var p=a.getTokenAt(r.Pos(h,1));if(/\S/.test(p.string)||(p=a.getTokenAt(r.Pos(h,p.end+1))),p.type=="meta"&&p.string.slice(0,8)=="#include")return p.start+8}var l=i.line,u=o(l);if(u==null||o(l-1)!=null)return null;for(var f=l;;){var c=o(f+1);if(c==null)break;++f}return{from:r.Pos(l,u+1),to:a.clipPos(r.Pos(f))}})})}()),gR.exports}p8();const g8={class:"json-editor-panel"},y8={class:"editor-wrapper"},m8={class:"footer-section"},b8={key:0,class:"error-message"},w8={key:1,class:"status-text"},x8=_r({__name:"JsonEditorPanel",setup(t){const e=Mo(),{selectedElement:r}=ow(),n=wt(""),a=wt(null);let i=null,o=!1;const l=zt(()=>e.currentGraphElements),u=["id","type","nodeType","source","target","parent"],f=()=>{if(!i)return;i.getAllMarks().forEach(y=>y.clear()),i.getValue().split(`
`).forEach((y,g)=>{const x=y.trim().match(/"([^"]+)"\s*:/);x&&u.includes(x[1])&&(i==null||i.markText({line:g,ch:0},{line:g,ch:y.length},{readOnly:!0,className:"cm-protected"}))})};La(()=>{if(a.value){i=sw(a.value,{value:"[]",mode:{name:"javascript",json:!0},theme:"material-darker",lineNumbers:!0,tabSize:2,scrollbarStyle:"simple",lineWrapping:!1,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}),i.on("change",p=>{o||c(p.getValue())});const h=JSON.stringify(l.value,null,2);o=!0,i.setValue(h),f(),o=!1}}),_a(()=>{var h;if(i){const p=i.getWrapperElement();(h=p.parentNode)==null||h.removeChild(p),i=null}}),wr(l,h=>{if(!i)return;const p=i.getValue(),y=JSON.stringify(h,null,2);try{if(JSON.stringify(JSON.parse(p))===JSON.stringify(JSON.parse(y)))return}catch{if(p===y)return}o=!0,i.setValue(y),f(),o=!1},{deep:!0}),wr(r,async h=>{if(!h||!i)return;await nu();const p=`"id": "${h.id}"`,y=i.getSearchCursor(p);if(y.findNext()){const g=y.from(),E=i.getSearchCursor("{",g);if(E.findPrevious()){const x=E.from(),v=i.findMatchingBracket(x,!1);if(v&&v.to){const C={line:v.to.line,ch:v.to.ch+1};i.focus(),i.setSelection(x,C),i.scrollIntoView({from:x,to:C},50)}}}});const c=h=>{try{const p=JSON.parse(h);if(!Array.isArray(p))throw new Error("JSON must be an array of graph elements.");e.currentGraphId&&e.updateGraphElements(e.currentGraphId,p),n.value=""}catch(p){n.value=`Invalid JSON: ${p.message}`}};return(h,p)=>(rt(),ut("div",g8,[p[1]||(p[1]=Me("div",{class:"header-section"},[Me("h4",null,"Live Graph JSON"),Me("p",{class:"description"}," Edit the JSON below to see live updates on the canvas. Read-only fields are protected. ")],-1)),Me("div",y8,[Me("div",{ref_key:"editorContainer",ref:a,class:"json-editor-container"},null,512)]),Me("div",m8,[n.value?(rt(),ut("div",b8,dr(n.value),1)):(rt(),ut("span",w8,p[0]||(p[0]=[Me("i",{class:"fas fa-check-circle"},null,-1),St(" Live Sync Enabled ")])))])]))}}),C8=Kr(x8,[["__scopeId","data-v-4c23a820"]]),E8=_r({__name:"DropdownMenu",setup(t){const e=wt(!1),r=wt(null),n=()=>{e.value=!e.value},a=()=>{e.value=!1},i=o=>{r.value&&!r.value.contains(o.target)&&a()};return La(()=>{document.addEventListener("click",i,!0)}),_a(()=>{document.removeEventListener("click",i,!0)}),(o,l)=>(rt(),ut("div",{class:"menu-item-wrapper",ref_key:"dropdownRef",ref:r},[Me("div",{onClick:n,class:"menu-toggle"},[gs(o.$slots,"trigger",{},void 0,!0)]),st(p1,{name:"dropdown-animation"},{default:ht(()=>[e.value?(rt(),ut("div",{key:0,class:"dropdown-content",onClick:a},[gs(o.$slots,"content",{},void 0,!0)])):br("",!0)]),_:3})],512))}}),ao=Kr(E8,[["__scopeId","data-v-90292090"]]),T8={class:"navbar"},S8={class:"navbar-left"},A8={class:"navbar-menu"},L8=["onClick"],_8=["checked"],D8=["onClick"],M8={class:"navbar-center"},R8=["title"],P8={class:"navbar-right"},k8={class:"pane-toggles"},N8={class:"project-name"},O8=_r({__name:"TheNavbar",props:{projectName:{},activeGraphName:{},isGridEnabled:{type:Boolean},gridSize:{},currentMode:{},currentNodeType:{},isLeftSidebarOpen:{type:Boolean},isRightSidebarOpen:{type:Boolean},isModelValid:{type:Boolean}},emits:["update:isGridEnabled","update:gridSize","update:currentMode","update:currentNodeType","new-project","new-graph","save-current-graph","toggle-left-sidebar","toggle-right-sidebar","open-about-modal","open-export-modal","export-json","apply-layout","load-example","validate-model","show-validation-issues"],setup(t,{emit:e}){const r=t,n=e,a=zt(()=>r.projectName&&r.activeGraphName?`${r.projectName} — ${r.activeGraphName}`:r.projectName?r.projectName:"No Project Selected"),i=[{name:"Rats Model",key:"rats"}],o=u=>{n("update:currentNodeType",u),n("update:currentMode","add-node")},l=u=>{const f=u.target;n("update:gridSize",Number(f.value))};return(u,f)=>(rt(),ut("nav",T8,[Me("div",S8,[f[34]||(f[34]=Me("div",{class:"navbar-brand"},"DoodleBUGS",-1)),Me("div",A8,[st(ao,null,{trigger:ht(()=>[st(nr,{type:"ghost",size:"small"},{default:ht(()=>f[19]||(f[19]=[St("Project")])),_:1,__:[19]})]),content:ht(()=>[Me("a",{href:"#",onClick:f[0]||(f[0]=Ir(c=>n("new-project"),["prevent"]))},"New Project..."),Me("a",{href:"#",onClick:f[1]||(f[1]=Ir(c=>n("new-graph"),["prevent"]))},"New Graph..."),Me("a",{href:"#",onClick:f[2]||(f[2]=Ir(c=>n("save-current-graph"),["prevent"]))},"Save Current Graph")]),_:1}),st(ao,null,{trigger:ht(()=>[st(nr,{type:"ghost",size:"small"},{default:ht(()=>f[20]||(f[20]=[St("Export")])),_:1,__:[20]})]),content:ht(()=>[Me("a",{href:"#",onClick:f[3]||(f[3]=Ir(c=>n("open-export-modal","png"),["prevent"]))},"as PNG..."),Me("a",{href:"#",onClick:f[4]||(f[4]=Ir(c=>n("open-export-modal","jpg"),["prevent"]))},"as JPG..."),Me("a",{href:"#",onClick:f[5]||(f[5]=Ir(c=>n("open-export-modal","svg"),["prevent"]))},"as SVG..."),f[21]||(f[21]=Me("div",{class:"dropdown-divider"},null,-1)),Me("a",{href:"#",onClick:f[6]||(f[6]=Ir(c=>n("export-json"),["prevent"]))},"as JSON")]),_:1}),st(ao,null,{trigger:ht(()=>[st(nr,{type:"ghost",size:"small"},{default:ht(()=>f[22]||(f[22]=[St("Add")])),_:1,__:[22]})]),content:ht(()=>[f[23]||(f[23]=Me("div",{class:"dropdown-section-title"},"Nodes",-1)),(rt(!0),ut(Vt,null,Bn(Yt(id),c=>(rt(),ut("a",{key:c.nodeType,href:"#",onClick:Ir(h=>o(c.nodeType),["prevent"])},dr(c.label),9,L8))),128)),f[24]||(f[24]=Me("div",{class:"dropdown-divider"},null,-1)),Me("a",{href:"#",onClick:f[7]||(f[7]=Ir(c=>n("update:currentMode","add-edge"),["prevent"]))},"Add Edge")]),_:1}),st(ao,null,{trigger:ht(()=>[st(nr,{type:"ghost",size:"small"},{default:ht(()=>f[25]||(f[25]=[St("Layout")])),_:1,__:[25]})]),content:ht(()=>[Me("a",{href:"#",onClick:f[8]||(f[8]=Ir(c=>n("apply-layout","dagre"),["prevent"]))},"Dagre (Hierarchical)"),Me("a",{href:"#",onClick:f[9]||(f[9]=Ir(c=>n("apply-layout","fcose"),["prevent"]))},"fCoSE (Force-Directed)"),Me("a",{href:"#",onClick:f[10]||(f[10]=Ir(c=>n("apply-layout","preset"),["prevent"]))},"Reset to Preset")]),_:1}),st(ao,null,{trigger:ht(()=>[st(nr,{type:"ghost",size:"small"},{default:ht(()=>f[26]||(f[26]=[St("View")])),_:1,__:[26]})]),content:ht(()=>[Me("label",{class:"dropdown-checkbox",onClick:f[12]||(f[12]=Ir(()=>{},["stop"]))},[Me("input",{type:"checkbox",checked:u.isGridEnabled,onChange:f[11]||(f[11]=c=>n("update:isGridEnabled",c.target.checked))},null,40,_8),f[27]||(f[27]=St(" Show Grid "))]),Me("div",{class:"dropdown-input-group",onClick:f[13]||(f[13]=Ir(()=>{},["stop"]))},[f[28]||(f[28]=Me("label",{for:"grid-size-nav"},"Grid Size:",-1)),st(Ta,{id:"grid-size-nav",type:"number","model-value":u.gridSize,onInput:l,min:"10",max:"100",step:"5",class:"w-20"},null,8,["model-value"]),f[29]||(f[29]=Me("span",null,"px",-1))])]),_:1}),st(ao,null,{trigger:ht(()=>[st(nr,{type:"ghost",size:"small"},{default:ht(()=>f[30]||(f[30]=[St("Examples")])),_:1,__:[30]})]),content:ht(()=>[(rt(),ut(Vt,null,Bn(i,c=>Me("a",{key:c.key,href:"#",onClick:Ir(h=>n("load-example",c.key),["prevent"])},dr(c.name),9,D8)),64))]),_:1}),st(ao,null,{trigger:ht(()=>[st(nr,{type:"ghost",size:"small"},{default:ht(()=>f[31]||(f[31]=[St("Help")])),_:1,__:[31]})]),content:ht(()=>[Me("a",{href:"#",onClick:f[14]||(f[14]=Ir(c=>n("open-about-modal"),["prevent"]))},"About DoodleBUGS"),f[32]||(f[32]=Me("span",{class:"dropdown-item-placeholder"},"Documentation (Coming Soon)",-1)),f[33]||(f[33]=Me("a",{href:"https://github.com/TuringLang/JuliaBUGS.jl/issues/new?template=doodlebugs.md",target:"_blank",rel:"noopener noreferrer",class:"report-issue-link"},[St(" Report an Issue "),Me("i",{class:"fas fa-external-link-alt external-link-icon"})],-1))]),_:1})])]),Me("div",M8,[st(nr,{onClick:f[15]||(f[15]=c=>n("validate-model")),type:"ghost",size:"small",title:"Re-run model validation"},{default:ht(()=>f[35]||(f[35]=[Me("i",{class:"fas fa-sync-alt"},null,-1),St(" Validate ")])),_:1,__:[35]}),Me("div",{onClick:f[16]||(f[16]=c=>n("show-validation-issues")),class:Xt(["validation-status",u.isModelValid?"valid":"invalid"]),title:u.isModelValid?"Model is valid":"Model has errors. Click to see details."},[Me("i",{class:Xt(u.isModelValid?"fas fa-check-circle":"fas fa-exclamation-triangle")},null,2)],10,R8)]),Me("div",P8,[Me("div",k8,[Me("button",{onClick:f[17]||(f[17]=c=>n("toggle-left-sidebar")),class:Xt({active:u.isLeftSidebarOpen}),title:"Toggle Left Sidebar"},f[36]||(f[36]=[Me("svg",{viewBox:"0 0 64 64",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[Me("path",{d:"M49.984,56l-35.989,0c-3.309,0 -5.995,-2.686 -5.995,-5.995l0,-36.011c0,-3.308 2.686,-5.995 5.995,-5.995l35.989,0c3.309,0 5.995,2.687 5.995,5.995l0,36.011c0,3.309 -2.686,5.995 -5.995,5.995Zm-25.984,-4.001l0,-39.999l-9.012,0c-1.65,0 -2.989,1.339 -2.989,2.989l0,34.021c0,1.65 1.339,2.989 2.989,2.989l9.012,0Zm24.991,-39.999l-20.991,0l0,39.999l20.991,0c1.65,0 2.989,-1.339 2.989,-2.989l0,-34.021c0,-1.65 -1.339,-2.989 -2.989,-2.989Z"})],-1)]),2),Me("button",{onClick:f[18]||(f[18]=c=>n("toggle-right-sidebar")),class:Xt({active:u.isRightSidebarOpen}),title:"Toggle Right Sidebar"},f[37]||(f[37]=[Me("svg",{viewBox:"0 0 64 64",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",transform:"matrix(-1, 0, 0, 1, 0, 0)"},[Me("path",{d:"M49.984,56l-35.989,0c-3.309,0 -5.995,-2.686 -5.995,-5.995l0,-36.011c0,-3.308 2.686,-5.995 5.995,-5.995l35.989,0c3.309,0 5.995,2.687 5.995,5.995l0,36.011c0,3.309 -2.686,5.995 -5.995,5.995Zm-25.984,-4.001l0,-39.999l-9.012,0c-1.65,0 -2.989,1.339 -2.989,2.989l0,34.021c0,1.65 1.339,2.989 2.989,2.989l9.012,0Zm24.991,-39.999l-20.991,0l0,39.999l20.991,0c1.65,0 2.989,-1.339 2.989,-2.989l0,-34.021c0,-1.65 -1.339,-2.989 -2.989,-2.989Z"})],-1)]),2)]),Me("span",N8,dr(a.value),1)])]))}}),I8=Kr(O8,[["__scopeId","data-v-989968bf"]]),F8=_r({__name:"AboutModal",props:{isOpen:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const r=e;return(n,a)=>(rt(),la(Co,{"is-open":n.isOpen,onClose:a[1]||(a[1]=i=>r("close"))},{header:ht(()=>a[2]||(a[2]=[Me("h3",null,"About DoodleBUGS",-1)])),body:ht(()=>a[3]||(a[3]=[Me("div",{class:"about-content"},[Me("p",null,[Me("strong",null,"DoodleBUGS"),St(" is a graphical modeling tool designed to simplify the creation of Bayesian models for analysis with BUGS language -- "),Me("a",{href:"https://github.com/TuringLang/JuliaBUGS.jl",target:"_blank",rel:"noopener noreferrer"},"JuliaBUGS.jl"),St(". ")]),Me("p",null," Our goal is to provide an intuitive, visual interface for statisticians, researchers, and students to build, understand, and share complex probabilistic models. "),Me("hr"),Me("p",null,[Me("strong",null,"Version:"),St(" Alpha Phase -- We are just experimenting with things now!")])],-1)])),footer:ht(()=>[Me("button",{onClick:a[0]||(a[0]=i=>r("close")),class:"primary"},"Close")]),_:1},8,["is-open"]))}}),B8=Kr(F8,[["__scopeId","data-v-1155d993"]]),q8={class:"export-options-form"},z8={class:"form-group"},G8={class:"form-group checkbox-group"},H8={class:"form-group"},U8={class:"form-group"},W8={class:"form-group"},V8={key:1,class:"form-group"},$8=_r({__name:"ExportModal",props:{isOpen:{type:Boolean},exportType:{}},emits:["close","confirm-export"],setup(t,{emit:e}){const r=t,n=e,a=wt({bg:"#ffffff",full:!0,scale:2,quality:.92,maxWidth:"",maxHeight:""});wr(()=>r.isOpen,l=>{l&&(a.value={bg:r.exportType==="png"||r.exportType==="svg"?"transparent":"#ffffff",full:!0,scale:2,quality:.92,maxWidth:"",maxHeight:""})});const i=zt(()=>r.exportType?`Export as ${r.exportType.toUpperCase()}`:"Export"),o=()=>{const l={bg:a.value.bg,full:a.value.full,scale:a.value.scale};r.exportType==="jpg"&&(l.quality=a.value.quality),a.value.maxWidth&&(l.maxWidth=Number(a.value.maxWidth)),a.value.maxHeight&&(l.maxHeight=Number(a.value.maxHeight)),n("confirm-export",l),n("close")};return(l,u)=>(rt(),la(Co,{"is-open":l.isOpen,onClose:u[7]||(u[7]=f=>l.$emit("close"))},{header:ht(()=>[Me("h3",null,dr(i.value),1)]),body:ht(()=>[Me("div",q8,[Me("div",z8,[u[8]||(u[8]=Me("label",{for:"export-bg"},"Background Color:",-1)),st(Ta,{id:"export-bg",type:"color",modelValue:a.value.bg,"onUpdate:modelValue":u[0]||(u[0]=f=>a.value.bg=f)},null,8,["modelValue"])]),Me("div",G8,[u[9]||(u[9]=Me("label",{for:"export-full"},"Export Full Graph:",-1)),Wn(Me("input",{id:"export-full",type:"checkbox","onUpdate:modelValue":u[1]||(u[1]=f=>a.value.full=f)},null,512),[[PP,a.value.full]]),u[10]||(u[10]=Me("small",{class:"help-text"},"(Uncheck to export current view only)",-1))]),Me("div",H8,[u[11]||(u[11]=Me("label",{for:"export-scale"},"Scale:",-1)),st(Ta,{id:"export-scale",type:"number",modelValue:a.value.scale,"onUpdate:modelValue":u[2]||(u[2]=f=>a.value.scale=f),modelModifiers:{number:!0},min:"0.1",step:"0.1"},null,8,["modelValue"])]),l.exportType==="png"||l.exportType==="jpg"?(rt(),ut(Vt,{key:0},[Me("div",U8,[u[12]||(u[12]=Me("label",{for:"export-maxWidth"},"Max Width (optional):",-1)),st(Ta,{id:"export-maxWidth",type:"number",modelValue:a.value.maxWidth,"onUpdate:modelValue":u[3]||(u[3]=f=>a.value.maxWidth=f),placeholder:"e.g., 1920"},null,8,["modelValue"])]),Me("div",W8,[u[13]||(u[13]=Me("label",{for:"export-maxHeight"},"Max Height (optional):",-1)),st(Ta,{id:"export-maxHeight",type:"number",modelValue:a.value.maxHeight,"onUpdate:modelValue":u[4]||(u[4]=f=>a.value.maxHeight=f),placeholder:"e.g., 1080"},null,8,["modelValue"])])],64)):br("",!0),l.exportType==="jpg"?(rt(),ut("div",V8,[u[14]||(u[14]=Me("label",{for:"export-quality"},"JPG Quality (0 to 1):",-1)),Wn(Me("input",{id:"export-quality",type:"range","onUpdate:modelValue":u[5]||(u[5]=f=>a.value.quality=f),min:"0",max:"1",step:"0.01"},null,512),[[eq,a.value.quality,void 0,{number:!0}]]),Me("span",null,dr(a.value.quality.toFixed(2)),1)])):br("",!0)])]),footer:ht(()=>[st(nr,{onClick:u[6]||(u[6]=f=>l.$emit("close")),type:"secondary"},{default:ht(()=>u[15]||(u[15]=[St("Cancel")])),_:1,__:[15]}),st(nr,{onClick:o,type:"primary"},{default:ht(()=>u[16]||(u[16]=[St("Export")])),_:1,__:[16]})]),_:1},8,["is-open"]))}}),Y8=Kr($8,[["__scopeId","data-v-01dc89bb"]]),X8={key:0,class:"no-issues"},K8={key:1,class:"issues-list"},j8=["onClick"],Z8={class:"error-details"},Q8={key:0,class:"fas fa-check"},J8={key:1},eY=_r({__name:"ValidationIssuesModal",props:{isOpen:{type:Boolean},validationErrors:{},elements:{}},emits:["close","select-node"],setup(t,{emit:e}){const r=t,n=e,a=wt(!1),i=zt(()=>{const f=new Map;for(const c of r.elements)c.type==="node"&&f.set(c.id,c);return f}),o=zt(()=>{const f=[];for(const[c,h]of r.validationErrors.entries()){const p=i.value.get(c);p&&f.push({nodeId:c,nodeName:p.name,errors:h})}return f.sort((c,h)=>c.nodeName.localeCompare(h.nodeName)),f}),l=f=>{n("select-node",f),n("close")},u=()=>{const f=o.value.map(c=>{const h=c.errors.map(p=>`- ${p.message}`).join(`
`);return`Node: ${c.nodeName}
${h}`}).join(`

`);navigator.clipboard.writeText(f).then(()=>{a.value=!0,setTimeout(()=>{a.value=!1},2e3)}).catch(c=>{console.error("Failed to copy validation logs: ",c),alert("Could not copy logs to clipboard.")})};return(f,c)=>(rt(),la(Co,{"is-open":f.isOpen,onClose:c[1]||(c[1]=h=>n("close"))},{header:ht(()=>c[2]||(c[2]=[Me("h3",null,"Model Validation Issues",-1)])),body:ht(()=>[o.value.length===0?(rt(),ut("div",X8,c[3]||(c[3]=[Me("i",{class:"fas fa-check-circle"},null,-1),Me("p",null,"No validation issues found. The model appears to be valid!",-1)]))):(rt(),ut("div",K8,[(rt(!0),ut(Vt,null,Bn(o.value,h=>(rt(),ut("div",{key:h.nodeId,class:"issue-item"},[Me("div",{class:"issue-header",onClick:p=>l(h.nodeId),title:"Click to select node"},[Me("strong",null,"Node: "+dr(h.nodeName),1),c[4]||(c[4]=Me("i",{class:"fas fa-crosshairs"},null,-1))],8,j8),Me("ul",Z8,[(rt(!0),ut(Vt,null,Bn(h.errors,(p,y)=>(rt(),ut("li",{key:y},dr(p.message),1))),128))])]))),128))]))]),footer:ht(()=>[o.value.length>0?(rt(),la(nr,{key:0,onClick:u,type:"secondary"},{default:ht(()=>[a.value?(rt(),ut("i",Q8)):(rt(),ut("span",J8,"Copy Logs"))]),_:1})):br("",!0),st(nr,{onClick:c[0]||(c[0]=h=>n("close")),type:"primary"},{default:ht(()=>c[5]||(c[5]=[St("Close")])),_:1,__:[5]})]),_:1},8,["is-open"]))}}),tY=Kr(eY,[["__scopeId","data-v-15f9cbdc"]]),rY=Ec("ui",()=>{const t=wt(localStorage.getItem("doodlebugs-activeRightTab")||"properties"),e=wt(localStorage.getItem("doodlebugs-isRightTabPinned")==="true"),r=wt(parseInt(localStorage.getItem("doodlebugs-leftSidebarWidth")||"330")),n=wt(parseInt(localStorage.getItem("doodlebugs-rightSidebarWidth")||"320"));return wr(t,o=>{localStorage.setItem("doodlebugs-activeRightTab",o)}),wr(e,o=>{localStorage.setItem("doodlebugs-isRightTabPinned",o.toString())}),wr(r,o=>{localStorage.setItem("doodlebugs-leftSidebarWidth",o.toString())}),wr(n,o=>{localStorage.setItem("doodlebugs-rightSidebarWidth",o.toString())}),{activeRightTab:t,isRightTabPinned:e,setActiveRightTab:o=>{t.value=o},toggleRightTabPinned:()=>{e.value=!e.value},leftSidebarWidth:r,rightSidebarWidth:n}}),nY=new Set(["sqrt","log","exp","sin","cos","tan","abs","round","trunc","step","mean","sum","prod","sd","var","min","max","inverse","logdet","logit","probit","cloglog","phi"]);function aY(t,e){const r=wt(new Map),n=()=>{const a=new Map,i=t.value.filter(c=>c.type==="node"),o=t.value.filter(c=>c.type==="edge"),l=new Map(i.map(c=>[c.id,c])),u=new Set(Object.keys(e.value.data)),f=new Set(i.map(c=>c.name));i.forEach(c=>{var y;const h=[];if(c.nodeType==="stochastic"||c.nodeType==="observed"){const g=LO(c.distribution||"");if(g&&g.paramCount!==void 0){let x=o.filter(T=>T.target===c.id).length;const v=[c.param1,c.param2,c.param3].filter(T=>T&&String(T).trim()!==""),C=v.filter(T=>f.has(T)),w=v.length-C.length;x+=w,x!==g.paramCount&&h.push({field:"distribution",message:`Invalid number of inputs. ${g.label} expects ${g.paramCount}, but found ${x}.`})}}if(c.nodeType==="deterministic")if(!((y=c.equation)!=null&&y.trim()))h.push({field:"equation",message:"Deterministic node must have an equation."});else{const g=new Set;let E=c;for(;E!=null&&E.parent;){const C=l.get(E.parent);C&&C.nodeType==="plate"&&C.loopVariable&&g.add(C.loopVariable),E=C}const x=new Set(c.equation.match(/[a-zA-Z_][a-zA-Z0-9_.]*/g)||[]),v=new Set(o.filter(C=>C.target===c.id).map(C=>{var w;return(w=l.get(C.source))==null?void 0:w.name}).filter(C=>!!C));x.forEach(C=>{if(nY.has(C))return;const w=C.split("[")[0];!v.has(w)&&!g.has(w)&&h.push({field:"equation",message:`Variable '${w}' in equation is not a parent or an available loop index.`})})}c.observed&&!u.has(c.name)&&h.push({field:"name",message:`Node is marked as observed, but no data found for '${c.name}'.`});const p=c.name.split("[")[0].trim();/^[a-zA-Z][a-zA-Z0-9.]*$/.test(p)||h.push({field:"name",message:`Base name '${p}' is not a valid BUGS variable name.`}),h.length>0&&a.set(c.id,h)}),r.value=a};return wr([t,e],n,{deep:!0,immediate:!0}),{validateGraph:n,validationErrors:r}}const iY={class:"main-layout"},oY={class:"content-area"},sY={class:"vertical-tabs-container"},lY={class:"graph-editor-wrapper"},uY={class:"tabs-header"},fY={class:"tab-buttons"},cY={class:"tabs-content"},dY={class:"tab-pane"},hY={class:"tab-pane"},vY={class:"tab-pane"},pY=_r({__name:"MainLayout",setup(t){const e=_O(),r=Mo(),n=rY(),a=od(),{parsedGraphData:i}=Rb(a),{elements:o,selectedElement:l,updateElement:u,deleteElement:f}=ow(),{getCyInstance:c}=iw(),{validateGraph:h,validationErrors:p}=aY(o,i),y=wt("project"),g=wt(!0),E=wt(!0),x=wt("select"),v=wt("stochastic"),C=wt(!0),w=wt(20),T=wt(!1),A=wt(!1),_=wt(!1),D=wt(""),R=wt(!1),k=wt(""),B=wt(!1),G=wt(!1),F=wt(!1),q=wt(null);La(()=>{e.loadProjects(),e.projects.length===0&&(e.createProject("Default Project"),e.currentProjectId&&e.addGraphToProject(e.currentProjectId,"Untitled Graph"));const Ce=localStorage.getItem("doodlebugs-currentGraphId");if(Ce){const ue=e.currentProject;ue&&ue.graphs.some(Ae=>Ae.id===Ce)&&r.selectGraph(Ce)}h()});const M=zt(()=>{var Ce;return((Ce=e.currentProject)==null?void 0:Ce.name)||null}),P=zt(()=>{if(e.currentProject&&r.currentGraphId){const Ce=e.currentProject.graphs.find(ue=>ue.id===r.currentGraphId);return(Ce==null?void 0:Ce.name)||null}return null}),N=Ce=>{y.value===Ce&&g.value?g.value=!1:(g.value=!0,y.value=Ce)},I=()=>{g.value=!g.value},z=()=>{E.value=!E.value},ae=zt(()=>({width:g.value?`${n.leftSidebarWidth}px`:"var(--vertical-tab-width)",transition:T.value?"none":"width 0.3s ease-in-out"})),re=zt(()=>({width:`${n.leftSidebarWidth-50}px`,opacity:g.value?"1":"0",pointerEvents:g.value?"auto":"none"})),K=zt(()=>({width:E.value?`${n.rightSidebarWidth}px`:"0",opacity:E.value?"1":"0",pointerEvents:E.value?"auto":"none",borderLeft:E.value?"1px solid var(--color-border)":"none",transition:A.value?"none":"width 0.3s ease-in-out, opacity 0.3s ease-in-out"})),W=()=>{T.value=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",Z),window.addEventListener("mouseup",Y)},Z=Ce=>{if(T.value){const ue=Ce.clientX;n.leftSidebarWidth=Math.max(250,Math.min(ue,600))}},U=()=>{A.value=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",V),window.addEventListener("mouseup",Y)},V=Ce=>{if(A.value){const ue=window.innerWidth-Ce.clientX;n.rightSidebarWidth=Math.max(280,Math.min(ue,600))}},Y=()=>{T.value=!1,A.value=!1,document.body.style.cursor="",document.body.style.userSelect="",window.removeEventListener("mousemove",Z),window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",Y)};_a(()=>{Y()});const ee=Ce=>{l.value=Ce,Ce&&!n.isRightTabPinned&&n.setActiveRightTab("properties")},oe=Ce=>{const ue=o.value.find(Ae=>Ae.id===Ce);if(ue){ee(ue);const Ae=c();Ae&&(Ae.elements().unselect(),Ae.getElementById(Ce).select(),Ae.animate({center:{eles:Ae.getElementById(Ce)},zoom:1.2,duration:500}))}},te=Ce=>{u(Ce)},ie=Ce=>{f(Ce)},se=Ce=>{Ce==="add-edge"?x.value="add-edge":(x.value="add-node",v.value=Ce),g.value=!1},$=()=>{D.value.trim()&&(e.createProject(D.value.trim()),_.value=!1,D.value="",y.value="project",g.value=!0)},ne=()=>{e.currentProject&&k.value.trim()&&(e.addGraphToProject(e.currentProject.id,k.value.trim()),R.value=!1,k.value="")},le=()=>{r.currentGraphId?r.saveGraph(r.currentGraphId,r.graphContents.get(r.currentGraphId)):console.warn("No graph currently selected to save.")},Se=(Ce,ue)=>{const Ae=URL.createObjectURL(Ce),Pe=document.createElement("a");Pe.href=Ae,Pe.download=ue,document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),URL.revokeObjectURL(Ae)},_e=()=>{if(!r.currentGraphId){alert("Please select a graph to export.");return}const Ce=r.currentGraphElements,ue=JSON.stringify(Ce,null,2),Ae=new Blob([ue],{type:"application/json"}),Pe=`${P.value||"graph"}.json`;Se(Ae,Pe)},be=Ce=>{if(!r.currentGraphId){alert("Please select a graph to export.");return}q.value=Ce,F.value=!0},Te=Ce=>{const ue=c();if(!ue||!q.value)return;const Ae=`${P.value||"graph"}.${q.value}`;try{let Pe;if(q.value==="svg"){const Fe=ue.svg(Ce);Pe=new Blob([Fe],{type:"image/svg+xml;charset=utf-8"})}else q.value==="jpg"?Pe=ue.jpg({...Ce,output:"blob"}):Pe=ue.png({...Ce,output:"blob"});Se(Pe,Ae)}catch(Pe){console.error(`Failed to export ${q.value}:`,Pe),alert("An error occurred while exporting the graph. Please check the console.")}},ve=Ce=>{const ue=c();if(!ue)return;const Ae={name:Ce,animate:!0,padding:50,fit:!0,...Ce==="dagre"&&{rankDir:"TB",spacingFactor:1.2},...Ce==="fcose"&&{idealEdgeLength:120,nodeSeparation:150,nodeRepulsion:4500,quality:"proof"}},Pe=ue.layout(Ae);Pe.on("layoutstop",()=>{ue.nodes().map(Ye=>{const We=r.currentGraphElements.find(Qe=>Qe.id===Ye.id()&&Qe.type==="node");return We?{...We,position:Ye.position()}:null}).filter(Ye=>Ye!==null).forEach(Ye=>u(Ye))}),Pe.run()},de=async Ce=>{if(!e.currentProjectId){alert("Please create or select a project before loading an example.");return}try{const ue="/JuliaBUGS.jl/DoodleBUGS/pr-previews/347/",Ae=`${ue}examples/${Ce}/model.json`,Pe=`${ue}examples/${Ce}/data.json`,[Fe,Ye]=await Promise.all([fetch(Ae),fetch(Pe)]);if(!Fe.ok)throw new Error(`Could not fetch example model: ${Fe.statusText}`);const We=await Fe.json(),Qe=e.addGraphToProject(e.currentProjectId,We.name);if(Qe&&(r.updateGraphElements(Qe.id,We.graphJSON),Ye.ok)){const Xe=await Ye.json();a.currentGraphDataString=JSON.stringify(Xe,null,2)}setTimeout(()=>ve("dagre"),100)}catch(ue){console.error("Failed to load example model:",ue),alert("Failed to load the example model. See console for details.")}},ye=zt(()=>p.value.size===0);return(Ce,ue)=>(rt(),ut("div",iY,[st(I8,{"project-name":M.value,"active-graph-name":P.value,"is-grid-enabled":C.value,"onUpdate:isGridEnabled":ue[0]||(ue[0]=Ae=>C.value=Ae),"grid-size":w.value,"onUpdate:gridSize":ue[1]||(ue[1]=Ae=>w.value=Ae),"current-mode":x.value,"onUpdate:currentMode":ue[2]||(ue[2]=Ae=>x.value=Ae),"current-node-type":v.value,"onUpdate:currentNodeType":ue[3]||(ue[3]=Ae=>v.value=Ae),"is-left-sidebar-open":g.value,"is-right-sidebar-open":E.value,onToggleLeftSidebar:I,onToggleRightSidebar:z,onNewProject:ue[4]||(ue[4]=Ae=>_.value=!0),onNewGraph:ue[5]||(ue[5]=Ae=>R.value=!0),onSaveCurrentGraph:le,onOpenAboutModal:ue[6]||(ue[6]=Ae=>B.value=!0),onExportJson:_e,onOpenExportModal:be,onApplyLayout:ve,onLoadExample:de,onValidateModel:Yt(h),"is-model-valid":ye.value,onShowValidationIssues:ue[7]||(ue[7]=Ae=>G.value=!0)},null,8,["project-name","active-graph-name","is-grid-enabled","grid-size","current-mode","current-node-type","is-left-sidebar-open","is-right-sidebar-open","onValidateModel","is-model-valid"]),Me("div",oY,[Me("aside",{class:"left-sidebar",style:Ci(ae.value)},[Me("div",sY,[Me("button",{class:Xt({active:y.value==="project"}),onClick:ue[8]||(ue[8]=Ae=>N("project")),title:"Project Manager"},[ue[28]||(ue[28]=Me("i",{class:"fas fa-folder"},null,-1)),ue[29]||(ue[29]=St()),Wn(Me("span",null,"Project",512),[[Ga,g.value]])],2),Me("button",{class:Xt({active:y.value==="palette"}),onClick:ue[9]||(ue[9]=Ae=>N("palette")),title:"Node Palette"},[ue[30]||(ue[30]=Me("i",{class:"fas fa-shapes"},null,-1)),ue[31]||(ue[31]=St()),Wn(Me("span",null,"Palette",512),[[Ga,g.value]])],2),Me("button",{class:Xt({active:y.value==="data"}),onClick:ue[10]||(ue[10]=Ae=>N("data")),title:"Data Input"},[ue[32]||(ue[32]=Me("i",{class:"fas fa-database"},null,-1)),ue[33]||(ue[33]=St()),Wn(Me("span",null,"Data",512),[[Ga,g.value]])],2)]),Me("div",{class:"left-sidebar-content",style:Ci(re.value)},[Wn(Me("div",null,[st(b9,{onNewProject:ue[11]||(ue[11]=Ae=>_.value=!0),onNewGraph:ue[12]||(ue[12]=Ae=>R.value=!0)})],512),[[Ga,y.value==="project"]]),Wn(Me("div",null,[st(M9,{onSelectPaletteItem:se})],512),[[Ga,y.value==="palette"]]),Wn(Me("div",null,[st(F9)],512),[[Ga,y.value==="data"]])],4)],4),Me("div",{class:"resizer resizer-left",onMousedown:Ir(W,["prevent"])},null,32),Me("main",lY,[st(e9,{"is-grid-enabled":C.value,"grid-size":w.value,"current-mode":x.value,elements:Yt(o),"current-node-type":v.value,"validation-errors":Yt(p),"onUpdate:currentMode":ue[13]||(ue[13]=Ae=>x.value=Ae),"onUpdate:currentNodeType":ue[14]||(ue[14]=Ae=>v.value=Ae),onElementSelected:ee},null,8,["is-grid-enabled","grid-size","current-mode","elements","current-node-type","validation-errors"])]),Me("div",{class:"resizer resizer-right",onMousedown:Ir(U,["prevent"])},null,32),Me("aside",{class:"right-sidebar",style:Ci(K.value)},[Me("div",uY,[Me("div",fY,[Me("button",{class:Xt({active:Yt(n).activeRightTab==="properties"}),onClick:ue[15]||(ue[15]=Ae=>Yt(n).setActiveRightTab("properties"))},"Properties",2),Me("button",{class:Xt({active:Yt(n).activeRightTab==="code"}),onClick:ue[16]||(ue[16]=Ae=>Yt(n).setActiveRightTab("code"))},"Code",2),Me("button",{class:Xt({active:Yt(n).activeRightTab==="json"}),onClick:ue[17]||(ue[17]=Ae=>Yt(n).setActiveRightTab("json"))},"JSON",2)]),Me("button",{onClick:ue[18]||(ue[18]=Ae=>Yt(n).toggleRightTabPinned()),class:Xt(["pin-button",{pinned:Yt(n).isRightTabPinned}]),title:"Pin Tab"},ue[34]||(ue[34]=[Me("i",{class:"fas fa-thumbtack"},null,-1)]),2)]),Me("div",cY,[Wn(Me("div",dY,[st(n8,{"selected-element":Yt(l),"validation-errors":Yt(p),onUpdateElement:te,onDeleteElement:ie},null,8,["selected-element","validation-errors"])],512),[[Ga,Yt(n).activeRightTab==="properties"]]),Wn(Me("div",hY,[st(c8)],512),[[Ga,Yt(n).activeRightTab==="code"]]),Wn(Me("div",vY,[st(C8)],512),[[Ga,Yt(n).activeRightTab==="json"]])])],4)]),st(Co,{"is-open":_.value,onClose:ue[21]||(ue[21]=Ae=>_.value=!1)},{header:ht(()=>ue[35]||(ue[35]=[Me("h3",null,"Create New Project",-1)])),body:ht(()=>[ue[36]||(ue[36]=Me("label",{for:"new-project-name",style:{display:"block","margin-bottom":"8px","font-weight":"500"}},"Project Name:",-1)),st(Ta,{id:"new-project-name",modelValue:D.value,"onUpdate:modelValue":ue[19]||(ue[19]=Ae=>D.value=Ae),placeholder:"Enter project name",onKeyup:HC($,["enter"])},null,8,["modelValue"])]),footer:ht(()=>[st(nr,{onClick:ue[20]||(ue[20]=Ae=>_.value=!1),type:"secondary"},{default:ht(()=>ue[37]||(ue[37]=[St("Cancel")])),_:1,__:[37]}),st(nr,{onClick:$,type:"primary"},{default:ht(()=>ue[38]||(ue[38]=[St("Create")])),_:1,__:[38]})]),_:1},8,["is-open"]),st(Co,{"is-open":R.value,onClose:ue[24]||(ue[24]=Ae=>R.value=!1)},{header:ht(()=>ue[39]||(ue[39]=[Me("h3",null,"Create New Graph",-1)])),body:ht(()=>[ue[40]||(ue[40]=Me("label",{for:"new-graph-name",style:{display:"block","margin-bottom":"8px","font-weight":"500"}},"Graph Name:",-1)),st(Ta,{id:"new-graph-name",modelValue:k.value,"onUpdate:modelValue":ue[22]||(ue[22]=Ae=>k.value=Ae),placeholder:"Enter graph name",onKeyup:HC(ne,["enter"])},null,8,["modelValue"])]),footer:ht(()=>[st(nr,{onClick:ue[23]||(ue[23]=Ae=>R.value=!1),type:"secondary"},{default:ht(()=>ue[41]||(ue[41]=[St("Cancel")])),_:1,__:[41]}),st(nr,{onClick:ne,type:"primary"},{default:ht(()=>ue[42]||(ue[42]=[St("Create")])),_:1,__:[42]})]),_:1},8,["is-open"]),st(B8,{"is-open":B.value,onClose:ue[25]||(ue[25]=Ae=>B.value=!1)},null,8,["is-open"]),st(Y8,{"is-open":F.value,"export-type":q.value,onClose:ue[26]||(ue[26]=Ae=>F.value=!1),onConfirmExport:Te},null,8,["is-open","export-type"]),st(tY,{"is-open":G.value,"validation-errors":Yt(p),elements:Yt(o),onClose:ue[27]||(ue[27]=Ae=>G.value=!1),onSelectNode:oe},null,8,["is-open","validation-errors","elements"])]))}}),gY=Kr(pY,[["__scopeId","data-v-43995b19"]]),yY=_r({__name:"App",setup(t){return(e,r)=>(rt(),la(gY))}}),MO=sq(yY);MO.use(fq());MO.mount("#app");
