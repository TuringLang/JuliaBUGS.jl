<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>General · JuliaBUGS.jl</title><meta name="title" content="General · JuliaBUGS.jl"/><meta property="og:title" content="General · JuliaBUGS.jl"/><meta property="twitter:title" content="General · JuliaBUGS.jl"/><meta name="description" content="Documentation for JuliaBUGS.jl."/><meta property="og:description" content="Documentation for JuliaBUGS.jl."/><meta property="twitter:description" content="Documentation for JuliaBUGS.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body>
<!-- NAVBAR START -->
<style>
    @import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap');

    /* Documenter.jl CSS Overrides */
    html {
        scroll-padding-top: calc(var(--navbar-height) + 1rem);
    }
    .docs-sidebar, #documenter {
        margin-top: var(--navbar-height);
    }
    .docs-version-selector {
        margin-bottom: 60px !important;
    }
    @media screen and (max-width: 1056px) {
        .docs-version-selector {
            margin-bottom: 60px !important;
        }
        .docs-sidebar {
            margin-top: 0 !important;
        }
    }
    /* End of Documenter.jl Tweaks */

    /* Color and Font Variables */
    :root {
        --heading-color: #6c757d;
        --item-color: rgb(165, 165, 165);
        --primary-bg: white;
        --hover-color: #8faad2;
        --deprecated-bg: #ff4d4d;
        --deprecated-text: white;
        --icon-color: #6c757d;
        --shadow-color: rgba(0, 0, 0, 0.1);
        --dropdown-hover-bg: #e9ecef;
        
        /* Typography */
        --font-family: "Source Sans Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        --nav-link-font-size: 1.0625rem;
        --turing-title-font-size: 21.25px;
        --icon-font-size: 1.25rem;
        --dropdown-arrow-font-size: 0.6875rem;
        --badge-font-size: 0.75rem;

        /* Sizing and Spacing */
        --navbar-height: 3.75rem;
        --logo-height: 31.18px;
        --logo-width: 52.47px;
        --logo-padding-top: 7px;
        --logo-margin-left: 0.3rem;
        --title-margin-left: 0.4px;
        --title-nav-spacing: 1.7rem;
        --nav-item-margin-left: 1.3rem;
        --icon-margin-left: 1rem;
        --dropdown-padding: 1.875rem;
        --dropdown-item-width: 12.5rem;
        --dropdown-subitem-width: 15.625rem;
        --dropdown-subitem-padding: 0.125rem 0.625rem;
    }

    /* Dark Theme Variable Overrides */
    html.theme--documenter-dark {
        --heading-color: #e0e0e0;
        --item-color: #bdbdbd;
        --primary-bg: #1f2424;
        --hover-color: #ffffff;
        --icon-color: #e0e0e0;
        --shadow-color: rgba(255, 255, 255, 0.1);
        --dropdown-hover-bg: #424242;
    }

    /* Catppuccin Theme Overrides */
    html.theme--catppuccin-latte {
        --heading-color: #4c4f69;
        --primary-bg: #eff1f5;
        --icon-color: #4c4f69;
        --shadow-color: rgba(0, 0, 0, 0.1);
        --dropdown-hover-bg: #e6e9ef;
    }
    html.theme--catppuccin-frappe {
        --heading-color: #c6d0f5;
        --primary-bg: #303446;
        --icon-color: #c6d0f5;
        --shadow-color: rgba(255, 255, 255, 0.1);
        --dropdown-hover-bg: #51576d;
    }
    html.theme--catppuccin-macchiato {
        --heading-color: #cad3f5;
        --primary-bg: #24273a;
        --icon-color: #cad3f5;
        --shadow-color: rgba(255, 255, 255, 0.1);
        --dropdown-hover-bg: #494d64;
    }
    html.theme--catppuccin-mocha {
        --heading-color: #cad3f5;
        --primary-bg: #1e1e2e;
        --icon-color: #cad3f5;
        --shadow-color: rgba(255, 255, 255, 0.1);
        --dropdown-hover-bg: #45475a;
    }


    /* Main Navigation Bar */
    .ext-navigation {
        font-family: var(--font-family);
        position: fixed;
        height: var(--navbar-height);
        top: 0;
        width: 100%;
        background-color: var(--primary-bg);
        z-index: 1000;
        box-shadow: 0 2px 4px var(--shadow-color);
        display: flex;
        align-items: center;
        padding: 0 1.0625rem;
        transition: transform 0.3s, background-color 0.3s;
    }

    nav.ext-navigation .ext-navbar-logo {
        margin-left: var(--logo-margin-left);
        height: var(--logo-height);
        width: var(--logo-width);
        padding-top: var(--logo-padding-top);
    }
    
    .ext-navbar-title {
        color: var(--heading-color) !important;
        font-size: var(--turing-title-font-size) !important;
        margin-left: var(--title-margin-left);
        text-decoration: none;
        transition: color 0.2s ease;
    }
    
    .ext-navbar-title:hover {
        color: var(--hover-color) !important;
    }

    .ext-nav-links {
        display: flex;
        align-items: center;
        list-style-type: none;
        margin: 0;
        padding: 0;
        flex-grow: 1;
        margin-left: var(--title-nav-spacing);
    }

    .ext-nav-links li:first-child {
        margin-left: 0 !important;
    }

    .ext-nav-links li {
        margin-left: var(--nav-item-margin-left) !important;
    }

    .ext-nav-link {
        color: var(--heading-color) !important;
        text-decoration: none;
        font-size: var(--nav-link-font-size) !important;
        transition: color 0.2s ease;
        cursor: pointer;
    }

    .ext-nav-link:hover,
    .ext-navbar-item-single a:hover,
    .ext-navbar-icons a:hover {
        color: var(--hover-color) !important;
    }

    .ext-navbar-item-single a {
        color: var(--heading-color) !important;
    }
    
    .ext-navbar-icons {
        display: flex;
        align-items: center;
    }

    .ext-navbar-icons a {
        color: var(--icon-color) !important;
        font-size: var(--icon-font-size) !important;
        transition: color 0.2s ease;
        margin-left: var(--icon-margin-left);
    }

    .ext-menu-toggle {
        display: none;
        font-size: 1.5rem;
        color: var(--heading-color);
        cursor: pointer;
    }

    .ext-dropdown {
        display: none;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        padding: var(--dropdown-padding);
        position: absolute;
        top: var(--navbar-height);
        width: 100%;
        left: 0;
        background-color: var(--primary-bg);
        line-height: 1.875rem;
        opacity: 0;
        transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out, background-color 0.3s;
        transform: translateY(-0.625rem);
        box-shadow: 0 4px 6px var(--shadow-color);
    }

    #library-handler::after {
        content: "▼";
        font-size: var(--dropdown-arrow-font-size);
        margin-left: 0.3125rem;
        transition: transform 0.3s ease-in-out;
    }

    #library-handler.open::after {
        content: "▲";
    }

    .ext-dropdown.show {
        display: grid;
        opacity: 1;
        transform: translateY(0);
    }

    .ext-dropdown ul {
        width: var(--dropdown-item-width);
        margin-bottom: 1.25rem;
    }

    .ext-dropdown ul li {
        text-align: left;
        display: flex;
        align-items: center;
    }

    .ext-dropdown ul a li {
        color: var(--item-color);
        width: var(--dropdown-subitem-width);
        border-radius: 3px;
        padding: var(--dropdown-subitem-padding);
        transition: background-color 0.2s ease;
    }

    .ext-dropdown ul a li:hover {
        background-color: var(--dropdown-hover-bg);
    }

    .ext-dropdown-item-heading {
        color: var(--heading-color);
        text-align: center;
    }

    .deprecated-badge {
        background-color: var(--deprecated-bg);
        color: var(--deprecated-text);
        font-size: var(--badge-font-size);
        padding: .1rem;
        border-radius: 3px;
        margin-left: 0.5rem;
        line-height: 1;
    }

    @media (max-width: 966px) {
        .ext-dropdown {
            grid-template-columns: 1fr 1fr 1fr;
        }
    }

    @media (max-width: 768px) {
        .ext-nav-links {
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
            background-color: var(--primary-bg);
            position: absolute;
            top: var(--navbar-height);
            left: 0;
            padding: 0.625rem 0;
            height: auto;
            overflow-y: auto;
            box-shadow: 0 4px 6px var(--shadow-color);
            margin-left: 0;
        }

        .ext-nav-links.show {
            display: flex;
        }

        .ext-nav-links li {
            margin: 0.625rem 0 !important;
            text-align: center;
        }
        
        .ext-menu-toggle {
            display: block;
            margin-left: auto;
        }

        .ext-navigation.hide {
            transform: translateY(calc(-1 * var(--navbar-height)));
        }

        .ext-dropdown {
            position: static;
            display: block;
            opacity: 1;
            transform: none;
            box-shadow: none;
            grid-template-columns: 1fr;
            padding: 0.625rem;
            text-align: center;
        }

        .ext-dropdown ul {
            width: auto;
            display: inline-block;
            margin: 0 auto 0.3125rem;
            text-align: left;
        }
    }
</style>
<nav class="ext-navigation">
    <a href="https://turinglang.org/">
        <img src="https://turinglang.org/assets/images/turing-logo.svg" alt="Turing Logo" class="ext-navbar-logo">
    </a>
    <a class="ext-navbar-title" href="https://turinglang.org/">Turing.jl</a>
    
    <ul class="ext-nav-links">
        <li><a class="ext-nav-link" href="https://turinglang.org/docs/getting-started/">Get Started</a></li>
        <li><a class="ext-nav-link" href="https://turinglang.org/docs/tutorials/">Tutorials</a></li>
        <li><a class="ext-nav-link" href="https://turinglang.org/docs/faq/">FAQ</a></li>
        <li>
            <p class="ext-nav-link" id="library-handler">Libraries</p>
            <div class="ext-dropdown" id="ext-dropdown-items">
                <ul>
                    <li class="ext-dropdown-item-heading">Modelling Languages</li>
                    <a href="https://turinglang.org/DynamicPPL.jl/"><li>DynamicPPL</li></a>
                    <a href="https://turinglang.org/JuliaBUGS.jl/"><li>JuliaBUGS</li></a>
                    <a href="https://turinglang.org/TuringGLM.jl/"><li>TuringGLM</li></a>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading">MCMC</li>
                    <a href="https://turinglang.org/AdvancedHMC.jl/"><li>AdvancedHMC</li></a>
                    <a href="https://turinglang.org/AbstractMCMC.jl/"><li>AbstractMCMC</li></a>
                    <a href="https://github.com/theogf/ThermodynamicIntegration.jl"><li>ThermodynamicIntegration</li></a>
                    <a href="https://turinglang.org/AdvancedPS.jl/"><li>AdvancedPS</li></a>
                    <a href="https://turinglang.org/SliceSampling.jl/"><li>SliceSampling</li></a>
                    <a href="https://turinglang.org/EllipticalSliceSampling.jl/"><li>EllipticalSliceSampling</li></a>
                    <a href="https://turinglang.org/NestedSamplers.jl/"><li>NestedSamplers</li></a>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading">Diagnostics</li>
                    <a href="https://turinglang.org/MCMCChains.jl/"><li>MCMCChains</li></a>
                    <a href="https://turinglang.org/MCMCDiagnosticTools.jl/"><li>MCMCDiagnosticTools</li></a>
                    <a href="https://turinglang.org/ParetoSmooth.jl/"><li>ParetoSmooth</li></a>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading">Gaussian Processes</li>
                    <a href="https://juliagaussianprocesses.github.io/AbstractGPs.jl/"><li>AbstractGPs</li></a>
                    <a href="https://juliagaussianprocesses.github.io/KernelFunctions.jl/"><li>KernelFunctions</li></a>
                    <a href="https://juliagaussianprocesses.github.io/ApproximateGPs.jl/"><li>ApproximateGPs</li></a>
                </ul>
                <ul><li class="ext-dropdown-item-heading ext-navbar-item-single"><a href="https://turinglang.org/Bijectors.jl/">Bijectors</a></li></ul>
                <ul><li class="ext-dropdown-item-heading ext-navbar-item-single"><a href="https://turinglang.org/TuringCallbacks.jl/">TuringCallbacks</a></li></ul>
                <ul><li class="ext-dropdown-item-heading ext-navbar-item-single"><a href="https://turinglang.org/Deprecated/TuringBenchmarking/">TuringBenchmarking</a><span class="deprecated-badge">Deprecated</span></li></ul>
            </div>
        </li>
        <li><a class="ext-nav-link" href="https://turinglang.org/news/">News</a></li>
        <li><a class="ext-nav-link" href="https://turinglang.org/team/">Team</a></li>
    </ul>

    <div class="ext-navbar-icons">
        <a href="https://x.com/TuringLang" aria-label="Turing on X"><i class="fa-brands fa-x-twitter"></i></a>
        <a href="https://discourse.julialang.org/c/domain/probprog/48" aria-label="Turing on Discourse"><i class="fa-brands fa-discourse"></i></a>
        <a href="https://julialang.slack.com/archives/CCYDC34A0" aria-label="Turing on Slack"><i class="fa-brands fa-slack"></i></a>
        <a href="https://github.com/TuringLang/" aria-label="Turing.jl on GitHub"><i class="fa-brands fa-github"></i></a>
    </div>

    <span class="ext-menu-toggle"><i class="fa-solid fa-bars"></i></span>
</nav>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const menuToggle = document.querySelector(".ext-menu-toggle");
        const navLinks = document.querySelector(".ext-nav-links");
        const nav = document.querySelector(".ext-navigation");
        const libraryHandler = document.getElementById("library-handler");
        const dropdownContainer = document.getElementById("ext-dropdown-items");
        let lastScrollY = window.scrollY;

        function closeDropdown() {
            if (dropdownContainer.classList.contains("show")) {
                libraryHandler.classList.remove("open");
                dropdownContainer.classList.remove("show");
                setTimeout(() => {
                    if (!dropdownContainer.classList.contains("show")) {
                        dropdownContainer.style.display = "none";
                    }
                }, 300);
            }
        }

        function openDropdown() {
            dropdownContainer.style.display = "grid";
            libraryHandler.classList.add("open");
            setTimeout(() => {
                dropdownContainer.classList.add("show");
            }, 10);
        }

        function setAppropriateHeight() {
            if (window.innerWidth <= 768) {
                const viewportHeight = window.innerHeight;
                const navHeight = nav.offsetHeight;
                navLinks.style.maxHeight = `${viewportHeight - navHeight}px`;
                navLinks.style.overflowY = "auto";
            } else {
                navLinks.style.maxHeight = "";
                navLinks.style.overflowY = "";
            }
        }

        menuToggle.addEventListener("click", (event) => {
            event.stopPropagation();
            navLinks.classList.toggle("show");
            if (navLinks.classList.contains("show")) {
                setAppropriateHeight();
                closeDropdown();
                dropdownContainer.style.display = "none";
            }
        });

        libraryHandler.addEventListener("click", (event) => {
            event.stopPropagation();
            event.preventDefault();
            if (dropdownContainer.classList.contains("show")) {
                closeDropdown();
            } else {
                openDropdown();
            }
            setAppropriateHeight();
        });

        // Close all menus if a click is registered outside the navigation bar.
        document.addEventListener("click", (event) => {
            if (!nav.contains(event.target)) {
                navLinks.classList.remove("show");
                closeDropdown();
            }
        });

        // Hide navigation bar on scroll down in mobile view.
        window.addEventListener("scroll", () => {
            if (window.innerWidth <= 768) {
                if (window.scrollY > lastScrollY && window.scrollY > nav.offsetHeight){
                    nav.classList.add("hide");
                } else {
                    nav.classList.remove("hide");
                }
                lastScrollY = window.scrollY;
            }
        });

        window.addEventListener("resize", setAppropriateHeight);
    });
</script>
<!-- NAVBAR END -->

<div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaBUGS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../example/">Example</a></li><li><span class="tocitem">Modeling</span><ul><li><a class="tocitem" href="../../two_macros/">Two Macros: <code>@bugs</code> &amp; <code>@model</code></a></li><li><a class="tocitem" href="../../model_macro/"><code>@model</code> Macro</a></li><li><a class="tocitem" href="../../of_design_doc/"><code>of</code> Type System</a></li></ul></li><li><span class="tocitem">API</span><ul><li class="is-active"><a class="tocitem" href>General</a><ul class="internal"><li><a class="tocitem" href="#Model-Definition-and-Compilation"><span>Model Definition and Compilation</span></a></li><li><a class="tocitem" href="#Type-Specifications"><span>Type Specifications</span></a></li></ul></li><li><a class="tocitem" href="../functions/">Functions</a></li><li><a class="tocitem" href="../distributions/">Distributions</a></li></ul></li><li><a class="tocitem" href="../../differences/">Differences from Other BUGS Implementations</a></li><li><a class="tocitem" href="../../pitfalls/">Pitfalls</a></li><li><a class="tocitem" href="../../graph_plotting/">Plotting</a></li><li><a class="tocitem" href="../../R_interface/">R Interface</a></li><li><span class="tocitem">For Developers</span><ul><li><a class="tocitem" href="../../parser/">Parser</a></li><li><a class="tocitem" href="../../source_gen/">Source Code Generation</a></li><li><a class="tocitem" href="../../tricks/">Implementation Tricks</a></li><li><a class="tocitem" href="../../BUGS_notes/">Notes on BUGS Implementations</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>General</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>General</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TuringLang/JuliaBUGS.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/main/JuliaBUGS/docs/src/api/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Model-Definition-and-Compilation"><a class="docs-heading-anchor" href="#Model-Definition-and-Compilation">Model Definition and Compilation</a><a id="Model-Definition-and-Compilation-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Definition-and-Compilation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaBUGS.Parser.@bugs" href="#JuliaBUGS.Parser.@bugs"><code>JuliaBUGS.Parser.@bugs</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@bugs(program::Expr)
@bugs(program::String; replace_period::Bool=true, no_enclosure::Bool=false)</code></pre><p>Constructs a Julia Abstract Syntax Tree (AST) representation of a BUGS program. This macro supports two forms of input: a Julia expression or a string containing the BUGS program code. </p><ul><li>When provided with a string, the macro parses it as a BUGS program, with optional arguments to control parsing behavior.</li><li>When given an expression, it performs syntactic checks to ensure compatibility with BUGS syntax.</li></ul><p><strong>Arguments for String Input</strong></p><p>For the string input variant, the following optional arguments are available:</p><ul><li><code>replace_period::Bool</code>: When set to <code>true</code>, all periods (<code>.</code>) in the BUGS code are replaced. This is enabled by default.</li><li><code>no_enclosure::Bool</code>: When <code>true</code>, the parser does not require the BUGS program to be enclosed within <code>model{ ... }</code> brackets. By default, this is set to <code>false</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/61ed22dcb50501b58ed1a06403c70f3f546ca4ba/JuliaBUGS/src/parser/bugs_macro.jl#L163-L177">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaBUGS.@model" href="#JuliaBUGS.@model"><code>JuliaBUGS.@model</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@model function_definition</code></pre><p>Define a probabilistic model using JuliaBUGS syntax.</p><p>The <code>@model</code> macro transforms a function definition into a model-generating function. When called, this function returns a compiled <code>BUGSModel</code> object that can be used for inference.</p><p><strong>Function Signature</strong></p><p>The macro creates a function with this pattern:</p><pre><code class="language-julia hljs">@model function model_name(
    (; param1, param2, ...)::OptionalOfType,  # Stochastic parameters (first argument)
    constant1, constant2, ...                  # Constants and covariates
)
    # Model body with probabilistic statements using ~
end</code></pre><p>This generates a function <code>model_name</code> that, when called with appropriate arguments, returns a <code>BUGSModel</code> instance.</p><p><strong>Arguments</strong></p><ul><li><strong>First argument</strong>: A named tuple destructuring pattern for stochastic parameters<ul><li>Must use the syntax <code>(; name1, name2, ...)</code></li><li>Can optionally include an <code>of</code> type annotation like <code>(; x, y)::MyOfType</code></li><li>Contains all variables that have probability distributions in the model</li></ul></li><li><strong>Remaining arguments</strong>: Constants, covariates, and structural parameters<ul><li>These are deterministic values that don&#39;t have distributions</li><li>Examples: covariate matrices, sample sizes, fixed hyperparameters</li></ul></li></ul><p><strong>Model Body</strong></p><p>Inside the model body, use the <code>~</code> operator to specify probability distributions:</p><pre><code class="language-julia hljs">y ~ dnorm(mu, tau)     # y follows a normal distribution
theta ~ dgamma(a, b)   # theta follows a gamma distribution</code></pre><p><strong>Returns</strong></p><p>The generated function returns a <code>BUGSModel</code> object when called with appropriate arguments.</p><p><strong>Examples</strong></p><p><strong>Simple Linear Regression</strong></p><pre><code class="language-julia hljs"># Define the model-generating function
@model function regression(
    (; y, beta, sigma),  # y is observed data, beta and sigma are parameters
    X, N                 # X is covariate matrix, N is number of observations
)
    for i in 1:N
        mu[i] = X[i, :] ⋅ beta
        y[i] ~ dnorm(mu[i], sigma)
    end
    beta ~ dnorm(0, 0.001)
    sigma ~ dgamma(0.001, 0.001)
end

# Call the function to create a model instance
model = regression((; y = observed_data), X_matrix, length(observed_data))
# `model` is now a BUGSModel object</code></pre><p><strong>With Type Specification</strong></p><pre><code class="language-julia hljs"># Define parameter structure
RegressionParams = @of(
    y = of(Array, Float64, 100),
    beta = of(Array, Float64, 3),
    sigma = of(Real, 0, nothing)
)

# Define the model-generating function with type annotation
@model function typed_regression(
    (; y, beta, sigma)::RegressionParams,
    X, N
)
    # Model body...
end

# Create a model instance
model = typed_regression((; y = data), X, N)</code></pre><p><strong>Notes</strong></p><ul><li>The macro performs compile-time validation of the model structure</li><li>Type annotations are validated after model compilation</li><li>Only <code>of</code> types created with <code>@of</code> are supported for type annotations</li><li>The first argument must always be a destructuring pattern, not a regular variable</li><li>Each call to the generated function creates a new <code>BUGSModel</code> instance</li></ul><p>See also: <a href="../../two_macros/#@bugs"><code>@bugs</code></a>, <a href="#JuliaBUGS.compile"><code>compile</code></a>, <a href="#JuliaBUGS.of"><code>of</code></a>, <a href="#JuliaBUGS.@of"><code>@of</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/61ed22dcb50501b58ed1a06403c70f3f546ca4ba/JuliaBUGS/src/model_macro.jl#L3-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaBUGS.compile" href="#JuliaBUGS.compile"><code>JuliaBUGS.compile</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compile(model_def, data[, initial_params]; skip_validation=false)</code></pre><p>Compile the model with model definition and data. Optionally, initializations can be provided. If initializations are not provided, values will be sampled from the prior distributions.</p><p>By default, validates that all functions in the model are in the BUGS allowlist (suitable for @bugs macro). Set <code>skip_validation=true</code> to skip validation (for @model macro usage).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/61ed22dcb50501b58ed1a06403c70f3f546ca4ba/JuliaBUGS/src/JuliaBUGS.jl#L241-L249">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaBUGS.Model.initialize!" href="#JuliaBUGS.Model.initialize!"><code>JuliaBUGS.Model.initialize!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">initialize!(model::BUGSModel, initial_params::NamedTuple{&lt;:Any, &lt;:Tuple{Vararg{AllowedValue}}})</code></pre><p>Initialize the model with a NamedTuple of initial values, the values are expected to be in the original space.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/61ed22dcb50501b58ed1a06403c70f3f546ca4ba/JuliaBUGS/src/model/bugsmodel.jl#L320-L324">source</a></section><section><div><pre><code class="language-julia hljs">initialize!(model::BUGSModel, initial_params::AbstractVector)</code></pre><p>Initialize the model with a vector of initial values, the values can be in transformed space if <code>model.transformed</code> is set to true.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/61ed22dcb50501b58ed1a06403c70f3f546ca4ba/JuliaBUGS/src/model/bugsmodel.jl#L360-L364">source</a></section></article><h2 id="Type-Specifications"><a class="docs-heading-anchor" href="#Type-Specifications">Type Specifications</a><a id="Type-Specifications-1"></a><a class="docs-heading-anchor-permalink" href="#Type-Specifications" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaBUGS.of" href="#JuliaBUGS.of"><code>JuliaBUGS.of</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">of(T, args...; constant::Bool=false)</code></pre><p>Create an <code>OfType</code> specification from various inputs.</p><p><strong>Main Methods</strong></p><p><strong>Arrays</strong></p><pre><code class="language-julia hljs">of(Array, dims...)              # Float64 array with given dimensions
of(Array, T, dims...)           # Array with element type T and given dimensions</code></pre><p><strong>Real Numbers</strong></p><pre><code class="language-julia hljs">of(Float64)                     # Unbounded Float64
of(Float64, lower, upper)       # Bounded Float64
of(Float32)                     # Unbounded Float32
of(Float32, lower, upper)       # Bounded Float32
of(Real)                        # Unbounded Real (defaults to Float64)
of(Real, lower, upper)          # Bounded Real (defaults to Float64)</code></pre><p><strong>Integers</strong></p><pre><code class="language-julia hljs">of(Int)                         # Unbounded integer
of(Int, lower, upper)           # Bounded integer</code></pre><p><strong>Named Tuples</strong></p><pre><code class="language-julia hljs">of((;field1=spec1, field2=spec2, ...))  # NamedTuple with typed fields</code></pre><p><strong>From Values (Type Inference)</strong></p><pre><code class="language-julia hljs">of(1.0)                         # Infers of(Float64)
of([1, 2, 3])                   # Infers of(Array, Int, 3)
of((a=1, b=2.0))               # Infers OfNamedTuple</code></pre><p><strong>Arguments</strong></p><ul><li><code>T</code>: Type to create specification for</li><li><code>args...</code>: Type-specific arguments (bounds, dimensions, etc.)</li><li><code>constant</code>: Mark type as constant/hyperparameter (default: false)</li></ul><p><strong>Returns</strong></p><p>An <code>OfType</code> subtype encoding the specification in its type parameters.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Basic types
T1 = of(Float64, 0, 1)          # OfReal{Float64, 0, 1}
T2 = of(Array, 3, 4)            # OfArray{Float64, 2, (3, 4)}
T3 = of(Int; constant=true)     # OfConstantWrapper{OfInt{Nothing, Nothing}}

# With @of macro for cleaner syntax
T4 = @of(
    n = of(Int; constant=true),
    data = of(Array, n, 2)      # Symbolic dimension
)

# Type concretization
T5 = of(T4; n=10)               # Concrete type with n=10</code></pre><p><strong>See also</strong></p><p><a href="#JuliaBUGS.@of"><code>@of</code></a>, <a href="@ref"><code>OfType</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/61ed22dcb50501b58ed1a06403c70f3f546ca4ba/JuliaBUGS/src/of_type.jl#L374-L442">source</a></section><section><div><pre><code class="language-julia hljs">of(model::BUGSModel)</code></pre><p>Extract the <code>of</code> type specification from a compiled <code>BUGSModel</code>.</p><p>This function introspects the model&#39;s evaluation environment to reconstruct the corresponding  <code>of</code> type specification. This is useful for:</p><ul><li>Model introspection and debugging</li><li>Type validation after compilation</li><li>Generic code that needs to work with models without knowing their structure</li><li>Model serialization and deserialization</li></ul><p><strong>Arguments</strong></p><ul><li><code>model::BUGSModel</code>: A compiled BUGS model</li></ul><p><strong>Returns</strong></p><ul><li>An <code>OfNamedTuple</code> type representing the structure of all variables in the model</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Define and compile a model
@model function regression((; y, beta, sigma), X, N)
    # ... model definition ...
end

model = regression((; y = data), X, N)

# Extract the of type from the compiled model
ModelType = of(model)
# ModelType might be: @of(y = of(Array, Float64, 100), beta = of(Array, Float64, 3), sigma = of(Real, 0, nothing))

# Use the extracted type
rand(ModelType)  # Generate random values matching the model structure</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/61ed22dcb50501b58ed1a06403c70f3f546ca4ba/JuliaBUGS/src/of_type.jl#L552-L586">source</a></section><section><div><pre><code class="language-julia hljs">of(::Type{T}, replacements::NamedTuple) where T&lt;:OfType
of(::Type{T}; kwargs...) where T&lt;:OfType
of(::Type{T}, pairs::Pair{Symbol}...) where T&lt;:OfType</code></pre><p>Create a concrete type by resolving symbolic dimensions and removing constants.</p><p>This function takes an <code>OfType</code> with symbolic dimensions or constants and creates a new type with some or all symbols resolved to concrete values. Constants that are provided are removed from the resulting type.</p><p><strong>Arguments</strong></p><ul><li><code>T&lt;:OfType</code>: The type to concretize</li><li><code>replacements</code>: Named tuple or keyword arguments mapping symbols to values</li></ul><p><strong>Returns</strong></p><p>A new <code>OfType</code> with symbols replaced and constants removed.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Define type with symbolic dimensions
T = @of(
    n = of(Int; constant=true),
    data = of(Array, n, 2)
)

# Create concrete type
ConcreteT = of(T; n=10)      # @of(data=of(Array, 10, 2))

# Partial concretization
T2 = @of(
    rows = of(Int; constant=true),
    cols = of(Int; constant=true),
    matrix = of(Array, rows, cols)
)
Partial = of(T2; rows=5)     # @of(cols=of(Int; constant=true), matrix=of(Array, 5, :cols))</code></pre><p><strong>See also</strong></p><p><a href="#JuliaBUGS.of"><code>of</code></a>, <a href="#JuliaBUGS.@of"><code>@of</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/61ed22dcb50501b58ed1a06403c70f3f546ca4ba/JuliaBUGS/src/of_type.jl#L623-L663">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaBUGS.@of" href="#JuliaBUGS.@of"><code>JuliaBUGS.@of</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@of(field1=spec1, field2=spec2, ...)</code></pre><p>Create an <code>OfNamedTuple</code> type with cleaner syntax for field references.</p><p>The <code>@of</code> macro provides a more intuitive syntax for creating named tuple types where fields can reference each other. Field names used in dimensions or bounds are automatically converted to symbolic references.</p><p><strong>Syntax</strong></p><pre><code class="language-julia hljs">@of(
    field_name = of_specification,
    ...
)</code></pre><p><strong>Features</strong></p><ul><li>Direct field references without quoting (e.g., <code>n</code> instead of <code>:n</code>)</li><li>Support for arithmetic expressions in dimensions (e.g., <code>n+1</code>, <code>2*n</code>)</li><li>Automatic conversion to appropriate <code>OfNamedTuple</code> type</li><li>Fields are processed in order, allowing later fields to reference earlier ones</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Basic usage with constants and arrays
T = @of(
    n = of(Int; constant=true),
    mu = of(Real),
    data = of(Array, n, 2)  # &#39;n&#39; automatically converted to symbolic reference
)

# With arithmetic expressions
T = @of(
    n = of(Int; constant=true),
    original = of(Array, n, n),
    padded = of(Array, n+1, n+1),
    doubled = of(Array, 2*n, n)
)

# Nested structures
T = @of(
    dims = @of(
        rows = of(Int; constant=true),
        cols = of(Int; constant=true)
    ),
    matrix = of(Array, dims.rows, dims.cols)
)</code></pre><p><strong>See also</strong></p><p><a href="#JuliaBUGS.of"><code>of</code></a>, <a href="@ref"><code>OfNamedTuple</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/61ed22dcb50501b58ed1a06403c70f3f546ca4ba/JuliaBUGS/src/of_type.jl#L975-L1027">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaBUGS.of-Tuple{JuliaBUGS.Model.BUGSModel}" href="#JuliaBUGS.of-Tuple{JuliaBUGS.Model.BUGSModel}"><code>JuliaBUGS.of</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">of(model::BUGSModel)</code></pre><p>Extract the <code>of</code> type specification from a compiled <code>BUGSModel</code>.</p><p>This function introspects the model&#39;s evaluation environment to reconstruct the corresponding  <code>of</code> type specification. This is useful for:</p><ul><li>Model introspection and debugging</li><li>Type validation after compilation</li><li>Generic code that needs to work with models without knowing their structure</li><li>Model serialization and deserialization</li></ul><p><strong>Arguments</strong></p><ul><li><code>model::BUGSModel</code>: A compiled BUGS model</li></ul><p><strong>Returns</strong></p><ul><li>An <code>OfNamedTuple</code> type representing the structure of all variables in the model</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Define and compile a model
@model function regression((; y, beta, sigma), X, N)
    # ... model definition ...
end

model = regression((; y = data), X, N)

# Extract the of type from the compiled model
ModelType = of(model)
# ModelType might be: @of(y = of(Array, Float64, 100), beta = of(Array, Float64, 3), sigma = of(Real, 0, nothing))

# Use the extracted type
rand(ModelType)  # Generate random values matching the model structure</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/JuliaBUGS.jl/blob/61ed22dcb50501b58ed1a06403c70f3f546ca4ba/JuliaBUGS/src/of_type.jl#L552-L586">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../of_design_doc/">« <code>of</code> Type System</a><a class="docs-footer-nextpage" href="../functions/">Functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 9 September 2025 12:58">Tuesday 9 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
